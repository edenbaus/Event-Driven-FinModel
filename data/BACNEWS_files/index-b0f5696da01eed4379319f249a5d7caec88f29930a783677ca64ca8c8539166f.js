(function(SA,$){var scope=SA.UsingNamespace("SA.Utils");scope.SymbolData=scope.SymbolData||new function(){var retries={},saCache=SA.Data.Cache,$scriptContainer=$("head");var IDENTIFIER_TYPE_SYMBOL="IdentifierType=Symbol";var SECOND=1E3;var MINUTE=60*SECOND;var HOUR=60*MINUTE;var DAY=24*HOUR;var Url={memcache:function(slug){var assetHosts=SA.App.assetHosts,host=assetHosts[slug.charCodeAt(0)%assetHosts.length];return[host,"/memcached2/portfolio_data/",slug.toLowerCase()].join("")},marketDataIndicesCharts:"/market_data/real_time_indices_with_charts",
realTimeIndicesValue:"https://globalindicesrealtime.xignite.com/xglobalindicesrealtime.json/GetRealTimeIndicesValue",xignite:{fundamentals:function(){var assetHost=SA.App.env.dev?"https://stagingseekingalpha.a.ssl.fastly.net":SA.App.assetHost;return assetHost+"/cdn/xignite-factset/xFactSetFundamentals.json/GetFundamentals"},quotes:"https://superquotes.xignite.com/xSuperQuotes.json/GetQuotes",endOfDayQuotes:"https://www.xignite.com/xGlobalHistorical.json/GetEndOfDayQuotes",cashDividendHistory:"https://www.xignite.com/xGlobalHistorical.json/GetCashDividendHistory",
splitHistory:"https://www.xignite.com/xGlobalHistorical.json/GetSplitHistory",globalHistoricalQuotesRange:"https://www.xignite.com/xGlobalHistorical.json/GetGlobalHistoricalQuotesRange",globalHistoricalWeeklyQuotesRange:"https://www.xignite.com/xGlobalHistorical.json/GetGlobalHistoricalWeeklyQuotesRange",globalHistoricalMonthlyQuotesRange:"https://www.xignite.com/xGlobalHistorical.json/GetGlobalHistoricalMonthlyQuotesRange"}};var format={unify:function(value){return value.replace(/[^a-zA-Z0-9]/g,
"_")},toUrl:function(url,params){var params=params.join("&");return[url,"?",params].join("")},toXigniteUrl:function(url,params){params=[IDENTIFIER_TYPE_SYMBOL].concat(params);return this.toUrl(url,params)}};var generateCacheKey=function(params,suffix){var arr=[];for(var k in params)arr.push(params[k]);if(suffix)arr.push(suffix);return arr.join("-")};function runScript(url,notoken){SA.Data.Xignite.getData(url,notoken)}function handleScript(src){var id=src.replace(/^[^a-z]+|[^\w:.-]+/gi,"");var $script=
$('[id="'+id+'"]');if($script.length)$script.remove();$script=$("<script>\x3c/script>").attr({"id":id,"src":src});$scriptContainer.append($script)}this.removeAllScripts=function(){var $allScripts=$scriptContainer.find("script");$allScripts.each(function(){if(/xignite/.test($(this).attr("src")))$(this).remove()})};function oneTimeClb(handler,options){var opt=options||{},clbName=opt.key||"clb";if(!options||opt.unique)clbName+=Math.floor(Math.random()*1E3);clbName=format.unify(clbName);if(!SA.Utils.SymbolData[clbName])SA.Utils.SymbolData[clbName]=
function(response){handler(response);delete SA.Utils.SymbolData[clbName];if(opt.key)saCache.set(opt.key,response,opt.expires||MINUTE)};return"SA.Utils.SymbolData."+clbName}this.getFromSuperQuotes=function(slugs,onSuccess){var clbName=oneTimeClb(function(response){superQuotesHandle(response,onSuccess)});var url=format.toXigniteUrl(Url.xignite.quotes,["Identifiers="+slugs.join(","),"_callback="+clbName]);runScript(url)};function superQuotesHandle(response,clb){if(!response||!clb)return;var res={};for(var i=
0,len=response.length;i<len;i++){var curr=response[i];if(curr.Identifier)res[curr.Identifier.toLowerCase()]=curr}clb(res)}this.getFromGlobalIndicesRealTime=function(slugs,onSuccess){var url=format.toXigniteUrl(Url.realTimeIndicesValue,["Identifiers="+slugs.join(","),"_callback="+oneTimeClb(onSuccess)]);runScript(url)};this.getMainIndicesChart=function(clbDone,clbAlways){$.get(Url.marketDataIndicesCharts).done(clbDone).always(clbAlways)};this.getFromEndOfDayQuotes=function(date,slugs,onSuccess){var clbName=
oneTimeClb(function(response){endOfDayQuotesHandle(response,onSuccess)});var params=["Identifiers="+slugs.join(",").toUpperCase(),"AdjustmentMethod=SplitAndProportionalCashDividend","EndOfDayPriceMethod=LastTrade","AsOfDate="+[date.getMonth()+1,date.getDate(),date.getFullYear()].join("/"),"_fields=Outcome,Message,Delay,Security.Symbol,Date,EndOfDayPrice,LastClose","_callback="+clbName];runScript(format.toXigniteUrl(Url.xignite.endOfDayQuotes,params))};var endOfDayQuotesHandle=function(response,clb){if(!response||
!clb)return;var res={};for(var i=0,len=response.length;i<len;i++)if(response[i].Security)res[response[i].Security.Symbol.toLowerCase()]=response[i];clb(res)};this.getSymbolData=function(slug){var retry=retries[slug];if(retry&&retry[1])clearInterval(retry[1]);if(slug==="")return;handleScript(Url.memcache(slug))};this.getGlobalInfo=function(opt,clb){var fields={profile:["CompanyName","LongBusinessDescription","NumberOfEmployees","CompanyFoundedDate","CEO","Address1","Address2","City","State","Zipcode",
"Country","PhoneNumber","Website","InvestorRelationsEmail"],stockData:["AverageDailyVolumeLast3Months","AverageDailyVolumeLast10Days","ShortInterestShares","PEGRatio","OperatingMargin","PreTaxProfitMargin","RevenuePerShare","GrossIncome","EBITDA","EBITOperatingIncome","NetIncomeAvailableToCommonBasic","EarningsGrowth","CashPerShare","BookValuePerShare","NetOperatingCashFlow"]};runCachedJsonP({key:{name:generateCacheKey(opt,"GlobalInfo"),unique:false},url:Url.xignite.fundamentals(),runJsonP:true,clb:clb,
params:["Identifiers="+opt.slug,"FundamentalTypes="+fields.profile.concat(fields.stockData).join(","),"AsOfDate="+opt.asOfDate,"ReportType=TTM","ExcludeRestated=false","UpdatedSince="]})};this.getFiveYearHistory=function(opt,clb){runCachedJsonP({key:{name:generateCacheKey(opt,"FiveYearHistory"),unique:false},url:Url.xignite.fundamentals(),runJsonP:true,clb:clb,params:["Identifiers="+opt.slug,"FundamentalTypes=DividendYieldFiscal","AsOfDate="+opt.asOfDate,"ReportType=Annual","ExcludeRestated=false",
"UpdatedSince="]})};this.getCashDividendHistory=function(opt,clb){var url=globalHistoricalUrl(Url.xignite.cashDividendHistory,opt,clb);runScript(url)};this.getSplitHistory=function(opt,clb){var url=globalHistoricalUrl(Url.xignite.splitHistory,opt,clb);runScript(url)};this.getGlobalHistoricalQuotesRange=function(opt,clb){var url=globalHistoricalUrl(Url.xignite.globalHistoricalQuotesRange,opt,clb);runScript(url)};this.getFundamentals=function(slug,fields,asOfDate,reportType,clbName){var params=["Identifiers="+
slug,"FundamentalTypes="+fields,"AsOfDate="+asOfDate,"ReportType="+reportType,"_callback="+clbName,"ExcludeRestated=false","UpdatedSince="];runScript(Url.xignite.fundamentals()+"?"+[IDENTIFIER_TYPE_SYMBOL].concat(params).join("&"),true)};this.getGlobalHistoricalWeeklyQuotesRange=function(opt,clb){var url=globalHistoricalUrl(Url.xignite.globalHistoricalWeeklyQuotesRange,opt,clb);runScript(url)};this.getGlobalHistoricalMonthlyQuotesRange=function(opt,clb){var url=globalHistoricalUrl(Url.xignite.globalHistoricalMonthlyQuotesRange,
opt,clb);runScript(url)};var globalHistoricalUrl=function(url,opt,clb){var params=["Identifier="+opt.slug,"AdjustmentMethod="+opt.adjustmentMethod,"StartDate="+opt.startDate,"EndDate="+opt.endDate,"_callback="+oneTimeClb(clb,{unique:true})];return format.toXigniteUrl(url,params)};var runCachedJsonP=function(opt){var data=saCache.get(opt.key.name,true);if(data)opt.clb(data);else{var clbName=oneTimeClb(opt.clb,{key:opt.key.name,unique:opt.key.unique,expires:opt.expires});opt.params.push("_callback="+
clbName);runScript(format.toXigniteUrl(opt.url,opt.params),opt.runJsonP)}}}})(window.SA,window.jQuery);
(function(w,SA){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.SymbolInfo={keyPrefix:"symbolData-",get:function(slug){var key=this.keyPrefix+slug.toLowerCase(),value=SA.Data.Cache.enabled?SA.Data.Cache.get(key,true):w[key];return JSON.parse(value)},set:function(slug,value,expires){var key=this.keyPrefix+slug.toLowerCase(),stringifyValue=JSON.stringify(value);if(SA.Data.Cache.enabled)SA.Data.Cache.set(key,stringifyValue,expires||6E4);else w[key]=stringifyValue}}})(window,window.SA);
(function(){var scope=SA.UsingNamespace("SA.Utils");scope.Formatter={naValue:"-",number:function(num,opt){opt=opt||{};if([null,undefined].indexOf(num)>-1||isNaN(num))return opt.default||this.naValue;var prefix=opt.prefix?[opt.prefix]:[],suffix=opt.suffix?[opt.suffix]:[],decimals=[false,0].indexOf(opt.decimals)>-1?{show:false,count:0}:{show:true,count:opt.decimals||2};if(typeof num==="string")num=parseFloat(num);if(num==Number.NEGATIVE_INFINITY)return"-&#8734";if(num==Number.POSITIVE_INFINITY)return"&#8734";
if(num<0){prefix.unshift("-");num=Math.abs(num)}var preParts=parseFloat(num);if(!opt.withCommas)if(opt.inMillions)if(parseInt(preParts/1E3)>0){preParts=preParts/1E3;suffix.unshift("B")}else suffix.unshift("M");else if(preParts/1E9>=1){preParts=preParts/1E9;suffix.unshift("B")}else if(preParts/1E6>=1){preParts=preParts/1E6;suffix.unshift("M")}else if(opt.limit&&preParts/1E3>=1){preParts=preParts/1E3;suffix.unshift("K")}var parts=preParts.toString().split("."),result=[this.separatorNumber(parts[0])];
if(decimals.show){var afterPoint=preParts.toFixed(decimals.count);result=result.concat([".",afterPoint.split(".")[1]])}if(opt.limit){result=result.join("").substr(0,opt.limit-(prefix.length+suffix.length));if(result.indexOf(".")===result.length-1)result=result.slice(0,result.length-1)}return prefix.concat(result).concat(suffix).join("")},separatorNumber:function(n){while(/(\d+)(\d{3})/.test(n.toString()))n=n.toString().replace(/(\d+)(\d{3})/,"$1,$2");return n},range:function(from,to,opt){return this.number(from,
opt)+" - "+this.number(to,opt)},truncate:function(value,maxLength){if(!value)return"";return value.length>maxLength?value.substr(0,maxLength)+" ...":value},dateTime:function(value,isUtc,showDate){var date=Date.parse(value),dateTime=[];if(date){date=new Date(date);var hr,min;if(isUtc){hr=date.getUTCHours();min=date.getUTCMinutes()}else{hr=date.getHours();min=date.getMinutes()}dateTime=[hr%12?hr%12:12,":",("0"+min).slice(-2)," ",hr>=12&&hr<=23?"PM":"AM"];if(showDate)dateTime=dateTime.concat([" ",this.date(date,
isUtc)])}return dateTime.join("")},date:function(date,isUtc){var month,day,year;if(isUtc){month=date.getUTCMonth();day=date.getUTCDate();year=date.getUTCFullYear()}else{month=date.getMonth();day=date.getDate();year=date.getFullYear()}year=String(year);return[month+1,day,year.substr(year.length-2,2)].join("/")},capitalize:function(str){str=str.toLowerCase();return str.replace(/(\b)([a-zA-Z])/g,function(firstLetter){return firstLetter.toUpperCase()})}}})();
(function(SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.Header=function(){var formatter=SA.Utils.Formatter,$symbolLastTrade=$("#symbol_last_trade"),$symbolChange=$("#symbol_change"),$symbolTradeDate=$("#symbol_trade_date"),$tradeTimeInfoContainer=$("#trade_time_info_container"),tradeInfo={message:"",batsMessage:"Bats BZX Real-Time Price",rtTs:null,extended:null,update:function(data){this.rtTs=data.DateTime;if(data&&data.ExtendedHoursType&&data.ExtendedHoursDateTime)this.extended={type:data.ExtendedHoursType,
time:data.ExtendedHoursDateTime,price:data.ExtendedHoursPrice,change:data.ExtendedHoursChange,percent:data.ExtendedHoursPercentChange};this.message=(data.SourceAPI||"").match(/bats/i)?this.batsMessage:"Data delayed 15 minutes"},infoHtml:function(){var res=[""];if(this.rtTs){res=["<span>",formatter.dateTime(this.rtTs,false,true),"</span>"];if(this.message)res=res.concat(["<span>",this.message,"</span>"]);else res=res.concat("<span>",this.batsMessage,"</span>")}return res.join("")},extendedHtml:function(){var res=
[""];if(tradeInfo.extended){var type=this.extended.type==="PostMarket"?"Post-Market:":"Pre-Market:",changeClass=getClassName(this.extended.change);res=[type,'<span class="trade-value">',formatter.number(this.extended.price,{withCommas:true,prefix:"$"}),"</span>",'<span class="trade-value ',changeClass,'">',formatter.number(this.extended.change),formatter.number(Math.round(this.extended.percent*100)/100,{prefix:" (",suffix:"%)"}),"</span>",formatter.dateTime(this.extended.time)]}return res.join("")},
show:function(){var html=this.infoHtml();if(this.extended){$symbolTradeDate.html("<span>"+formatter.dateTime(this.rtTs,false,true)+"</span>");html=this.extendedHtml()}$tradeTimeInfoContainer.html(html).removeClass("hidden")}};var getClassName=function(value){if(value<0)return"down";if(value>0)return"up";return""};this.updateData=function(data){if(data.Last){$symbolLastTrade.html(formatter.number(data.Last,{withCommas:true,prefix:"$"}));var changeClass=getClassName(data.Change),html=[formatter.number(data.Change,
{withCommas:true}),formatter.number(data.PercentChange,{withCommas:true,prefix:"(",suffix:"%)"})];$symbolChange.removeClass("up down").addClass(changeClass).html(html.join(" "))}tradeInfo.update(data);tradeInfo.show()}}})(window.SA,window.jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.QmChart=function(){var $container,chartRefresher=null,refreshRate=360*1E3;var renderChart=function(scale){clearTimeout(chartRefresher);$container.find(".chart-period.current").removeClass("current");$container.find(".chart-period."+scale).addClass("current");var img=$container.find("#qm-chart-image-link img");img.attr("src",img.data("src").replace("{{scale}}",scale));if(["1d","5d"].indexOf(scale)>-1)chartRefresher=setTimeout(function(){renderChart(scale,
bg,content)},refreshRate);SA.Logger.Mone.event("qm_chart","quote_page",scale)};var init=function(){$container=$("#qm-chart");$container.on("click",".chart-period",function(e){e.preventDefault();renderChart($(this).data("scale"))})};SA.run(init,"init QmChart")}})(window.SA,window.jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.QmChartData=function(opt){var initOpt=opt;var setContent=function(html,success){var $chartData=$("#qm-chart-data");if($chartData.length&&success&&initOpt.isMF)$chartData.addClass("mf")};this.updateData=function(data){if(Date.parse(data.VolumeDate)>Date.parse(data.DateTime))$('.left[data-id="super-quote-volume"]').html("Volume (pre-market):");$('.right[data-id="super-quote-volume"]').html(SA.Utils.Formatter.number(data.Volume,{withCommas:true,
decimals:0}));var highValue=$('.right[data-id="super-quote-52-high"]');var highText=$('.left[data-id="super-quote-52-high"]');if(parseFloat(highValue.html())<data.High){highValue.html(data.High).addClass("up rich-level").attr("title","New high reached");highText.addClass("rich-level")}var lowValue=$('.right[data-id="super-quote-52-low"]');var lowText=$('.left[data-id="super-quote-52-low"]');if(parseFloat(lowValue.html())>data.Low){lowValue.html(data.Low).addClass("down rich-level").attr("title","New low reached");
lowText.addClass("rich-level")}};this.onFail=function(symbol){setContent("<div class='no-data'>No financial data available for <b>"+symbol.toUpperCase()+"</b></div>");SA.Logger.Mone.event("errors","quote_page","symbol_data_timeout",{data:{symbol:symbol}})}}})(window.SA,window.jQuery);
typeof JSON!="object"&&(JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case "string":return quote(a);case "number":return isFinite(a)?
String(a):"null";case "boolean":case "null":return String(a);case "object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,
r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=
function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<
n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify");}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&
(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse");})}(),function(e,t){var n=e.History=e.History||{};if(typeof n.Adapter!="undefined")throw new Error("History.js Adapter has already been loaded...");
n.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=n.Adapter._uid++)},bind:function(e,t,r){var i=n.Adapter.uid(e);n.Adapter.handlers[i]=n.Adapter.handlers[i]||{},n.Adapter.handlers[i][t]=n.Adapter.handlers[i][t]||[],n.Adapter.handlers[i][t].push(r),e["on"+t]=function(e,t){return function(r){n.Adapter.trigger(e,t,r)}}(e,t)},trigger:function(e,t,r){r=r||{};var i=n.Adapter.uid(e),s,o;n.Adapter.handlers[i]=n.Adapter.handlers[i]||{},n.Adapter.handlers[i][t]=n.Adapter.handlers[i][t]||
[];for(s=0,o=n.Adapter.handlers[i][t].length;s<o;++s)n.Adapter.handlers[i][t][s].apply(this,[r])},extractEventData:function(e,n){var r=n&&n[e]||t;return r},onDomLoad:function(t){var n=e.setTimeout(function(){t()},2E3);e.onload=function(){clearTimeout(n),t()}}},typeof n.init!="undefined"&&n.init()}(window),function(e,t){var n=e.document,r=e.setTimeout||r,i=e.clearTimeout||i,s=e.setInterval||s,o=e.History=e.History||{};if(typeof o.initHtml4!="undefined")throw new Error("History.js HTML4 Support has already been loaded...");
o.initHtml4=function(){if(typeof o.initHtml4.initialized!="undefined")return!1;o.initHtml4.initialized=!0,o.enabled=!0,o.savedHashes=[],o.isLastHash=function(e){var t=o.getHashByIndex(),n;return n=e===t,n},o.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),e===t},o.saveHash=function(e){return o.isLastHash(e)?!1:(o.savedHashes.push(e),!0)},o.getHashByIndex=function(e){var t=null;return typeof e=="undefined"?t=o.savedHashes[o.savedHashes.length-
1]:e<0?t=o.savedHashes[o.savedHashes.length+e]:t=o.savedHashes[e],t},o.discardedHashes={},o.discardedStates={},o.discardState=function(e,t,n){var r=o.getHashByState(e),i;return i={discardedState:e,backState:n,forwardState:t},o.discardedStates[r]=i,!0},o.discardHash=function(e,t,n){var r={discardedHash:e,backState:n,forwardState:t};return o.discardedHashes[e]=r,!0},o.discardedState=function(e){var t=o.getHashByState(e),n;return n=o.discardedStates[t]||!1,n},o.discardedHash=function(e){var t=o.discardedHashes[e]||
!1;return t},o.recycleState=function(e){var t=o.getHashByState(e);return o.discardedState(e)&&delete o.discardedStates[t],!0},o.emulated.hashChange&&(o.hashChangeInit=function(){o.checkerFunction=null;var t="",r,i,u,a,f=Boolean(o.getHash());return o.isInternetExplorer()?(r="historyjs-iframe",i=n.createElement("iframe"),i.setAttribute("id",r),i.setAttribute("src","#"),i.style.display="none",n.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),u="",a=!1,o.checkerFunction=
function(){if(a)return!1;a=!0;var n=o.getHash(),r=o.getHash(i.contentWindow.document);return n!==t?(t=n,r!==n&&(u=r=n,i.contentWindow.document.open(),i.contentWindow.document.close(),i.contentWindow.document.location.hash=o.escapeHash(n)),o.Adapter.trigger(e,"hashchange")):r!==u&&(u=r,f&&r===""?o.back():o.setHash(r,!1)),a=!1,!0}):o.checkerFunction=function(){var n=o.getHash()||"";return n!==t&&(t=n,o.Adapter.trigger(e,"hashchange")),!0},o.intervalList.push(s(o.checkerFunction,o.options.hashChangeInterval)),
!0},o.Adapter.onDomLoad(o.hashChangeInit)),o.emulated.pushState&&(o.onHashChange=function(t){var n=t&&t.newURL||o.getLocationHref(),r=o.getHashByUrl(n),i=null,s=null,u=null,a;return o.isLastHash(r)?(o.busy(!1),!1):(o.doubleCheckComplete(),o.saveHash(r),r&&o.isTraditionalAnchor(r)?(o.Adapter.trigger(e,"anchorchange"),o.busy(!1),!1):(i=o.extractState(o.getFullUrl(r||o.getLocationHref()),!0),o.isLastSavedState(i)?(o.busy(!1),!1):(s=o.getHashByState(i),a=o.discardedState(i),a?(o.getHashByIndex(-2)===
o.getHashByState(a.forwardState)?o.back(!1):o.forward(!1),!1):(o.pushState(i.data,i.title,encodeURI(i.url),!1),!0))))},o.Adapter.bind(e,"hashchange",o.onHashChange),o.pushState=function(t,n,r,i){r=encodeURI(r).replace(/%25/g,"%");if(o.getHashByUrl(r))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(i!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.pushState,args:arguments,queue:i}),!1;o.busy(!0);var s=o.createStateObject(t,n,r),u=o.getHashByState(s),
a=o.getState(!1),f=o.getHashByState(a),l=o.getHash(),c=o.expectedStateId==s.id;return o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),u===f?(o.busy(!1),!1):(o.saveState(s),c||o.Adapter.trigger(e,"statechange"),!o.isHashEqual(u,l)&&!o.isHashEqual(u,o.getShortUrl(o.getLocationHref()))&&o.setHash(u,!1),o.busy(!1),!0)},o.replaceState=function(t,n,r,i){r=encodeURI(r).replace(/%25/g,"%");if(o.getHashByUrl(r))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");
if(i!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.replaceState,args:arguments,queue:i}),!1;o.busy(!0);var s=o.createStateObject(t,n,r),u=o.getHashByState(s),a=o.getState(!1),f=o.getHashByState(a),l=o.getStateByIndex(-2);return o.discardState(a,s,l),u===f?(o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),o.saveState(s),o.Adapter.trigger(e,"statechange"),o.busy(!1)):o.pushState(s.data,s.title,s.url,!1),!0}),o.emulated.pushState&&o.getHash()&&!o.emulated.hashChange&&o.Adapter.onDomLoad(function(){o.Adapter.trigger(e,
"hashchange")})},typeof o.init!="undefined"&&o.init()}(window),function(e,t){var n=e.console||t,r=e.document,i=e.navigator,s=!1,o=e.setTimeout,u=e.clearTimeout,a=e.setInterval,f=e.clearInterval,l=e.JSON,c=e.alert,h=e.History=e.History||{},p=e.history;try{s=e.sessionStorage,s.setItem("TEST","1"),s.removeItem("TEST")}catch(d){s=!1}l.stringify=l.stringify||l.encode,l.parse=l.parse||l.decode;if(typeof h.init!="undefined")throw new Error("History.js Core has already been loaded...");h.init=function(e){return typeof h.Adapter==
"undefined"?!1:(typeof h.initCore!="undefined"&&h.initCore(),typeof h.initHtml4!="undefined"&&h.initHtml4(),!0)},h.initCore=function(d){if(typeof h.initCore.initialized!="undefined")return!1;h.initCore.initialized=!0,h.options=h.options||{},h.options.hashChangeInterval=h.options.hashChangeInterval||100,h.options.safariPollInterval=h.options.safariPollInterval||500,h.options.doubleCheckInterval=h.options.doubleCheckInterval||500,h.options.disableSuid=h.options.disableSuid||!1,h.options.storeInterval=
h.options.storeInterval||1E3,h.options.busyDelay=h.options.busyDelay||250,h.options.debug=h.options.debug||!1,h.options.initialTitle=h.options.initialTitle||r.title,h.options.html4Mode=h.options.html4Mode||!1,h.options.delayInit=h.options.delayInit||!1,h.intervalList=[],h.clearAllIntervals=function(){var e,t=h.intervalList;if(typeof t!="undefined"&&t!==null){for(e=0;e<t.length;e++)f(t[e]);h.intervalList=null}},h.debug=function(){(h.options.debug||!1)&&h.log.apply(h,arguments)},h.log=function(){var e=
typeof n!="undefined"&&typeof n.log!="undefined"&&typeof n.log.apply!="undefined",t=r.getElementById("log"),i,s,o,u,a;e?(u=Array.prototype.slice.call(arguments),i=u.shift(),typeof n.debug!="undefined"?n.debug.apply(n,[i,u]):n.log.apply(n,[i,u])):i="\n"+arguments[0]+"\n";for(s=1,o=arguments.length;s<o;++s){a=arguments[s];if(typeof a=="object"&&typeof l!="undefined")try{a=l.stringify(a)}catch(f){}i+="\n"+a+"\n"}return t?(t.value+=i+"\n-----\n",t.scrollTop=t.scrollHeight-t.clientHeight):e||c(i),!0},
h.getInternetExplorerMajorVersion=function(){var e=h.getInternetExplorerMajorVersion.cached=typeof h.getInternetExplorerMajorVersion.cached!="undefined"?h.getInternetExplorerMajorVersion.cached:function(){var e=3,t=r.createElement("div"),n=t.getElementsByTagName("i");while((t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e")&&n[0]);return e>4?e:!1}();return e},h.isInternetExplorer=function(){var e=h.isInternetExplorer.cached=typeof h.isInternetExplorer.cached!="undefined"?h.isInternetExplorer.cached:
Boolean(h.getInternetExplorerMajorVersion());return e},h.options.html4Mode?h.emulated={pushState:!0,hashChange:!0}:h.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(i.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in r)||h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8)},h.enabled=!h.emulated.pushState,h.bugs={setHash:Boolean(!h.emulated.pushState&&
i.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),safariPoll:Boolean(!h.emulated.pushState&&i.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),ieDoubleCheck:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<7)},h.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},h.cloneObject=function(e){var t,n;return e?
(t=l.stringify(e),n=l.parse(t)):n={},n},h.getRootUrl=function(){var e=r.location.protocol+"//"+(r.location.hostname||r.location.host);if(r.location.port||!1)e+=":"+r.location.port;return e+="/",e},h.getBaseHref=function(){var e=r.getElementsByTagName("base"),t=null,n="";return e.length===1&&(t=e[0],n=t.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},h.getBaseUrl=function(){var e=h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl();return e},h.getPageUrl=function(){var e=h.getState(!1,
!1),t=(e||{}).url||h.getLocationHref(),n;return n=t.replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,n){return/\./.test(e)?e:e+"/"}),n},h.getBasePageUrl=function(){var e=h.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,n){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},h.getFullUrl=function(e,t){var n=e,r=e.substring(0,1);return t=typeof t=="undefined"?!0:t,/[a-z]+\:\/\//.test(e)||(r==="/"?n=h.getRootUrl()+e.replace(/^\/+/,""):r==="#"?n=h.getPageUrl().replace(/#.*/,
"")+e:r==="?"?n=h.getPageUrl().replace(/[\?#].*/,"")+e:t?n=h.getBaseUrl()+e.replace(/^(\.\/)+/,""):n=h.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},h.getShortUrl=function(e){var t=e,n=h.getBaseUrl(),r=h.getRootUrl();return h.emulated.pushState&&(t=t.replace(n,"")),t=t.replace(r,"/"),h.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),t},h.getLocationHref=function(e){return e=e||r,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?
e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:e.URL.indexOf("#")==-1&&e.location.href.indexOf("#")!=-1?e.location.href:e.URL||e.location.href},h.store={},h.idToState=h.idToState||{},h.stateToId=h.stateToId||{},h.urlToId=h.urlToId||{},h.storedStates=h.storedStates||[],h.savedStates=h.savedStates||[],h.normalizeStore=function(){h.store.idToState=h.store.idToState||{},h.store.urlToId=h.store.urlToId||{},h.store.stateToId=h.store.stateToId||
{}},h.getState=function(e,t){typeof e=="undefined"&&(e=!0),typeof t=="undefined"&&(t=!0);var n=h.getLastSavedState();return!n&&t&&(n=h.createStateObject()),e&&(n=h.cloneObject(n),n.url=n.cleanUrl||n.url),n},h.getIdByState=function(e){var t=h.extractId(e.url),n;if(!t){n=h.getStateString(e);if(typeof h.stateToId[n]!="undefined")t=h.stateToId[n];else if(typeof h.store.stateToId[n]!="undefined")t=h.store.stateToId[n];else{for(;;){t=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof h.idToState[t]==
"undefined"&&typeof h.store.idToState[t]=="undefined")break}h.stateToId[n]=t,h.idToState[t]=e}}return t},h.normalizeState=function(e){var t,n;if(!e||typeof e!="object")e={};if(typeof e.normalized!="undefined")return e;if(!e.data||typeof e.data!="object")e.data={};return t={},t.normalized=!0,t.title=e.title||"",t.url=h.getFullUrl(e.url?e.url:h.getLocationHref()),t.hash=h.getShortUrl(t.url),t.data=h.cloneObject(e.data),t.id=h.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,
n=!h.isEmptyObject(t.data),(t.title||n)&&h.options.disableSuid!==!0&&(t.hash=h.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=h.getFullUrl(t.hash),(h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t},h.createStateObject=function(e,t,n){var r={data:e,title:t,url:n};return r=h.normalizeState(r),r},h.getStateById=function(e){e=String(e);var n=h.idToState[e]||h.store.idToState[e]||t;return n},h.getStateString=
function(e){var t,n,r;return t=h.normalizeState(e),n={data:t.data,title:e.title,url:e.url},r=l.stringify(n),r},h.getStateId=function(e){var t,n;return t=h.normalizeState(e),n=t.id,n},h.getHashByState=function(e){var t,n;return t=h.normalizeState(e),n=t.hash,n},h.extractId=function(e){var t,n,r,i;return e.indexOf("#")!=-1?i=e.split("#")[0]:i=e,n=/(.*)\&_suid=([0-9]+)$/.exec(i),r=n?n[1]||e:e,t=n?String(n[2]||""):"",t||!1},h.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},h.extractState=
function(e,t){var n=null,r,i;return t=t||!1,r=h.extractId(e),r&&(n=h.getStateById(r)),n||(i=h.getFullUrl(e),r=h.getIdByUrl(i)||!1,r&&(n=h.getStateById(r)),!n&&t&&!h.isTraditionalAnchor(e)&&(n=h.createStateObject(null,null,i))),n},h.getIdByUrl=function(e){var n=h.urlToId[e]||h.store.urlToId[e]||t;return n},h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||t},h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||t},h.hasUrlDuplicate=function(e){var t=
!1,n;return n=h.extractState(e.url),t=n&&n.id!==e.id,t},h.storeState=function(e){return h.urlToId[e.url]=e.id,h.storedStates.push(h.cloneObject(e)),e},h.isLastSavedState=function(e){var t=!1,n,r,i;return h.savedStates.length&&(n=e.id,r=h.getLastSavedState(),i=r.id,t=n===i),t},h.saveState=function(e){return h.isLastSavedState(e)?!1:(h.savedStates.push(h.cloneObject(e)),!0)},h.getStateByIndex=function(e){var t=null;return typeof e=="undefined"?t=h.savedStates[h.savedStates.length-1]:e<0?t=h.savedStates[h.savedStates.length+
e]:t=h.savedStates[e],t},h.getCurrentIndex=function(){var e=null;return h.savedStates.length<1?e=0:e=h.savedStates.length-1,e},h.getHash=function(e){var t=h.getLocationHref(e),n;return n=h.getHashByUrl(t),n},h.unescapeHash=function(e){var t=h.normalizeHash(e);return t=decodeURIComponent(t),t},h.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},h.setHash=function(e,t){var n,i;return t!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.setHash,args:arguments,queue:t}),
!1):(h.busy(!0),n=h.extractState(e,!0),n&&!h.emulated.pushState?h.pushState(n.data,n.title,n.url,!1):h.getHash()!==e&&(h.bugs.setHash?(i=h.getPageUrl(),h.pushState(null,null,i+"#"+e,!1)):r.location.hash=e),h)},h.escapeHash=function(t){var n=h.normalizeHash(t);return n=e.encodeURIComponent(n),h.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},h.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=h.unescapeHash(t),
t},h.setTitle=function(e){var t=e.title,n;t||(n=h.getStateByIndex(0),n&&n.url===e.url&&(t=n.title||h.options.initialTitle));try{r.getElementsByTagName("title")[0].innerHTML=t.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(i){}return r.title=t,h},h.queues=[],h.busy=function(e){typeof e!="undefined"?h.busy.flag=e:typeof h.busy.flag=="undefined"&&(h.busy.flag=!1);if(!h.busy.flag){u(h.busy.timeout);var t=function(){var e,n,r;if(h.busy.flag)return;for(e=h.queues.length-1;e>=0;--e){n=
h.queues[e];if(n.length===0)continue;r=n.shift(),h.fireQueueItem(r),h.busy.timeout=o(t,h.options.busyDelay)}};h.busy.timeout=o(t,h.options.busyDelay)}return h.busy.flag},h.busy.flag=!1,h.fireQueueItem=function(e){return e.callback.apply(e.scope||h,e.args||[])},h.pushQueue=function(e){return h.queues[e.queue||0]=h.queues[e.queue||0]||[],h.queues[e.queue||0].push(e),h},h.queue=function(e,t){return typeof e=="function"&&(e={callback:e}),typeof t!="undefined"&&(e.queue=t),h.busy()?h.pushQueue(e):h.fireQueueItem(e),
h},h.clearQueue=function(){return h.busy.flag=!1,h.queues=[],h},h.stateChanged=!1,h.doubleChecker=!1,h.doubleCheckComplete=function(){return h.stateChanged=!0,h.doubleCheckClear(),h},h.doubleCheckClear=function(){return h.doubleChecker&&(u(h.doubleChecker),h.doubleChecker=!1),h},h.doubleCheck=function(e){return h.stateChanged=!1,h.doubleCheckClear(),h.bugs.ieDoubleCheck&&(h.doubleChecker=o(function(){return h.doubleCheckClear(),h.stateChanged||e(),!0},h.options.doubleCheckInterval)),h},h.safariStatePoll=
function(){var t=h.extractState(h.getLocationHref()),n;if(!h.isLastSavedState(t))return n=t,n||(n=h.createStateObject()),h.Adapter.trigger(e,"popstate"),h;return},h.back=function(e){return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.back,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.back(!1)}),p.go(-1),!0)},h.forward=function(e){return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.forward,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.forward(!1)}),
p.go(1),!0)},h.go=function(e,t){var n;if(e>0)for(n=1;n<=e;++n)h.forward(t);else{if(!(e<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=e;--n)h.back(t)}return h};if(h.emulated.pushState){var v=function(){};h.pushState=h.pushState||v,h.replaceState=h.replaceState||v}else h.onPopState=function(t,n){var r=!1,i=!1,s,o;return h.doubleCheckComplete(),s=h.getHash(),s?(o=h.extractState(s||h.getLocationHref(),!0),o?h.replaceState(o.data,o.title,o.url,
!1):(h.Adapter.trigger(e,"anchorchange"),h.busy(!1)),h.expectedStateId=!1,!1):(r=h.Adapter.extractEventData("state",t,n)||!1,r?i=h.getStateById(r):h.expectedStateId?i=h.getStateById(h.expectedStateId):i=h.extractState(h.getLocationHref()),i||(i=h.createStateObject(null,null,h.getLocationHref())),h.expectedStateId=!1,h.isLastSavedState(i)?(h.busy(!1),!1):(h.storeState(i),h.saveState(i),h.setTitle(i),h.Adapter.trigger(e,"statechange"),h.busy(!1),!0))},h.Adapter.bind(e,"popstate",h.onPopState),h.pushState=
function(t,n,r,i){if(h.getHashByUrl(r)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(i!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.pushState,args:arguments,queue:i}),!1;h.busy(!0);var s=h.createStateObject(t,n,r);return h.isLastSavedState(s)?h.busy(!1):(h.storeState(s),h.expectedStateId=s.id,p.pushState(s.id,s.title,s.url),h.Adapter.trigger(e,"popstate")),!0},h.replaceState=function(t,n,r,i){if(h.getHashByUrl(r)&&
h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(i!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.replaceState,args:arguments,queue:i}),!1;h.busy(!0);var s=h.createStateObject(t,n,r);return h.isLastSavedState(s)?h.busy(!1):(h.storeState(s),h.expectedStateId=s.id,p.replaceState(s.id,s.title,s.url),h.Adapter.trigger(e,"popstate")),!0};if(s){try{h.store=l.parse(s.getItem("History.store"))||{}}catch(m){h.store={}}h.normalizeStore()}else h.store=
{},h.normalizeStore();h.Adapter.bind(e,"unload",h.clearAllIntervals),h.saveState(h.storeState(h.extractState(h.getLocationHref(),!0))),s&&(h.onUnload=function(){var e,t,n;try{e=l.parse(s.getItem("History.store"))||{}}catch(r){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in h.idToState){if(!h.idToState.hasOwnProperty(t))continue;e.idToState[t]=h.idToState[t]}for(t in h.urlToId){if(!h.urlToId.hasOwnProperty(t))continue;e.urlToId[t]=h.urlToId[t]}for(t in h.stateToId){if(!h.stateToId.hasOwnProperty(t))continue;
e.stateToId[t]=h.stateToId[t]}h.store=e,h.normalizeStore(),n=l.stringify(e);try{s.setItem("History.store",n)}catch(i){if(i.code!==DOMException.QUOTA_EXCEEDED_ERR)throw i;s.length&&(s.removeItem("History.store"),s.setItem("History.store",n))}},h.intervalList.push(a(h.onUnload,h.options.storeInterval)),h.Adapter.bind(e,"beforeunload",h.onUnload),h.Adapter.bind(e,"unload",h.onUnload));if(!h.emulated.pushState){h.bugs.safariPoll&&h.intervalList.push(a(h.safariStatePoll,h.options.safariPollInterval));
if(i.vendor==="Apple Computer, Inc."||(i.appCodeName||"")==="Mozilla")h.Adapter.bind(e,"hashchange",function(){h.Adapter.trigger(e,"popstate")}),h.getHash()&&h.Adapter.onDomLoad(function(){h.Adapter.trigger(e,"hashchange")})}},(!h.options||!h.options.delayInit)&&h.init()}(window);
(function(w,SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.Ads=function(opt){var ads,$tabContentHeader=$(".tab-content-header"),$contentSection=$("#content_section"),$adsAndTools=$("#ads_and_tools"),fixedBanner160x600="fixed_banner160x600",symbolHeadlineDartSticky="symbol_headline_dart_sticky",ad728x90="ad_728x90";var adsDisabled=function(){return SA.Data.User.isPro()&&SA.Ads&&ads.length};var setup=function(showBottomAd){if(adsDisabled())return;SA.Ads.setCrossDomainCb();var adsToAvoid=
[symbolHeadlineDartSticky,ad728x90];if(w.inLeftMenuAbTest)adsToAvoid.push(fixedBanner160x600);var adSlots=$.grep(ads,function(ad){return adsToAvoid.indexOf(ad.container)===-1});if(showBottomAd)adSlots=adSlots.concat(getAdDefinitionById(ad728x90));defineAds(adSlots);setTimeout(function(){SA.Utils.Scroll.add(loadSymbolHeadlineDartStickyAdByScroll)},1E3);w.googletag.cmd.push(function(){w.googletag.pubads().addEventListener("slotRenderEnded",updateContentSectionHeight)})};var getAdDefinitionById=function(containerId){return $.grep(ads,
function(ad){return ad.container===containerId})};var defineAds=function(adsToDefine){var adsToLoad={};$.each(adsToDefine,function(){adjustAdSlot(this);initSticky(this);adsToLoad[this.container]=this.data});if(!$.isEmptyObject(adsToLoad))SA.Ads.defineAds(adsToLoad)};var adjustAdSlot=function(slot){if(slot.css_class)$("#"+slot.container).addClass(slot.css_class)};var initSticky=function(ad){var env=SA.Utils.Env;if(env.isMobile()||env.isAppleIpad()||w.hasOwnProperty("ontouchstart")&&!env.isChrome())return;
if(ad.sticky){var options={};if(ad.sticky_bottom_spacing)options.bottomSpacing=parseInt(ad.sticky_bottom_spacing);$("#"+ad.container).sticky(options)}};var loadSymbolHeadlineDartStickyAdByScroll=function(){if(SA.Utils.Scroll.isCloseToElement($("#"+symbolHeadlineDartSticky),10)){SA.Utils.Scroll.remove(loadSymbolHeadlineDartStickyAdByScroll);defineAds(getAdDefinitionById(symbolHeadlineDartSticky))}};var updateContentSectionHeight=function(){if(SA.Data.User.isPro())return;var maxHeight=$adsAndTools.outerHeight(true)-
$tabContentHeader.outerHeight(true);$contentSection.css("min-height",maxHeight)};this.refresh=function(showBottomAd){if(adsDisabled())return;if(showBottomAd){SA.Ads.Gpt.refreshAll();if(!SA.Ads.Gpt.getSlot(ad728x90))defineAds(getAdDefinitionById(ad728x90))}else{var slotToDestroy=SA.Ads.Gpt.getSlot(ad728x90);if(slotToDestroy)SA.Ads.Gpt.destroySlots([slotToDestroy]);SA.Ads.Gpt.refreshAll()}};var init=function(){ads=opt.ads||[];setup(opt.showBottomAd)};SA.run(init,"init Symbol Page Ads")}})(window,window.SA,
window.jQuery);
(function(w,doc,SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.IdleTimer=function(opt){var initOpt={idleTimeout:15*60,idleClb:null},second=1E3,idleSecondsTimer=null,idleSecondsCounter=0;var resetInterval=function(startAgain){idleSecondsCounter=0;w.clearInterval(idleSecondsTimer);if(startAgain)idleSecondsTimer=w.setInterval(checkIdleTime,second)};var initTimer=function(){$(doc).on("click mousemove keypress",resetInterval);resetInterval(true)};var checkIdleTime=function(){idleSecondsCounter++;if(idleSecondsCounter>=
initOpt.idleTimeout){if($.isFunction(initOpt.idleClb))initOpt.idleClb();resetInterval(true)}};this.reset=resetInterval;var init=function(){initOpt=$.extend({},initOpt,opt);initTimer()};SA.run(init,"init IdleTimer")}})(window,window.document,window.SA,window.jQuery);
(function(w,SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.MoreLoader=function(){var tabs={"press-release":{selector:".press-releases ul",uri:"/news/more_press_releases"},"other-news":{selector:".other-news ul",uri:"/news/more_other_news"},"news-all":{selector:"ul.market_currents_list",uri:"/news/more_news_all"},"focus":{selector:".symbol_articles_list ul",uri:"/more_focus"},"related":{selector:".symbol_articles_list ul",uri:"/more_related"},"blogs":{selector:"ul.quote_list",uri:"/more_blogs"},
"dividends":{selector:"ul.market_currents_list",uri:"/news/more_dividends"},"m-a":{selector:"ul.market_currents_list",uri:"/news/more_m_a"},"transcripts":{selector:".symbol_articles_list ul",uri:"/earnings/more_transcripts"},"latest":{selector:".symbol_latest_articles ul.more-latest",uri:"/more_latest"}};var $main=$("#main_container.symbol_page");var $moreLoader=$("#more-loader");var currentTabId;var infinityScroll=function(){if(currentTabId){var tab=tabs[currentTabId.replace("sub-menu-","")];if(tab&&
getCurrentPage()!=="no-more"){var last=$("li").last();if(last&&last.length)if(!$moreLoader.data("processing")&&getCurrentPage()!=="no-more"&&SA.Utils.Scroll.isCloseToElement(last,350)){var full_uri=w.symbolUrl+SA.pageConfig.Data.slug.toUpperCase()+tab.uri;loadData(full_uri,getNextPage())}}}};function getCurrentPage(){return SA.Data.Cache.get("symbol-page-cache")}function setCurrentPage(val){SA.Data.Cache.set("symbol-page-cache",val)}var resetPageCache=function(){setCurrentPage(1)};var getNextPage=
function(){if(currentTabId=="latest")return $(".symbol_article").last().attr("time");return parseInt(getCurrentPage()||1,10)+1};var loadData=function(uri,page){page=page||1;if(currentTabId==="latest")if($(".more-latest-ab-test").length)SA.Logger.Mone.event("quote",currentTabId,"load_more",{data:{page:page}});else return;else SA.Logger.Mone.event("quote",currentTabId,"load_more",{data:{page:page}});if(!$(".no_headlines_msg").length){$moreLoader.data("processing",true);toggle(true);$.get(uri,{page:page}).success(function(data){render(data);
if(data.html==="")setCurrentPage("no-more");else setCurrentPage(page)}).done(function(){$moreLoader.data("processing",false);toggle(false)})}};var render=function(data){var tab=tabs[currentTabId];if(tab)$("#content_section").find(tab.selector).first().append(data.html)};var toggle=function(show){show?$main.addClass("show-loader"):$main.removeClass("show-loader")};this.resetPageCache=function(){resetPageCache()};this.toggle=toggle;this.updateTab=function(newId){toggle(false);currentTabId=newId};var init=
function(){$(w).bindWithDelay("scroll",infinityScroll,200,true);resetPageCache()};SA.run(init,"init MoreLoader")}})(window,SA,jQuery);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/video_player"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div id="vdo-player"><iframe class="embed-responsive-item"  src="http://player.theplatform.com/p/gZWlPC/cnbc_global?playertype=seeking_alpha&amp;ssid=cnbc_seeking_alpha_ros_vod&amp;byGuid=',guid,'&amp;autoPlay=true" allowfullscreen="" style="width:',width,"px; height: ",height,'px;" frameborder="0"></iframe></div>\n');return __p.join("")}}).call(this);
(function(w,SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols.News");scope.All=function(){var initLatestTab=function(jsInitData){var researchItems=jsInitData&&jsInitData.author_research_items?jsInitData.author_research_items:null;if(researchItems&&SA.Data.User.loggedIn())$.each(researchItems,function(k,v){if(v.trim())$('.symbol_latest_articles [data-research-pholder-id="'+k+'"]').replaceWith(v.trim())})};var setVideoEvents=function(){$("body").on("click",".video a",function(e){e.preventDefault();
var elem=$(this);SA.Logger.Mone.event("videos","quote_page_menu_latest","clicked",{data:{video_title:elem.attr("title")}});showVideo(elem)})};var showVideo=function(linkElement){SA.Utils.PageRefresher.setActive(false);var opt={className:"vdo-player",headerContent:linkElement.attr("title"),bodyContent:JST["jst/widgets/video_player"]({width:535,height:300,guid:linkElement.data("guid"),title:linkElement.attr("title")}),keyboard:true,backdrop:true,showCloseBtn:true,showBody:true,showFooter:false,removeAfterClose:true,
footerContent:linkElement.data("description"),afterClose:function(){SA.Utils.PageRefresher.setActive(true)}};SA.Widgets.Popup.build(opt).show()};this.init=function(){if(w.latestData)initLatestTab(w.latestData);setVideoEvents()}}})(window,window.SA,window.jQuery);
(function(){this.JST||(this.JST={});this.JST["jst/inline_svg/earnings/pr"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 -16 32 32">\n    <path fill="#111" d="M27.5-8.5v17h-23v-17h23m1-1h-25v19h25v-19z"/>\n    <path d="M6.52-3.41h8.98v6.936H6.52zM16.5-3.41h8.98v.946H16.5zM16.5-.416h8.98V.53H16.5zM16.5 2.58h8.98v.945H16.5zM6.52 5.537h18.96v.946H6.52zM6.52-6.483h18.96v.946H6.52z"/>\n</svg>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/inline_svg/earnings/news"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 -16 32 32">\n    <g fill="none" stroke="#000" stroke-miterlimit="10">\n        <path d="M25.396-8.502L21.5-8.5v-3.52"/>\n        <path d="M20.937-12.5H6.5v25h19V-8.02"/>\n        <path stroke-linejoin="round" d="M20.447-12.5h1.055l3.998 4v.696"/>\n    </g>\n    <path d="M11.043-.006c0 2.83 1.414 5.166 3.3 5.11 2.638-.075 3.413-2.297 3.413-5.128 0-2.827-1.527-5.146-3.413-5.126-2.317.02-3.3 2.32-3.3 5.144zm-2.053 0c.395-6.05 5.145-6.18 5.145-6.18 3.452.02 4.43 3.695 4.43 3.695.058.205 2.055-3.434 2.055-3.434h1.13c-2.317 4.997-2.224 7.032-2.224 7.032-.188 2.695 1.32 3.618 1.32 3.618 1.413.906 1.51-1.735 1.51-1.735.318-.113.508-.223.508-.223.752 3.657-1.51 3.41-1.51 3.41-1.75.19-2.506-2.677-2.506-2.677-2.486 3.282-5.354 2.563-5.354 2.563-4.9-.6-4.504-6.07-4.504-6.07z"/>\n</svg>\n');
return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/inline_svg/earnings/filing"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 -16 32 32">\n    <path fill="#111" d="M27.5-8.5v17h-23v-17h23m1-1h-25v19h25v-19z"/>\n    <path d="M6.08 1.196l1.407-.136c.084.472.256.818.515 1.04s.607.332 1.047.332c.465 0 .816-.1 1.052-.295s.354-.427.354-.69c0-.17-.05-.314-.15-.433s-.27-.222-.52-.31C9.616.644 9.23.54 8.63.39 7.854.2 7.31-.036 7-.316c-.44-.394-.66-.874-.66-1.44 0-.365.104-.706.31-1.023s.504-.56.893-.726.858-.25 1.408-.25c.9 0 1.576.198 2.03.592s.692.92.716 1.577l-1.445.063c-.06-.368-.194-.632-.397-.793s-.51-.242-.915-.242c-.42 0-.75.087-.987.26-.152.11-.23.26-.23.445 0 .17.073.314.216.435.182.153.625.312 1.33.48.702.165 1.222.337 1.56.514s.6.42.79.728.286.688.286 1.14c0 .41-.114.794-.342 1.152-.23.358-.55.624-.967.798-.417.174-.937.26-1.558.26-.905 0-1.6-.208-2.085-.626s-.775-1.03-.87-1.83zM13.116 3.525v-7.158h5.31v1.21H14.56v1.588h3.594V.37h-3.594v1.95h4v1.205h-5.446zM24.366.894l1.402.444c-.215.78-.572 1.36-1.072 1.74s-1.134.57-1.902.57c-.95 0-1.73-.325-2.344-.974-.61-.65-.918-1.537-.918-2.664 0-1.19.31-2.117.924-2.776s1.424-.99 2.426-.99c.876 0 1.588.26 2.135.777.325.307.57.747.732 1.32l-1.433.34c-.084-.37-.26-.663-.53-.878s-.594-.322-.977-.322c-.53 0-.96.19-1.292.57s-.495 1-.495 1.852c0 .905.162 1.55.488 1.934.326.384.75.576 1.27.576.385 0 .715-.122.99-.366.278-.244.476-.63.596-1.152z"/>\n</svg>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/inline_svg/earnings/slides"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 -16 32 32">\n    <path fill="none" stroke="#000" stroke-miterlimit="10" d="M25.5 6.5h3v-16h-25v2.66"/>\n    <path fill="none" stroke="#000" stroke-miterlimit="10" d="M28.5 3.5h3v-16h-25v2.66"/>\n    <path fill="none" stroke="#000" stroke-miterlimit="10" d="M.5-6.5h25v19H.5z"/>\n    <path d="M16.682 3.435L13 5.56 9.318 7.686V-.816L13 1.31"/>\n</svg>\n');
return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/inline_svg/earnings/transcript"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 -16 32 32">\n    <path d="M22.52 3.716c-2.047 2.047-2.047 4.093-4.094 4.093-2.048 0-4.096-2.047-6.144-4.094C10.236 1.67 8.188-.38 8.188-2.427c0-2.047 2.048-2.047 4.094-4.094 2.048-2.05-4.094-8.19-6.142-8.19C4.095-14.71 0-8.568 0-8.568 0-4.473 4.208 3.828 8.19 7.81 12.17 11.793 20.473 16 24.566 16c0 0 6.143-4.095 6.143-6.143s-6.143-8.188-8.19-6.14zM17.67-11.164s3.357 1.313 5.71 3.668l.048.048c2.376 2.375 3.732 5.774 3.732 5.774L25.867-.38s-1.378-3.423-3.764-5.81c-2.357-2.36-5.725-3.684-5.725-3.684l1.293-1.29z"/>\n    <path d="M18.816-15.56s4.58 1.794 7.792 5.006c.02.023.042.043.065.066 3.238 3.24 5.092 7.876 5.092 7.876L30-.85s-1.88-4.665-5.134-7.92c-3.217-3.218-7.812-5.027-7.812-5.027l1.762-1.762z"/>\n</svg>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/inline_svg/earnings/analysis"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 -16 32 32">\n    <g fill="none" stroke="#000" stroke-miterlimit="10">\n        <path d="M22.5-9.5v-3h-16v25h2.66"/>\n        <path d="M19.5-12.5v-3h-16v25h2.66"/>\n        <path d="M9.5-9.5h19v25h-19z"/>\n    </g>\n    <path d="M11.5-6.94h14.98V-3H11.5zM11.5-1h14.98V.004H11.5zM11.5 2h14.98v1.004H11.5zM11.5 5h14.98v1.004H11.5zM11.5 8h14.98v1.004H11.5zM11.5 11h14.98v1.004H11.5z"/>\n</svg>\n');
return __p.join("")}}).call(this);(function(){this.JST||(this.JST={});this.JST["jst/widgets/symbols/summaries"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("<ul>\n  ");var i,item,key;for(i=0;i<hash.length;i++){item=hash[i];key=Object.keys(item)[0];__p.push('\n  <li>\n    <a target="_blank" href="',item[key].link,'" class="transcript-link" data-id="',earningId,'" data-name="',item[key].name,'">\n      ',icons[key],"\n      <em>",item[key].name,"</em>\n    </a>\n  </li>\n  ")}__p.push("\n</ul>\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/symbols/news"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("");if(news.length){__p.push('\n<div class="title">News</div>\n<ul>\n  ');jQuery.each(news,function(){__p.push('\n  <li>\n    <div class="news-pic"></div>\n    <a target="_blank" href=\'',this.url,"'>\n      ",this.title,'\n    </a>\n    <div class="sub_title">\n      <span>',this.author,'</span>\n      <span class="bullet">&bull;</span>\n      <span>',
this.publish_on,'</span>\n      <span class="bullet">&bull;</span>\n      <span>',this.comments_count,"</span>\n    </div>\n  </li>\n  ")});__p.push("\n</ul>\n")}__p.push("\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/symbols/articles"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("");if(articles.length){__p.push('\n<div class="title">Articles</div>\n<ul>\n  ');jQuery.each(articles,function(){__p.push('\n  <li>\n    <div class="pic">\n      <a class="small_picture mt2" href=\'/author/',this.author.tag,"'>\n        <img src=\"",this.author_pic,'"/>\n      </a>\n    </div>\n    <a target="_blank" href=\'',
this.url,"'>\n      ",this.title,'\n    </a>\n    <div class="sub_title">\n      <a href=\'/author/',this.author.tag,"'>",this.author.name,'</a>\n      <span class="bullet">&bull;</span>\n      <span>',this.publish_on,'</span>\n      <span class="bullet">&bull;</span>\n      <span>',this.comments_count,"</span>\n    </div>\n  </li>\n  ")});__p.push("\n</ul>\n")}__p.push("\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/symbols/no_data"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="info no-data clearfix">\n  <span>No data available for this section</span>\n</div>\n');return __p.join("")}}).call(this);
(function(w,SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols.Earnings");scope.Summaries=function(){var container=".earnings-summary";var initEvents=function(){$("body").on("show.bs.collapse",container+" .panel-group",function(e){var self=$('[aria-controls="'+e.target.id+'"]');self.find(".sa-chevron").addClass("bottom");if(!self.data("loaded")){getEarningData(self.data("id"));self.data("loaded",true)}SA.Logger.Mone.event("opened","earnings_quarter_submenu","",{data:{quarter:self.find(".title-period").html()}})}).on("hide.bs.collapse",
container+" .panel-group",function(e){var self=$("[aria-controls='"+e.target.id+"']");self.find(".sa-chevron").removeClass("bottom");SA.Logger.Mone.event("closed","earnings_quarter_submenu","",{data:{quarter:self.find(".title-period").html()}})}).on("click",".transcript-link",function(){var self=$(this),quarter=$('[aria-controls="collapse'+self.data("id")+'"] .title-period').html();SA.Logger.Mone.event("click","earnings_widget","subheader",{data:{quarter:quarter,name:self.data("name")}})})};var getEarningData=
function(earningId){$.get("/symbol/earning_data",{earning_id:earningId}).done(function(res){renderSummaries(res.summaries,earningId);renderNews(res.news,earningId);renderArticles(res.articles,earningId)})};var renderArticles=function(articles,key){$("#collapse"+key+" .articles").html(JST["jst/widgets/symbols/articles"]({articles:articles}))};var renderNews=function(news,key){$("#collapse"+key+" .news").html(JST["jst/widgets/symbols/news"]({news:news}))};this.renderTranscripts=function(html){$(".symbol_articles_list").append(html)};
var renderSummaries=function(summaries,key){$("#collapse"+key+" .summaries").html(JST["jst/widgets/symbols/summaries"]({earningId:key,hash:summaries[key],icons:{slides:JST["jst/inline_svg/earnings/slides"](),filing:JST["jst/inline_svg/earnings/filing"](),press_release:JST["jst/inline_svg/earnings/pr"](),analysis:JST["jst/inline_svg/earnings/analysis"](),news:JST["jst/inline_svg/earnings/news"](),transcript:JST["jst/inline_svg/earnings/transcript"]()}}))};this.showContent=function(){var dataContainer=
$(container+" .data-container"),summaries=dataContainer.data("summaries"),key=Object.keys(summaries)[0];renderSummaries(summaries,key);renderNews(dataContainer.data("news"),key);renderArticles(dataContainer.data("articles")||[],key);dataContainer.remove();$(".collapse").first().collapse()};this.init=function(){initEvents()}}})(window,SA,jQuery);
(function(w,SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols.Earnings");scope.Transcripts=function(){var infinityScroll=function(){var $moreLoader=$(".more-loader"),$last=$("li").last();if($last.length)if(!$moreLoader.data("processing")&&!$moreLoader.data("no-more")){$moreLoader.show();if(SA.Utils.Scroll.isCloseToElement($last,350)&&!$moreLoader.data("processing")){$moreLoader.data("processing",true);var page=($moreLoader.data("page")||1)+1;$moreLoader.data("processing",false)}}};var initUserPreferenceForTranscriptView=
function(){$("body").on("click",".symbol_articles_list .symbol_article a",function(){if(SA.Data.Cache.get("transcripts_single_page_view")==="true")this.href+="?part=single"})};this.init=function(){$(w).bindWithDelay("scroll",infinityScroll,200,true);initUserPreferenceForTranscriptView()}}})(window,SA,jQuery);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/overview/profile"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("");var len={desc:300,trunc:30};__p.push('\n\n<h4>Company Profile</h4>\n<div class="info">\n  <div class="about">\n    ');if(!data.description)__p.push("\n    Currently, there's no company description for ",slugData.name.toUpperCase(),".\n    ");else if(slugData.is_etf)__p.push("\n    ",data.description,"\n    ");
else if(data.description.length<=len.desc)__p.push("\n    ",data.description,"\n    ");else __p.push("\n    ",data.description.substring(0,len.desc),'<em>...</em><a class="about-more" href="#" data-rest-desc="',data.description.substring(len.desc,data.description.length),'">More</a>\n    ');__p.push("\n    ");if(slugData.is_etf&&slugData.etf_tag_extra&&slugData.etf_tag_extra.url)__p.push('\n    <a href="',slugData.etf_tag_extra.url,'" target="_blank" sasource="description_link">See more details on\n      sponsor\'s website</a>\n    ');
__p.push('\n  </div>\n  <table class="pull-left">\n    <tr>\n      <td>Sector</td>\n      <td>\n        ');if(slugData.sector&&slugData.sector.articles_uri&&slugData.sector.name)__p.push('\n        <a href="',slugData.sector.articles_uri,'" sasource="qp_company_description">',slugData.sector.name,"</a>\n        ");else __p.push("\n        -\n        ");__p.push('\n      </td>\n    </tr>\n    <tr>\n      <td>Industry</td>\n      <td class="long">\n        ');if(slugData.industry&&slugData.industry.name)__p.push("\n        ",
slugData.industry.name,"\n        ");else __p.push("\n        -\n        ");__p.push('\n    </tr>\n    <tr title="',titles["profileNumberOfEmployees"],'">\n      <td>Employees</td>\n      <td>',format.number(data.NumberOfEmployees,{decimals:0}),'</td>\n    </tr>\n    <tr title="',titles["profileCompanyFoundedDate"],'">\n      <td>Founded</td>\n      <td>',data.CompanyFoundedDate,'</td>\n    </tr>\n    <tr title="',titles["profileCEO"],'">\n      <td>CEO</td>\n      <td>',data.CEO,'</td>\n    </tr>\n  </table>\n  <table class="pull-right">\n    <tr class="address" title="',
[titles["profileAddress"]+":"].concat(data.fullAddress).join("\n"),'">\n      <td>\n        Address\n        ');if(data.addressLine1||data.addressLine2||data.addressLine3)__p.push('\n        <br>\n        (<a href="https://www.google.com/maps?q=',data.fullAddress.join(", "),'" target="_blank">view map</a>)\n        ');__p.push("\n      </td>\n      <td>\n        ",[format.truncate(data.addressLine1,len.trunc),data.addressLine2,data.addressLine3].join("<br>"),'\n      </td>\n    </tr>\n    <tr title="',
titles["profilePhoneNumber"],'">\n      <td>Phone Number</td>\n      <td>',data.phoneNumber,'</td>\n    </tr>\n    <tr class="website" title="',titles["profileWebsite"],'">\n      <td>Website</td>\n      <td>\n        ');if(data.website)__p.push('\n        <a href="',data.website,'" target="_blank" title="',data.website,'">',format.truncate(data.website,len.trunc),"</a>\n        ");else __p.push("\n        -\n        ");__p.push('\n      </td>\n    </tr>\n    <tr class="email" title="',titles["profileEmail"],
'">\n      <td>Email</td>\n      <td>\n        ');if(data.email)__p.push('\n        <a href="mailto:',data.email,'" title="',data.email,'">',format.truncate(data.email,len.trunc),"</a>\n        ");else __p.push("\n        -\n        ");__p.push("\n      </td>\n    </tr>\n  </table>\n</div>\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/overview/profile_fund"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push('<h4>Fund Profile</h4>\n<div class="info">\n  <div class="about">\n    ');if(!slugData.description)__p.push("\n    Currently, there's no fund description for ",slugData.name.toUpperCase(),".\n    ");else __p.push("\n    ",slugData.description,"\n    ");__p.push("\n  </div>\n</div>\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/overview/trading_data"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h4>Trading Data</h4>\n<div class="info">\n  <table class="pull-left">\n    <tr title="',titles["tradingTodaysVolume"],'">\n      <td>Today\'s Volume</td>\n      <td id="tradingTodaysVolume">',data.trading.TodaysVolume,'</td>\n    <tr title="',titles["tradingAverageVolumeLast3Month"],'">\n      <td>Average Volume (3 month)</td>\n      <td>',
format.number(data.AverageDailyVolumeLast3Months,{withCommas:true,decimals:0}),'</td>\n    </tr>\n    <tr title="',titles["tradingAverageVolumeLast10Days"],'">\n      <td>Average Volume (10 days)</td>\n      <td>',format.number(data.AverageDailyVolumeLast10Days,{withCommas:true,decimals:0}),'</td>\n    </tr>\n    <tr title="',titles["tradingPrevClose"],'">\n      <td>Previous Close</td>\n      <td id="tradingPrevClose">',data.trading.PrevClose,'</td>\n    </tr>\n    <tr title="',titles["tradingOpen"],
'">\n      <td>Open</td>\n      <td id="tradingOpen">',data.trading.Open,'</td>\n    </tr>\n    <tr title="',titles["tradingDayRange"],'">\n      <td>Day Range</td>\n      <td id="tradingDayRange">',data.trading.DayRange,'</td>\n    </tr>\n  </table>\n  <table class="pull-right">\n    <tr title="',titles["trading52WeekRange"],'">\n      <td>52 Week Range</td>\n      <td id="trading52WeekRange">',data.trading._52WeekRange,'</td>\n    </tr>\n    <tr title="',titles["trading52WeekPerformance"],'">\n      <td>52 Week Performance</td>\n      <td id="trading52WeekPerformance">',
data.trading._52WeekPerformance,'</td>\n    </tr>\n    <tr title="',titles["trading36mBeta"],'">\n      <td>36M Beta</td>\n      <td id="trading36mBeta">',data.trading._36mBeta,'</td>\n    </tr>\n    <tr title="',titles["trading60mBeta"],'">\n      <td>60M Beta</td>\n      <td id="trading60mBeta">',data.trading._60mBeta,'</td>\n    </tr>\n    <tr title="',titles["trading50dMovingAverage"],'">\n      <td>50 Day Moving Average</td>\n      <td id="trading50dMovingAverage">',data.trading._50dMovingAverage,
'</td>\n    </tr>\n    <tr title="',titles["trading200dMovingAverage"],'">\n      <td>200 Day Moving Average</td>\n      <td id="trading200dMovingAverage">',data.trading._200dMovingAverage,"</td>\n    </tr>\n  </table>\n</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/overview/share_statistics"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h4>Share Statistics</h4>\n<div class="info">\n  <table class="pull-left">\n    <tr title="',titles["shareStatsShareOutstanding"],'">\n      <td>Shares Outstanding</td>\n      <td id="shareStatsShareOutstanding">',data.shareStats.ShareOutstanding,'</td>\n    </tr>\n    <tr title="',titles["shareStatsShareOutstandingCurrent"],
'">\n      <td>Shares Outstanding Current</td>\n      <td id="shareStatsShareOutstandingCurrent">',data.shareStats.ShareOutstandingCurrent,'</td>\n    </tr>\n    <tr title="',titles["shareStatsFloatCurrent"],'">\n      <td>Float Current</td>\n      <td id="shareStatsFloatCurrent">',data.shareStats.FloatCurrent,'</td>\n    </tr>\n    <tr title="',titles["shareStatsHeldInsiders"],'">\n      <td>% Held by Insiders</td>\n      <td id="shareStatsHeldInsiders">',data.shareStats.HeldInsiders,'</td>\n    </tr>\n  </table>\n  <table class="pull-right">\n    <tr title="',
titles["shareStatsHeldInstitutions"],'">\n      <td>% Held by Institutions</td>\n      <td id="shareStatsHeldInstitutions">',data.shareStats.HeldInstitutions,'</td>\n    </tr>\n    <tr title="',titles["shareStatsSharesShort"],'">\n      <td>Shares Short</td>\n      <td>',format.number(data.ShortInterestShares,{inMillions:true}),'</td>\n    </tr>\n    <tr title="',titles["shareStatsShortRatio"],'">\n      <td>Short Ratio</td>\n      <td id="shareStatsShortRatio">',data.shareStats.ShortRatio,'</td>\n    </tr>\n    <tr title="',
titles["shareStatsShortOfFloat"],'">\n      <td>Short % of Float</td>\n      <td id="shareStatsShortOfFloat">',data.shareStats.ShortOfFloat,"</td>\n    </tr>\n  </table>\n</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/overview/valuation"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h4>Valuation</h4>\n<div class="info">\n  <table class="pull-left">\n    <tr title="',titles["valuationMarketCap"],'">\n      <td>Market Cap</td>\n      <td id="valuationMarketCap">',data.valuation.MarketCap,'</td>\n    </tr>\n    <tr title="',titles["valuationEnterpriseValue"],'">\n      <td>Enterprise Value</td>\n      <td id="valuationEnterpriseValue">',
data.valuation.EnterpriseValue,'</td>\n    </tr>\n    <tr title="',titles["valuationPERatio"],'">\n      <td>PE Ratio</td>\n      <td id="valuationPERatio">',data.valuation.PERatio,'</td>\n    </tr>\n    <tr>\n      <td title="',titles["valuationPEGRatio"],'">PEG Ratio</td>\n      <td>',format.number(data.PEGRatio),'</td>\n    </tr>\n    <tr title="',titles["valuationPriceSales"],'">\n      <td>Price/Sales</td>\n      <td id="valuationPriceSales">',data.valuation.PriceSales,'</td>\n    </tr>\n  </table>\n  <table class="pull-right">\n    <tr title="',
titles["valuationPriceBook"],'">\n      <td>Price/Book</td>\n      <td id="valuationPriceBook">',data.valuation.PriceBook,'</td>\n    </tr>\n    <tr title="',titles["valuationPriceTangibleBook"],'">\n      <td>Price/Tangible Book</td>\n      <td id="valuationPriceTangibleBook">',data.valuation.PriceTangibleBook,'</td>\n    </tr>\n    <tr title="',titles["valuationPriceCashFlow"],'">\n      <td>Price/Cash Flow</td>\n      <td id="valuationPriceCashFlow">',data.valuation.PriceCashFlow,'</td>\n    </tr>\n    <tr title="',
titles["valuationEnterpriseValueSales"],'">\n      <td>Enterprise Value/Sales</td>\n      <td id="valuationEnterpriseValueSales">',data.valuation.EnterpriseValueSales,'</td>\n    </tr>\n    <tr title="',titles["valuationEnterpriseValueEbitda"],'">\n      <td>Enterprise Value/EBITDA</td>\n      <td id="valuationEnterpriseValueEbitda">',data.valuation.EnterpriseValueEbitda,"</td>\n    </tr>\n  </table>\n</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/overview/profitability"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h4>Profitability</h4>\n<div class="info">\n  <table class="pull-left">\n    <tr title="',titles["profitabilityGrossMargin"],'">\n      <td>Gross Profit Margin</td>\n      <td id="profitabilityGrossMargin">',data.profitability.GrossMargin,'</td>\n    </tr>\n    <tr title="',titles["profitabilityOperatingMargin"],
'">\n      <td>Operating Margin</td>\n      <td>',format.number(data.OperatingMargin,{suffix:"%"}),'</td>\n    </tr>\n    <tr title="',titles["profitabilityPreTaxProfitMargin"],'">\n      <td>Pretax Margin</td>\n      <td>',format.number(data.PreTaxProfitMargin,{suffix:"%"}),'</td>\n    </tr>\n  </table>\n  <table class="pull-right">\n    <tr title="',titles["profitabilityRoa"],'">\n      <td>Return on Assets</td>\n      <td id="profitabilityRoa">',data.profitability.Roa,'</td>\n    </tr>\n    <tr title="',
titles["profitabilityRoe"],'">\n      <td>Return on Equity</td>\n      <td id="profitabilityRoe">',data.profitability.Roe,'</td>\n    </tr>\n    <tr title="',titles["profitability-rta"],'">\n      <td>Asset Turnover Ratio</td>\n      <td id="profitabilityRta">',data.profitability.Rta,"</td>\n    </tr>\n  </table>\n</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/overview/income_statement"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h4>Income Statement</h4>\n<div class="info">\n  <table class="pull-left">\n    <tr title="',titles["incomeStatementRevenue"],'">\n      <td>Revenue</td>\n      <td id="incomeStatementRevenue">',data.incomeStatement.Revenue,'</td>\n    </tr>\n    <tr title="',titles["incomeStatementRevenueGrowth"],'">\n      <td>Revenue Growth</td>\n      <td id="incomeStatementRevenueGrowth">',
data.incomeStatement.RevenueGrowth,'</td>\n    </tr>\n    <tr title="',titles["incomeStatementNetIncome"],'">\n      <td>Net Income</td>\n      <td id="incomeStatementNetIncome">',data.incomeStatement.NetIncome,"</td>\n    </tr>\n    <tr>\n      <td>Revenue Per Share</td>\n      <td>",format.number(data.RevenuePerShare),"</td>\n    </tr>\n    <tr>\n      <td>Gross Profit</td>\n      <td>",format.number(data.GrossIncome,{inMillions:true}),'</td>\n    </tr>\n  </table>\n  <table class="pull-right">\n    <tr>\n      <td>EBITDA</td>\n      <td>',
format.number(data.EBITDA,{inMillions:true}),"</td>\n    </tr>\n    <tr>\n      <td>Operating Income</td>\n      <td>",format.number(data.EBITOperatingIncome,{inMillions:true}),"</td>\n    </tr>\n    <tr>\n      <td>Net Income Avail. to Comm.</td>\n      <td>",format.number(data.NetIncomeAvailableToCommonBasic,{inMillions:true}),'</td>\n    </tr>\n    <tr title="',titles["incomeStatementEps"],'">\n      <td>EPS</td>\n      <td id="incomeStatementEps">',data.incomeStatement.Eps,"</td>\n    </tr>\n    <tr>\n      <td>Earnings Growth</td>\n      <td>",
format.number(data.EarningsGrowth,{suffix:"%"}),"</td>\n    </tr>\n  </table>\n</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/overview/balance_sheet"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h4>Balance Sheet</h4>\n<div class="info">\n  <table class="pull-left">\n    <tr title="',titles["balanceSheetCashEquivalents"],'">\n      <td>Total Cash</td>\n      <td id="balanceSheetCashEquivalents">',data.balanceSheet.CashEquivalents,"</td>\n    </tr>\n    <tr>\n      <td>Total Cash Per Share</td>\n      <td>",
format.number(data.CashPerShare),'</td>\n    </tr>\n    <tr title="',titles["balanceSheetTotalDebt"],'">\n      <td>Total Debt</td>\n      <td id="balanceSheetTotalDebt">',data.balanceSheet.TotalDebt,'</td>\n    </tr>\n    <tr title="',titles["balanceSheetTotalDebtEquity"],'">\n      <td>Total Debt to Equity</td>\n      <td id="balanceSheetTotalDebtEquity">',data.balanceSheet.TotalDebtEquity,'</td>\n    </tr>\n    <tr title="',titles["balanceSheetShortDebt"],'">\n      <td>Short Term Debt</td>\n      <td id="balanceSheetShortDebt">',
data.balanceSheet.ShortDebt,'</td>\n    </tr>\n    <tr title="',titles["balanceSheetLongDebt"],'">\n      <td>Long Term Debt</td>\n      <td id="balanceSheetLongDebt">',data.balanceSheet.LongDebt,'</td>\n    </tr>\n  </table>\n  <table class="pull-right">\n    <tr title="',titles["balanceSheetCurrentRatio"],'">\n      <td>Current Ratio</td>\n      <td id="balanceSheetCurrentRatio">',data.balanceSheet.CurrentRatio,'</td>\n    </tr>\n    <tr title="',titles["balanceSheetQuickRatio"],'">\n      <td>Quick Ratio</td>\n      <td id="balanceSheetQuickRatio">',
data.balanceSheet.QuickRatio,'</td>\n    </tr>\n    <tr title="',titles["balanceSheetCoveredRatio"],'">\n      <td>Covered Ratio</td>\n      <td id="balanceSheetCoveredRatio">',data.balanceSheet.CoveredRatio,"</td>\n    </tr>\n    <tr>\n      <td>Book Value Per Share</td>\n      <td>",format.number(data.BookValuePerShare),'</td>\n    </tr>\n    <tr title="',titles["balanceSheetTotalDebtFreeCashFlow"],'">\n      <td>Debt/Free Cash Flow</td>\n      <td id="balanceSheetTotalDebtFreeCashFlow">',data.balanceSheet.TotalDebtFreeCashFlow,
'</td>\n    </tr>\n    <tr title="',titles["balanceSheetLongTermDebtTotalCapital"],'">\n      <td>Long Term Debt/Total Capital</td>\n      <td id="balanceSheetLongTermDebtTotalCapital">',data.balanceSheet.LongTermDebtTotalCapital,"</td>\n    </tr>\n  </table>\n</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/overview/cash_flow_statements"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h4>Cash Flow Statement</h4>\n<div class="info">\n  <table class="pull-left">\n    <tr>\n      <td>Net Operating Cash Flow</td>\n      <td>',format.number(data.NetOperatingCashFlow,{inMillions:true}),'</td>\n    </tr>\n  </table>\n  <table class="pull-right">\n    <tr title="',titles["cashFlowStatementFreeCashFlow"],
'">\n      <td>Free Cash Flow</td>\n      <td id="cashFlowStatementFreeCashFlow">-</td>\n    </tr>\n  </table>\n</div>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/overview/footer"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="info">\n  Data provided by FactSet Fundamentals. To report data issues, please email <a href="mailto:websupport@seekingalpha.com">websupport@seekingalpha.com</a>\n</div>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/no_data"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<h4>",data.header,'</h4>\n<div class="info">\n  <div class="no-data">',data.message,"</div>\n</div>\n");return __p.join("")}}).call(this);
var titles={"profileNumberOfEmployees":"Represents the number of both full- and part-time employees of the company","profileCompanyFoundedDate":"The year the company was founded","profileCEO":"The current Chief Executive Officer of the company","profileAddress":"The current location of the corporate offices","profilePhoneNumber":"The phone number/fax number at which the investor relations officer can be reached","profileWebsite":"Website address from latest report","profileEmail":"The e-mail address of the investor relations contact",
"tradingTodaysVolume":"The volume of trades for the day (all exchanges, 15 minutes delayed)","tradingAverageVolumeLast3Month":"Average daily trading volume during the last 3 months","tradingAverageVolumeLast10Days":"Average daily trading volume during the last 10 days","tradingPrevClose":"The previous market close for the quote","tradingOpen":"The market open for the quote","tradingDayRange":"Day's trading range in $s","trading52WeekRange":"Last 52 weeks trading range in $s","trading52WeekPerformance":"The percentage change in the latest close price of the stock vs. the close price 52 weeks ago",
"trading36mBeta":"The coefficient which measures the volatility of a stock's returns relative to the market (S&P 500). It is based on a 36-month historical regression of the return on the stock onto the return on the S&P 500: Ri = a + b(Rm) + e","trading50dMovingAverage":"50 Day Simple Moving Avg: The sum of the previous 10 weeks of close prices / by the number of trade days in that 10-week period","trading200dMovingAverage":"200 Day Simple Moving Avg: The sum of the previous 200 days of close prices divided by 200",
"shareStatsShareOutstanding":"Represents the number of shares outstanding at the company's year end. It is the difference between issued shares and treasury shares","shareStatsShareOutstandingCurrent":"Represents the number of current shares outstanding at the company's most recent fiscal period end. It is the difference between issued shares and treasury shares","shareStatsFloatCurrent":"The current shares outstanding less closely held shares","shareStatsHeldInsiders":"The % of latest shares outstanding held by insiders of company",
"shareStatsHeldInstitutions":"Total number of shares held by institutions divided by the total number of shares outstanding","shareStatsSharesShort":"The total number of shares of a stock that have been sold short and not yet covered","shareStatsShortRatio":"The short interest shares divided by average daily volume, representing the number of days of average trading needed to cover the shorts","shareStatsShortOfFloat":"The short interest shares divided by float (total number of shares outstanding minus shares held by insiders)",
"valuationMarketCap":"Current Market Price Per Share x Number of Shares Outstanding","valuationEnterpriseValue":"Enterprise value is calculated as market cap plus debt, minority interest and preferred shares, minus total cash and cash equivalents. A measure of a company's value, often used as an alternative to straightforward market capitalization","valuationPERatio":"Price/earnings ratio using trailing twelve months earnings divided into current price","valuationPEGRatio":"The trailing PEG Ratio is the PE Ratio divided by the annual trailing EPS growth rate",
"valuationPriceSales":"Share Price / Revenue Per Share","valuationPriceBook":"Share Price / Total Assets - Intangible Assets and Liabilities (Last Twelve Months)","valuationPriceTangibleBook":"Latest close price / latest tangible book value per share (LTM)","valuationPriceCashFlow":"Share Price / Cash Flow Per Share","valuationEnterpriseValueSales":"Total enterprise value / total revenue","valuationEnterpriseValueEbitda":"Enterprise Value/EBITDA","profitabilityGrossMargin":"Gross Margin: Revenues - cost of goods sold divided by revenue, expressed as a percentage (LTM)",
"profitabilityOperatingMargin":"Calculated as Operating Income divided by Net Sales or Revenue, multiplied by 100 (LTM)","profitabilityPreTaxProfitMargin":"Pretax margin for the last 12 months","profitabilityRoa":"Return on assets - The earnings from total operations (not including extraordinary items) divided by total assets, expressed as a percentage (LTM)","profitabilityRoe":"Return on Equity - The fiscal year earnings from total operations (not including extraordinary items) divided by the common stock equity, expressed as a percentage (ROE)",
"profitabilityRta":"Revenues divided by total assets (TTM).","incomeStatementRevenue":"Total revenue as derived from last 4 quarterly statements","incomeStatementRevenueGrowth":"The difference between the latest Quarter revenue and the revenue same quarter one year ago, expressed as a percentage","incomeStatementNetIncome":"Net income as derived from last 4 quarterly statements","incomeStatementEps":"A reported figure based on the Financial Accounting Standards Board (FASB) Statement 128 issued in 1997. Basic EPS from Total Operations is the bottom line income after all expenses divided by the weighted average number of common shares outstanding",
"balanceSheetCashEquivalents":"Cash & Equivalents + MarketableSecurities (Short term Investments which will be liquidated within one year)","balanceSheetTotalDebt":"Total debt as derived from last annual or quarterly statement","balanceSheetTotalDebtEquity":"Total Debt to Equity = Short-term debt + long-term debt / common stockholders' equity (LTM)","balanceSheetShortDebt":"The amount of borrowings (principal and interest) that must be paid in the near future (usually one year). Typical Accounts: Current portion of long-term debt; Port of long-term debt payable within one year; Current bank notes payable; Current notes payable (non-trade); Short-term debt; Current commercial paper owed; Interim debt",
"balanceSheetLongDebt":"Long Term Debt = Loans and financial obligations lasting over one year","balanceSheetCurrentRatio":"Current Ratio = Total Current Assets / Total Current Liabilities (LTM)","balanceSheetQuickRatio":"Quick Ratio = Cash & equivalents + receivables / current liabilities (LTM)","balanceSheetCoveredRatio":"Covered Ratio - The earnings from continuing operations (before interest and taxes) / interest expense (LTM). Measures a company's ability to meet its obligations satisfactorily",
"balanceSheetTotalDebtFreeCashFlow":"Total debt / Free Cash Flow","balanceSheetLongTermDebtTotalCapital":"The long-term debt / total capital (long-term debt + common stock equity + preferred equity) LTM","cashFlowStatementFreeCashFlow":"Free Cash Flow - Cash from Operations minus Purchase of Plant, Property, and Equipment minus Payment of Cash Dividends, data taken from the latest annual report","dividendsExDate":"Ex-Dividend date","dividendsRate":"If a company's board has committed to dividend payments in the future, the latest reported dividend rate equals the number of times the company pays dividends per year times the latest dividend, expressed in dollars. If a company's board has not committed to dividend payments in the future, the latest reported dividend rate equals the total dividends paid in the past 12 months",
"dividendsYield":"The latest dividend rate (total dividends paid in the past 12 months) / last price","dividendsPayoutRatio":"The current payout (LTM \u2013 Last Twelve Months) div per share / by LTM EPS, expressed as a percentage","dividends3yGrowthRate":'The 3-Year Regression Growth Rate is the compound annual growth rate of the data item. This figure is derived by the least squares method, using six data points--a base year plus 3 subsequent annual data points. Fiscal year-end figures are used for the first 5 data points, with the calculation brought up to date each interim period by time-weighting the first and last points. An "NC" footnote appears for all companies that do not have a positive number for the 3-year period. A 3-year growth rate is not calculated for any company that has an incomplete record of data',
"dividends5yGrowthRate":'The 5-Year Regression Growth Rate is the compound annual growth rate of the data item. This figure is derived by the least squares method, using six data points--a base year plus 5 subsequent annual data points. Fiscal year-end figures are used for the first 5 data points, with the calculation brought up to date each interim period by time-weighting the first and last points. An "NC" footnote appears for all companies that do not have a positive number for the 5-year period. A 5-year growth rate is not calculated for any company that has an incomplete record of data',
"dividends4yAveragePayout":"4-Year average payout: The sum of the actual dividends paid per share as reported in the annual report divided by the total diluted EPS from the annual report divided by 4","dividends4yAverageYield":"4-Year average dividend yield: The sum of the actual dividend yield calculations from the past four fiscal years divided by 4"};
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/dividends/summary"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("<h4>",header,'</h4>\n<div class="info">\n  <table class="pull-left">\n    ');$.each(data,function(){__p.push("\n    ");if(this.section==="left")__p.push('\n    <tr title="',titles[this.elementId],'">\n      <td>',this.name,'</td>\n      <td id="',this.elementId,'">',this.value,"</td>\n    </tr>\n    ");__p.push("\n    ")});
__p.push('\n  </table>\n  <table class="pull-right">\n    ');$.each(data,function(){__p.push("\n    ");if(this.section==="right")__p.push('\n    <tr title="',titles[this.elementId],'">\n      <td>',this.name,'</td>\n      <td id="',this.elementId,'">',this.value,"</td>\n    </tr>\n    ");__p.push("\n    ")});__p.push("\n  </table>\n</div>\n")}return __p.join("")}}).call(this);
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.DividendFormatter={dividendYieldType:function(dividendType){return dividendType==="forward"?" (fwd)":" (ttm)"}}})();
(function(SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols.Dividends");scope.Summary=function(opt){var initOpt={container:null},$container,formatter=SA.Utils.Formatter,dividendFormatter=SA.Pages.Symbols.DividendFormatter;var classes={rendered:"rendered",empty:"empty",hide:"hide hidden"};var fields={"ExDate":{field:"last_div_date",section:"left",elementId:"dividendsExDate",name:"Ex-Div Date"},"Rate":{field:"div_rate",section:"left",elementId:"dividendsRate",name:"Dividend Rate",format:{}},"Yield":{field:"div_yield",
section:"left",elementId:"dividendsYield",name:"Dividend Yield",format:{suffix:"%"}},"PayoutRatio":{field:"payout",section:"left",elementId:"dividendsPayoutRatio",name:"Payout Ratio",format:{suffix:"%"}},"_3yGrowthRate":{field:"div_grow_rate3",section:"right",elementId:"dividends3yGrowthRate",name:"3 Year Dividend Growth Rate",format:{suffix:"%"}},"_5yGrowthRate":{field:"div_grow_rate",section:"right",elementId:"dividends5yGrowthRate",name:"5 Year Dividend Growth Rate",format:{suffix:"%"}},"_4yAveragePayout":{field:"payout_4y",
section:"right",elementId:"dividends4yAveragePayout",name:"4 Year Average Payout",format:{suffix:"%"}},"_4yAverageYield":{field:"div_yield_4y",section:"right",elementId:"dividends4yAverageYield",name:"4 Year Average Yield",format:{suffix:"%"}}};var formatData=function(data){var d={};$.each(fields,function(k,v){if(data[v.field])d[k]=v.format?formatter.number(data[v.field],v.format):data[v.field]});var res=null;if(Object.keys(d).length){res={};$.each(fields,function(k,v){res[k]={section:v.section,elementId:v.elementId,
name:v.name,value:d[k]||formatter.naValue}});$.each(["Rate","Yield"],function(){res[this].name+=dividendFormatter.dividendYieldType(data.div_time_frame)})}return res};this.updateData=function(res){if(!res)return;if($container.hasClass(classes.rendered)){var data=formatData(res);if(data)$.each(data,function(){$("#"+this.elementId).html(this.value)})}else this.render(res)};this.render=function(res){$container=$(initOpt.container);if($container.length){var data=formatData(res||{}),html,addClass=[];if(data){html=
JST["jst/pages/symbols/key_data/dividends/summary"]({header:initOpt.header,data:data,titles:titles});addClass.push(classes.rendered)}else if(!$container.hasClass(classes.empty)){html=JST["jst/pages/symbols/key_data/no_data"]({data:{header:initOpt.header,message:initOpt.slug.toUpperCase()+" has no dividend history"}});addClass.push(classes.empty)}if(html)$container.html(html).removeClass([classes.hide,classes.empty].join(" ")).addClass(addClass.join(" "))}};var init=function(){initOpt=$.extend({},
initOpt,opt)};init()}})(window.SA,window.jQuery);
var states={"":"","Alabama":"AL","Alaska":"AK","Arizona":"AZ","Arkansas":"AR","California":"CA","Colorado":"CO","Connecticut":"CT","Delaware":"DE","District of Columbia":"DC","Florida":"FL","Georgia":"GA","Hawaii":"HI","Idaho":"ID","Illinois":"IL","Indiana":"IN","Iowa":"IA","Kansas":"KS","Kentucky":"KY","Louisiana":"LA","Maine":"ME","Maryland":"MD","Massachusetts":"MA","Michigan":"MI","Minnesota":"MN","Mississippi":"MS","Missouri":"MO","Montana":"MT","Nebraska":"NE","Nevada":"NV","New Hampshire":"NH",
"NewJersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND","Ohio":"OH","Oklahoma":"OK","Oregon":"OR","Pennsylvania":"PA","Puerto Rico":"PR","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD","Tennessee":"TN","Texas":"TX","Utah":"UT","Vermont":"VT","Virginia":"VA","Washington":"WA","West Virginia":"WV","Wisconsin":"WI","Wyoming":"WY"};
(function(SA,$){var Time=SA.UsingNamespace("SA.Utils.Time");Time.getNewYorkTime=function(){function moreEQ(ar,ar2){for(var i=0;i<ar.length;i++){if(ar[i]>ar2[i])return true;if(ar[i]<ar2[i])return false}return true}function between(ar,ar_min,ar_max){return moreEQ(ar,ar_min)&&moreEQ(ar_max,ar)}var d=new Date;var offset=between([d.getUTCMonth()+1,d.getUTCDate(),d.getUTCHours()],[3,8,7],[11,2,5])?-4:-5;d.setTime(d.getTime()+(offset+d.getTimezoneOffset()/60)*36E5);return d}})(window.SA,window.jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols.KeyData");scope.Overview=function(){var pageData=SA.pageConfig.Data,dividendsSummary,container="#content_section.overview",formatter=SA.Utils.Formatter;var renderJst=function(sectionId,jst,data){var html=JST["jst/pages/symbols/key_data/"+jst]({slugData:pageData.slugData,data:data,format:formatter,titles:titles});$(sectionId).append(html).removeClass("hide hidden")};var formatProfileInfo=function(data){var country=data.Country||(pageData.slugData.country?
pageData.slugData.country.name:""),zip_code=data.Zipcode?data.Zipcode.toString().split("-")[0]:"",addressLine1=[],addressLine2=[],addressLine3="";if(data.Address1)addressLine1.push(data.Address1);if(data.Address2)addressLine1.push(data.Address2);addressLine1=addressLine1.join(", ");if(data.City)addressLine2.push(data.City);if(data.State)addressLine2.push(data.State);if(zip_code)addressLine2.push(zip_code);addressLine2=addressLine2.join(", ");if(country)addressLine3=country;return{NumberOfEmployees:data.NumberOfEmployees,
CompanyFoundedDate:data.CompanyFoundedDate,CEO:data.CEO,description:data.LongBusinessDescription||pageData.slugData.description,website:data.Website,email:data.InvestorRelationsEmail,phoneNumber:data.PhoneNumber?data.PhoneNumber.replace(/\./g,"-"):"",addressLine1:addressLine1,addressLine2:addressLine2,addressLine3:addressLine3,fullAddress:[addressLine1,addressLine2,addressLine3]}};var formatData=function(data){return{trading:{TodaysVolume:formatter.number(data.volume,{withCommas:true,decimals:0}),
PrevClose:formatter.number(data.close),Open:formatter.number(data.open),DayRange:formatter.range(data.low,data.high),_52WeekRange:formatter.range(data.low52,data.high52),_52WeekPerformance:formatter.number(data.chgp_52w,{suffix:"%"}),_36mBeta:formatter.number(data.beta36),_60mBeta:formatter.number(data.beta60),_50dMovingAverage:formatter.number(data.mov_avg_10w),_200dMovingAverage:formatter.number(data.mov_avg_200d)},shareStats:{ShareOutstanding:formatter.number(data.shares),ShareOutstandingCurrent:formatter.number(data.shares_out_stnd_cur,
{inMillions:true}),FloatCurrent:formatter.number(data.sfloat),HeldInsiders:formatter.number(data.p_shares_by_insid,{suffix:"%"}),HeldInstitutions:formatter.number(data.p_shares_by_inst,{suffix:"%"}),ShortRatio:formatter.number(data.short_interest),ShortOfFloat:formatter.number(data.p_short_interest_float,{suffix:"%"})},valuation:{MarketCap:formatter.number(data.market_cap),EnterpriseValue:formatter.number(data.total_enterprise),PERatio:formatter.number(data.trailing_pe),PriceSales:formatter.number(data.price_sales),
PriceBook:formatter.number(data.price_book),PriceTangibleBook:formatter.number(data.price_tangb),PriceCashFlow:formatter.number(data.price_cf),EnterpriseValueSales:formatter.number(data.ev_sales),EnterpriseValueEbitda:formatter.number(data.ev_ebitda)},profitability:{GrossMargin:formatter.number(data.gross_margin,{suffix:"%"}),Roa:formatter.number(data.roa,{suffix:"%"}),Roe:formatter.number(data.roe,{suffix:"%"}),Rta:formatter.number(data.rev_to_assets,{suffix:"%"})},incomeStatement:{Revenue:formatter.number(data.total_revenue),
RevenueGrowth:formatter.number(data.revenue_growth,{suffix:"%"}),NetIncome:formatter.number(data.net_income),Eps:formatter.number(data.eps)},balanceSheet:{CashEquivalents:formatter.number(data.cash),TotalDebt:formatter.number(data.debt),TotalDebtEquity:formatter.number(data.debt_eq),ShortDebt:formatter.number(data.debt_short),LongDebt:formatter.number(data.debt_long),CurrentRatio:formatter.number(data.cur_ratio),QuickRatio:formatter.number(data.quick_ratio),CoveredRatio:formatter.number(data.int_cover),
TotalDebtFreeCashFlow:formatter.number(data.debt_fcf),LongTermDebtTotalCapital:formatter.number(data.lt_debt_cap)}}};var renderContent=function(){pageData.slugData.is_equity?renderEquityInfo():renderFundInfo()};var renderFundInfo=function(){renderJst("#key-data-company-profile","overview/profile_fund",null)};var renderEquityInfo=function(){var asOfDate=SA.Utils.Time.getNewYorkTime();SA.Utils.SymbolData.getGlobalInfo({slug:pageData.slug,asOfDate:[asOfDate.getMonth()+1,asOfDate.getDate(),asOfDate.getFullYear()].join("/")},
handleClb)};var handleClb=function(res){if(res&&res.length){var data={},symbol,fundSets;for(var i=0,len=res.length,d;i<len;i++){d=res[i];symbol=d.Company.Symbol;fundSets=d.FundamentalsSets;if(symbol.toLowerCase()===pageData.slug.toLowerCase()&&fundSets){$.each(fundSets[0].Fundamentals,function(){data[this.Type]=this.Value});if(data.State)data.State=states[data.State]}}renderNotFundInfo(data)}else renderJst("#key-data-info","no_data",{header:"Key Data",message:pageData.slug.toUpperCase()+" has no key data"})};
var renderNotFundInfo=function(res){var symbolData=SA.Pages.Symbols.SymbolInfo.get(pageData.slug)||{},data=$.extend({},res,formatData(symbolData));renderJst("#key-data-company-profile","overview/profile",formatProfileInfo(data));renderJst("#key-data-trading-data","overview/trading_data",data);renderJst("#key-data-share-statistics","overview/share_statistics",data);renderJst("#key-data-valuation","overview/valuation",data);renderJst("#key-data-profitability","overview/profitability",data);renderJst("#key-data-income-statement",
"overview/income_statement",data);renderJst("#key-data-balance-sheet","overview/balance_sheet",data);renderJst("#key-data-cash-flow-statements","overview/cash_flow_statements",data);renderJst("#key-data-info","overview/footer",data);dividendsSummary=new SA.Pages.Symbols.Dividends.Summary({container:"#key-data-dividends",header:"Dividends",slug:pageData.slug});dividendsSummary.render(symbolData)};var initEvents=function(){$(container).on("click",".about-more",function(e){e.preventDefault();var self=
$(this);self.prev().remove();self.replaceWith(self.data("rest-desc"))})};this.updateData=function(res){if(!res)return;var data=formatData(res);$("#tradingTodaysVolume").html(data.trading.TodaysVolume);$("#tradingPrevClose").html(data.trading.PrevClose);$("#tradingOpen").html(data.trading.Open);$("#tradingDayRange").html(data.trading.DayRange);$("#trading52WeekRange").html(data.trading._52WeekRange);$("#trading52WeekPerformance").html(data.trading._52WeekPerformance);$("#trading36mBeta").html(data.trading._36mBeta);
$("#trading60mBeta").html(data.trading._60mBeta);$("#trading50dMovingAverage").html(data.trading._50dMovingAverage);$("#trading200dMovingAverage").html(data.trading._200dMovingAverage);$("#shareStatsShareOutstanding").html(data.shareStats.ShareOutstanding);$("#shareStatsShareOutstandingCurrent").html(data.shareStats.ShareOutstandingCurrent);$("#shareStatsFloatCurrent").html(data.shareStats.FloatCurrent);$("#shareStatsHeldInsiders").html(data.shareStats.HeldInsiders);$("#shareStatsHeldInstitutions").html(data.shareStats.HeldInstitutions);
$("#shareStatsShortRatio").html(data.shareStats.ShortRatio);$("#shareStatsShortOfFloat").html(data.shareStats.ShortOfFloat);$("#valuationMarketCap").html(data.valuation.MarketCap);$("#valuationEnterpriseValue").html(data.valuation.EnterpriseValue);$("#valuationPERatio").html(data.valuation.PERatio);$("#valuationPriceSales").html(data.valuation.PriceSales);$("#valuationPriceBook").html(data.valuation.PriceBook);$("#valuationPriceTangibleBook").html(data.valuation.PriceTangibleBook);$("#valuationPriceCashFlow").html(data.valuation.PriceCashFlow);
$("#valuationEnterpriseValueSales").html(data.valuation.EnterpriseValueSales);$("#valuationEnterpriseValueEbitda").html(data.valuation.EnterpriseValueEbitda);$("#profitabilityGrossMargin").html(data.profitability.GrossMargin);$("#profitabilityRoa").html(data.profitability.Roa);$("#profitabilityRoe").html(data.profitability.Roe);$("#profitabilityRta").html(data.profitability.Rta);$("#incomeStatementRevenue").html(data.incomeStatement.Revenue);$("#incomeStatementRevenueGrowth").html(data.incomeStatement.RevenueGrowth);
$("#incomeStatementNetIncome").html(data.incomeStatement.NetIncome);$("#incomeStatementEps").html(data.incomeStatement.Eps);$("#balanceSheetCashEquivalents").html(data.balanceSheet.CashEquivalents);$("#balanceSheetTotalDebt").html(data.balanceSheet.TotalDebt);$("#balanceSheetTotalDebtEquity").html(data.balanceSheet.TotalDebtEquity);$("#balanceSheetShortDebt").html(data.balanceSheet.ShortDebt);$("#balanceSheetLongDebt").html(data.balanceSheet.LongDebt);$("#balanceSheetCurrentRatio").html(data.balanceSheet.CurrentRatio);
$("#balanceSheetQuickRatio").html(data.balanceSheet.QuickRatio);$("#balanceSheetCoveredRatio").html(data.balanceSheet.CoveredRatio);$("#balanceSheetTotalDebtFreeCashFlow").html(data.balanceSheet.TotalDebtFreeCashFlow);$("#balanceSheetLongTermDebtTotalCapital").html(data.balanceSheet.LongTermDebtTotalCapital);$("#cashFlowStatementFreeCashFlow").html(formatter.number(data.fcf));if(dividendsSummary)dividendsSummary.updateData(res)};this.showContent=renderContent;this.init=function(){initEvents()}}})(window.SA,
window.jQuery);(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/filings/filings"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("");jQuery.each(filings,function(){__p.push('\n<tr data-uri="',this.uri,'">\n  <td class="form-name">\n    ',this.form_name,'\n  </td>\n  <td class="form-desc">\n    ',this.description,'\n  </td>\n  <td class="filing-date">\n    ',this.date,"\n  </td>\n</tr>\n")});__p.push("\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/filings/no_data"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<tr>\n    <td class="no-data">\n        <span>No SEC filings available</span>\n    </td>\n</tr>\n');return __p.join("")}}).call(this);
(function(w,SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols.KeyData");scope.Filings=function(){var pageData=SA.pageConfig.Data;var container="#symbol-filings-list-container",selectors={filingTypes:"#filing-types",table:container+" .filings-table",tableBody:container+" .filings-table tbody",moreLoader:container+" .more-loader"};var direction={up:"asc",down:"desc"};var infinityScroll=function(){var $moreLoader=$(selectors.moreLoader),last=$(selectors.tableBody).last("tr");if(last.length)if(!$moreLoader.data("processing")&&
!$moreLoader.data("no-more")){$moreLoader.show();if(SA.Utils.Scroll.isCloseToElement(last,350)&&!$moreLoader.data("processing")){$moreLoader.data("processing",true);var page=($moreLoader.data("page")||1)+1,sort=$moreLoader.data("sort"),order=$moreLoader.data("order");loadData(sort,order,page)}}};var getFilingsData=function(options,onSuccess,always){$.get([w.symbolUrl,pageData.slug.toUpperCase(),"/key-data/filings-load-more.json"].join(""),options).success(onSuccess).always(always||{})};var loadData=
function(sort,order,page){var $moreLoader=$(selectors.moreLoader),filingType=$(selectors.filingTypes).val(),$sortedBy=$(selectors.table).find("th.sorted"),orderBy=$sortedBy.data("sort"),dir=$sortedBy.hasClass(direction.up)?direction.up:direction.down;page=page||1;getFilingsData({filing_type:filingType,order_by:orderBy,dir:dir,page:page},function(data){$moreLoader.data("page",page);renderFilings(data);if(!data.length)$moreLoader.data("no-more",true)},function(){$moreLoader.data("processing",false).hide()})};
var initEvents=function(){$("body").on("change",selectors.filingTypes,changeView).on("click",container+" .filings-table th.form-name, th.form-desc, th.filing-date",sort).on("click",container+" .filings-table tbody tr",function(){w.open($(this).data("uri"),"_blank")})};var changeView=function(e){var filingType=e.target.value,$sortedBy=$(selectors.table).find("th.sorted"),orderBy=$sortedBy.data("sort"),dir=$sortedBy.hasClass(direction.up)?direction.up:direction.down;getFilingsData({filing_type:filingType,
order_by:orderBy,dir:dir,page:1},function(res){$(selectors.tableBody).html("");$(selectors.moreLoader).data("page",1);renderFilings(res)});SA.Logger.Mone.event("filing_type","sec_filings","clicked",{data:{filing_type:filingType}})};var sort=function(){var elem=$(this),orderBy=elem.data("sort"),filingType=$(selectors.filingTypes).val(),dir=!elem.hasClass("sorted")||elem.hasClass(direction.up)?direction.down:direction.up;getFilingsData({filing_type:filingType,order_by:orderBy,dir:dir},function(res){$(selectors.tableBody).html("");
renderFilings(res);if(elem.hasClass("sorted"))if(elem.hasClass(direction.up))elem.removeClass(direction.up);else elem.addClass(direction.up);else{$(selectors.table).find("th.sorted").removeClass("sorted "+direction.up);elem.addClass("sorted")}});SA.Logger.Mone.event(orderBy,"sec_filings","sort")};var renderFilings=function(filings){var tBody=$(selectors.tableBody);var html=!filings.length&&$(selectors.moreLoader).data("page")===1&&!tBody.find("tr").length?JST["jst/pages/symbols/key_data/filings/no_data"]():
JST["jst/pages/symbols/key_data/filings/filings"]({filings:filings});tBody.append(html)};this.showContent=function(){var data=$(container).data("filings");if(data&&data.length){renderFilings(data);$(container).removeAttr("data-filings")}else $(selectors.filingTypes).val("all").change()};this.init=function(){initEvents();$(w).bindWithDelay("scroll",infinityScroll,200,true)}}})(window,window.SA,window.jQuery);
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){function a(){return Hc.apply(null,arguments)}function b(a){Hc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Ca(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||
b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&
(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Jc.length>0)for(c in Jc)d=Jc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Kc===!1&&(Kc=!0,a.updateOffset(this),Kc=!1)}
function o(a){return a instanceof n||null!=a&&null!=a._isAMomentObject}function p(a){return 0>a?Math.ceil(a):Math.floor(a)}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=p(b)),c}function r(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&g++;return g+f}function s(){}function t(a){return a?a.toLowerCase().replace("_","-"):a}function u(a){for(var b,c,d,e,f=0;f<a.length;){for(e=t(a[f]).split("-"),b=e.length,
c=t(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=v(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&r(e,c,!0)>=b-1)break;b--}f++}return null}function v(a){var b=null;if(!Lc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ic._abbr,require("./locale/"+a),w(b)}catch(c){}return Lc[a]}function w(a,b){var c;return a&&(c="undefined"==typeof b?y(a):x(a,b),c&&(Ic=c)),Ic._abbr}function x(a,b){return null!==b?(b.abbr=a,Lc[a]=Lc[a]||new s,Lc[a].set(b),w(a),Lc[a]):(delete Lc[a],null)}function y(a){var b;
if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ic;if(!c(a)){if(b=v(a))return b;a=[a]}return u(a)}function z(a,b){var c=a.toLowerCase();Mc[c]=Mc[c+"s"]=Mc[b]=a}function A(a){return"string"==typeof a?Mc[a]||Mc[a.toLowerCase()]:void 0}function B(a){var b,c,d={};for(c in a)f(a,c)&&(b=A(c),b&&(d[b]=a[c]));return d}function C(b,c){return function(d){return null!=d?(E(this,b,d),a.updateOffset(this,c),this):D(this,b)}}function D(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function E(a,
b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function F(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=A(a),"function"==typeof this[a])return this[a](b);return this}function G(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function H(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Qc[a]=e),b&&(Qc[b[0]]=function(){return G(e.apply(this,arguments),b[1],b[2])}),c&&(Qc[c]=function(){return this.localeData().ordinal(e.apply(this,
arguments),a)})}function I(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function J(a){var b,c,d=a.match(Nc);for(b=0,c=d.length;c>b;b++)Qc[d[b]]?d[b]=Qc[d[b]]:d[b]=I(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function K(a,b){return a.isValid()?(b=L(b,a.localeData()),Pc[b]=Pc[b]||J(b),Pc[b](a)):a.localeData().invalidDate()}function L(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Oc.lastIndex=
0;d>=0&&Oc.test(a);)a=a.replace(Oc,c),Oc.lastIndex=0,d-=1;return a}function M(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function N(a,b,c){dd[a]=M(b)?b:function(a){return a&&c?c:b}}function O(a,b){return f(dd,a)?dd[a](b._strict,b._locale):new RegExp(P(a))}function P(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(a,b){var c,d=b;for("string"==
typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=q(a)}),c=0;c<a.length;c++)ed[a[c]]=d}function R(a,b){Q(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function S(a,b,c){null!=b&&f(ed,a)&&ed[a](b,c._a,c,a)}function T(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function U(a){return this._months[a.month()]}function V(a){return this._monthsShort[a.month()]}function W(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),
d=0;12>d;d++){if(e=h([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}
function X(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),T(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function Y(b){return null!=b?(X(this,b),a.updateOffset(this,!0),this):D(this,"Month")}function Z(){return T(this.year(),this.month())}function $(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[gd]<0||c[gd]>11?gd:c[hd]<1||c[hd]>T(c[fd],c[gd])?hd:c[id]<0||c[id]>24||24===c[id]&&(0!==c[jd]||0!==c[kd]||0!==c[ld])?id:
c[jd]<0||c[jd]>59?jd:c[kd]<0||c[kd]>59?kd:c[ld]<0||c[ld]>999?ld:-1,j(a)._overflowDayOfYear&&(fd>b||b>hd)&&(b=hd),j(a).overflow=b),a}function _(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function aa(a,b){var c=!0;return g(function(){return c&&(_(a+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ba(a,b){od[a]||(_(b),od[a]=!0)}function ca(a){var b,c,d=a._i,e=pd.exec(d);if(e){for(j(a).iso=!0,b=0,c=qd.length;c>
b;b++)if(qd[b][1].exec(d)){a._f=qd[b][0];break}for(b=0,c=rd.length;c>b;b++)if(rd[b][1].exec(d)){a._f+=(e[6]||" ")+rd[b][0];break}d.match(ad)&&(a._f+="Z"),va(a)}else a._isValid=!1}function da(b){var c=sd.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ca(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ea(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fa(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>
a&&b.setUTCFullYear(a),b}function ga(a){return ha(a)?366:365}function ha(a){return a%4===0&&a%100!==0||a%400===0}function ia(){return ha(this.year())}function ja(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Da(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ka(a){return ja(a,this._week.dow,this._week.doy).week}function la(){return this._week.dow}function ma(){return this._week.doy}function na(a){var b=this.localeData().week(this);return null==a?b:this.add(7*
(a-b),"d")}function oa(a){var b=ja(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function pa(a,b,c,d,e){var f,g=6+e-d,h=fa(a,0,1+g),i=h.getUTCDay();return e>i&&(i+=7),c=null!=c?1*c:e,f=1+g+7*(b-1)-i+c,{year:f>0?a:a-1,dayOfYear:f>0?f:ga(a-1)+f}}function qa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")}function ra(a,b,c){return null!=a?a:null!=b?b:c}function sa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),
b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ta(a){var b,c,d,e,f=[];if(!a._d){for(d=sa(a),a._w&&null==a._a[hd]&&null==a._a[gd]&&ua(a),a._dayOfYear&&(e=ra(a._a[fd],d[fd]),a._dayOfYear>ga(e)&&(j(a)._overflowDayOfYear=!0),c=fa(e,0,a._dayOfYear),a._a[gd]=c.getUTCMonth(),a._a[hd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[id]&&0===a._a[jd]&&0===a._a[kd]&&0===a._a[ld]&&(a._nextDay=
!0,a._a[id]=0),a._d=(a._useUTC?fa:ea).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[id]=24)}}function ua(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=ra(b.GG,a._a[fd],ja(Da(),1,4).year),d=ra(b.W,1),e=ra(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=ra(b.gg,a._a[fd],ja(Da(),f,g).year),d=ra(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=pa(c,d,e,g,f),a._a[fd]=h.year,a._dayOfYear=h.dayOfYear}function va(b){if(b._f===
a.ISO_8601)return void ca(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=L(b._f,b._locale).match(Nc)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(O(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Qc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),S(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[id]<=12&&b._a[id]>0&&(j(b).bigHour=
void 0),b._a[id]=wa(b._locale,b._a[id],b._meridiem),ta(b),$(b)}function wa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function xa(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],va(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=
f,c=b));g(a,c||b)}function ya(a){if(!a._d){var b=B(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ta(a)}}function za(a){var b=new n($(Aa(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Aa(a){var b=a._i,e=a._f;return a._locale=a._locale||y(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),o(b)?new n($(b)):(c(e)?xa(a):e?va(a):d(b)?a._d=b:Ba(a),a))}function Ba(b){var f=b._i;void 0===f?b._d=new Date:
d(f)?b._d=new Date(+f):"string"==typeof f?da(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ta(b)):"object"==typeof f?ya(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Ca(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,za(f)}function Da(a,b,c,d){return Ca(a,b,c,d,!1)}function Ea(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Da();for(d=b[0],e=1;e<
b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Fa(){var a=[].slice.call(arguments,0);return Ea("isBefore",a)}function Ga(){var a=[].slice.call(arguments,0);return Ea("isAfter",a)}function Ha(a){var b=B(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1E3*j+6E4*i+36E5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=y(),this._bubble()}function Ia(a){return a instanceof
Ha}function Ja(a,b){H(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+G(~~(a/60),2)+b+G(~~a%60,2)})}function Ka(a){var b=(a||"").match(ad)||[],c=b[b.length-1]||[],d=(c+"").match(xd)||["-",0,0],e=+(60*d[1])+q(d[2]);return"+"===d[0]?e:-e}function La(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Da(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Da(b).local()}function Ma(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Na(b,c){var d,e=this._offset||
0;return null!=b?("string"==typeof b&&(b=Ka(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ma(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?bb(this,Ya(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ma(this)}function Oa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Pa(a){return this.utcOffset(0,a)}function Qa(a){return this._isUTC&&
(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ma(this),"m")),this}function Ra(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ka(this._i)),this}function Sa(a){return a=a?Da(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Ta(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ua(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var a={};if(m(a,this),a=Aa(a),a._a){var b=
a._isUTC?h(a._a):Da(a._a);this._isDSTShifted=this.isValid()&&r(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Va(){return!this._isUTC}function Wa(){return this._isUTC}function Xa(){return this._isUTC&&0===this._offset}function Ya(a,b){var c,d,e,g=a,h=null;return Ia(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=yd.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:q(h[hd])*c,h:q(h[id])*c,m:q(h[jd])*c,s:q(h[kd])*c,ms:q(h[ld])*
c}):(h=zd.exec(a))?(c="-"===h[1]?-1:1,g={y:Za(h[2],c),M:Za(h[3],c),d:Za(h[4],c),h:Za(h[5],c),m:Za(h[6],c),s:Za(h[7],c),w:Za(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=_a(Da(g.from),Da(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ha(g),Ia(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Za(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function $a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),
a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function _a(a,b){var c;return b=La(b,a),a.isBefore(b)?c=$a(a,b):(c=$a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function ab(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ba(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ya(c,d),bb(this,e,a),this}}function bb(b,c,d,e){var f=c._milliseconds,
g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&E(b,"Date",D(b,"Date")+g*d),h&&X(b,D(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function cb(a,b){var c=a||Da(),d=La(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(b&&b[f]||this.localeData().calendar(f,this,Da(c)))}function db(){return new n(this)}function eb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),
"millisecond"===b?(a=o(a)?a:Da(a),+this>+a):(c=o(a)?+a:+Da(a),c<+this.clone().startOf(b))}function fb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+a>+this):(c=o(a)?+a:+Da(a),+this.clone().endOf(b)<c)}function gb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function hb(a,b){var c;return b=A(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this===+a):(c=+Da(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function ib(a,b,c){var d,
e,f=La(a,this),g=6E4*(f.utcOffset()-this.utcOffset());return b=A(b),"year"===b||"month"===b||"quarter"===b?(e=jb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===b?(d-g)/864E5:"week"===b?(d-g)/6048E5:d),c?e:p(e)}function jb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function kb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}
function lb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():K(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mb(b){var c=K(this,b||a.defaultFormat);return this.localeData().postformat(c)}function nb(a,b){return this.isValid()?Ya({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.from(Da(),a)}function pb(a,b){return this.isValid()?
Ya({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function qb(a){return this.to(Da(),a)}function rb(a){var b;return void 0===a?this._locale._abbr:(b=y(a),null!=b&&(this._locale=b),this)}function sb(){return this._locale}function tb(a){switch(a=A(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===
a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function ub(a){return a=A(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function vb(){return+this._d-6E4*(this._offset||0)}function wb(){return Math.floor(+this/1E3)}function xb(){return this._offset?new Date(+this):this._d}function yb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}
function zb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Ab(){return k(this)}function Bb(){return g({},j(this))}function Cb(){return j(this).overflow}function Db(a,b){H(0,[a,a.length],0,b)}function Eb(a,b,c){return ja(Da([a,11,31+b-c]),b,c).week}function Fb(a){var b=ja(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Gb(a){var b=
ja(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Hb(){return Eb(this.year(),1,4)}function Ib(){var a=this.localeData()._week;return Eb(this.year(),a.dow,a.doy)}function Jb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Kb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Lb(a){return this._weekdays[a.day()]}function Mb(a){return this._weekdaysShort[a.day()]}function Nb(a){return this._weekdaysMin[a.day()]}
function Ob(a){var b,c,d;for(this._weekdaysParse=this._weekdaysParse||[],b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Da([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Pb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Kb(a,this.localeData()),this.add(a-b,"d")):b}function Qb(a){var b=(this.day()+7-this.localeData()._week.dow)%
7;return null==a?b:this.add(a-b,"d")}function Rb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Sb(a,b){H(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Tb(a,b){return b._meridiemParse}function Ub(a){return"p"===(a+"").toLowerCase().charAt(0)}function Vb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Wb(a,b){b[ld]=q(1E3*("0."+a))}function Xb(){return this._isUTC?"UTC":""}function Yb(){return this._isUTC?"Coordinated Universal Time":
""}function Zb(a){return Da(1E3*a)}function $b(){return Da.apply(null,arguments).parseZone()}function _b(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function ac(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function bc(){return this._invalidDate}function cc(a){return this._ordinal.replace("%d",a)}function dc(a){return a}
function ec(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function fc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function gc(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function hc(a,b,c,d){var e=y(),f=h().set(d,b);return e[c](f,a)}function ic(a,b,c,d,e){if("number"==typeof a&&(b=
a,a=void 0),a=a||"",null!=b)return hc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=hc(a,f,c,e);return g}function jc(a,b){return ic(a,b,"months",12,"month")}function kc(a,b){return ic(a,b,"monthsShort",12,"month")}function lc(a,b){return ic(a,b,"weekdays",7,"day")}function mc(a,b){return ic(a,b,"weekdaysShort",7,"day")}function nc(a,b){return ic(a,b,"weekdaysMin",7,"day")}function oc(){var a=this._data;return this._milliseconds=Wd(this._milliseconds),this._days=Wd(this._days),this._months=Wd(this._months),
a.milliseconds=Wd(a.milliseconds),a.seconds=Wd(a.seconds),a.minutes=Wd(a.minutes),a.hours=Wd(a.hours),a.months=Wd(a.months),a.years=Wd(a.years),this}function pc(a,b,c,d){var e=Ya(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function qc(a,b){return pc(this,a,b,1)}function rc(a,b){return pc(this,a,b,-1)}function sc(a){return 0>a?Math.floor(a):Math.ceil(a)}function tc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;
return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864E5*sc(vc(h)+g),g=0,h=0),i.milliseconds=f%1E3,a=p(f/1E3),i.seconds=a%60,b=p(a/60),i.minutes=b%60,c=p(b/60),i.hours=c%24,g+=p(c/24),e=p(uc(g)),h+=e,g-=sc(vc(e)),d=p(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function uc(a){return 4800*a/146097}function vc(a){return 146097*a/4800}function wc(a){var b,c,d=this._milliseconds;if(a=A(a),"month"===a||"year"===a)return b=this._days+d/864E5,c=this._months+uc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(vc(this._months)),
a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw new Error("Unknown unit "+a);}}function xc(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*q(this._months/12)}function yc(a){return function(){return this.as(a)}}function zc(a){return a=A(a),this[a+"s"]()}function Ac(a){return function(){return this._data[a]}}
function Bc(){return p(this.days()/7)}function Cc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Dc(a,b,c){var d=Ya(a).abs(),e=ke(d.as("s")),f=ke(d.as("m")),g=ke(d.as("h")),h=ke(d.as("d")),i=ke(d.as("M")),j=ke(d.as("y")),k=e<le.s&&["s",e]||1===f&&["m"]||f<le.m&&["mm",f]||1===g&&["h"]||g<le.h&&["hh",g]||1===h&&["d"]||h<le.d&&["dd",h]||1===i&&["M"]||i<le.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Cc.apply(null,k)}function Ec(a,b){return void 0===le[a]?!1:void 0===b?
le[a]:(le[a]=b,!0)}function Fc(a){var b=this.localeData(),c=Dc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Gc(){var a,b,c,d=me(this._milliseconds)/1E3,e=me(this._days),f=me(this._months);a=p(d/60),b=p(a/60),d%=60,a%=60,c=p(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Hc,Ic,Jc=a.momentProperties=[],Kc=!1,Lc={},Mc={},Nc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
Oc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pc={},Qc={},Rc=/\d/,Sc=/\d\d/,Tc=/\d{3}/,Uc=/\d{4}/,Vc=/[+-]?\d{6}/,Wc=/\d\d?/,Xc=/\d{1,3}/,Yc=/\d{1,4}/,Zc=/[+-]?\d{1,6}/,$c=/\d+/,_c=/[+-]?\d+/,ad=/Z|[+-]\d\d:?\d\d/gi,bd=/[+-]?\d+(\.\d{1,3})?/,cd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,dd={},ed={},fd=0,gd=1,hd=2,id=3,jd=4,kd=5,ld=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(a){return this.localeData().monthsShort(this,
a)}),H("MMMM",0,0,function(a){return this.localeData().months(this,a)}),z("month","M"),N("M",Wc),N("MM",Wc,Sc),N("MMM",cd),N("MMMM",cd),Q(["M","MM"],function(a,b){b[gd]=q(a)-1}),Q(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[gd]=e:j(c).invalidMonth=a});var md="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),od={};a.suppressDeprecationWarnings=!1;
var pd=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],rd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],sd=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=
aa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),z("year","y"),N("Y",_c),N("YY",Wc,Sc),N("YYYY",Yc,Uc),N("YYYYY",Zc,Vc),N("YYYYYY",Zc,Vc),Q(["YYYYY","YYYYYY"],fd),Q("YYYY",
function(b,c){c[fd]=2===b.length?a.parseTwoDigitYear(b):q(b)}),Q("YY",function(b,c){c[fd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return q(a)+(q(a)>68?1900:2E3)};var td=C("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),N("w",Wc),N("ww",Wc,Sc),N("W",Wc),N("WW",Wc,Sc),R(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=q(a)});var ud={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),N("DDD",Xc),N("DDDD",
Tc),Q(["DDD","DDDD"],function(a,b,c){c._dayOfYear=q(a)}),a.ISO_8601=function(){};var vd=aa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return this>a?this:a}),wd=aa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return a>this?this:a});Ja("Z",":"),Ja("ZZ",""),N("Z",ad),N("ZZ",ad),Q(["Z","ZZ"],function(a,b,c){c._useUTC=
!0,c._tzm=Ka(a)});var xd=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var yd=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ya.fn=Ha.prototype;var Ad=ab(1,"add"),Bd=ab(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Cd=aa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",
function(a){return void 0===a?this.localeData():this.locale(a)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Db("gggg","weekYear"),Db("ggggg","weekYear"),Db("GGGG","isoWeekYear"),Db("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),N("G",_c),N("g",_c),N("GG",Wc,Sc),N("gg",Wc,Sc),N("GGGG",Yc,Uc),N("gggg",Yc,Uc),N("GGGGG",Zc,Vc),N("ggggg",Zc,Vc),R(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=q(a)}),
R(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),H("Q",0,0,"quarter"),z("quarter","Q"),N("Q",Rc),Q("Q",function(a,b){b[gd]=3*(q(a)-1)}),H("D",["DD",2],"Do","date"),z("date","D"),N("D",Wc),N("DD",Wc,Sc),N("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),Q(["D","DD"],hd),Q("Do",function(a,b){b[hd]=q(a.match(Wc)[0],10)});var Dd=C("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),H("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,
a)}),H("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),N("d",Wc),N("e",Wc),N("E",Wc),N("dd",cd),N("ddd",cd),N("dddd",cd),R(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),R(["d","e","E"],function(a,b,c,d){b[d]=q(a)});var Ed="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
Gd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Sb("a",!0),Sb("A",!1),z("hour","h"),N("a",Tb),N("A",Tb),N("H",Wc),N("h",Wc),N("HH",Wc,Sc),N("hh",Wc,Sc),Q(["H","HH"],id),Q(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Q(["h","hh"],function(a,b,c){b[id]=q(a),j(c).bigHour=!0});var Hd=/[ap]\.?m?\.?/i,Id=C("Hours",!0);H("m",["mm",2],0,"minute"),z("minute","m"),N("m",Wc),N("mm",Wc,Sc),Q(["m","mm"],jd);var Jd=C("Minutes",
!1);H("s",["ss",2],0,"second"),z("second","s"),N("s",Wc),N("ss",Wc,Sc),Q(["s","ss"],kd);var Kd=C("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()}),
H(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()}),z("millisecond","ms"),N("S",Xc,Rc),N("SS",Xc,Sc),N("SSS",Xc,Tc);var Ld;for(Ld="SSSS";Ld.length<=9;Ld+="S")N(Ld,$c);for(Ld="S";Ld.length<=9;Ld+="S")Q(Ld,Wb);var Md=C("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Nd=n.prototype;Nd.add=Ad,Nd.calendar=cb,Nd.clone=db,Nd.diff=ib,Nd.endOf=ub,Nd.format=mb,Nd.from=nb,Nd.fromNow=ob,Nd.to=pb,Nd.toNow=qb,Nd.get=
F,Nd.invalidAt=Cb,Nd.isAfter=eb,Nd.isBefore=fb,Nd.isBetween=gb,Nd.isSame=hb,Nd.isValid=Ab,Nd.lang=Cd,Nd.locale=rb,Nd.localeData=sb,Nd.max=wd,Nd.min=vd,Nd.parsingFlags=Bb,Nd.set=F,Nd.startOf=tb,Nd.subtract=Bd,Nd.toArray=yb,Nd.toObject=zb,Nd.toDate=xb,Nd.toISOString=lb,Nd.toJSON=lb,Nd.toString=kb,Nd.unix=wb,Nd.valueOf=vb,Nd.year=td,Nd.isLeapYear=ia,Nd.weekYear=Fb,Nd.isoWeekYear=Gb,Nd.quarter=Nd.quarters=Jb,Nd.month=Y,Nd.daysInMonth=Z,Nd.week=Nd.weeks=na,Nd.isoWeek=Nd.isoWeeks=oa,Nd.weeksInYear=Ib,Nd.isoWeeksInYear=
Hb,Nd.date=Dd,Nd.day=Nd.days=Pb,Nd.weekday=Qb,Nd.isoWeekday=Rb,Nd.dayOfYear=qa,Nd.hour=Nd.hours=Id,Nd.minute=Nd.minutes=Jd,Nd.second=Nd.seconds=Kd,Nd.millisecond=Nd.milliseconds=Md,Nd.utcOffset=Na,Nd.utc=Pa,Nd.local=Qa,Nd.parseZone=Ra,Nd.hasAlignedHourOffset=Sa,Nd.isDST=Ta,Nd.isDSTShifted=Ua,Nd.isLocal=Va,Nd.isUtcOffset=Wa,Nd.isUtc=Xa,Nd.isUTC=Xa,Nd.zoneAbbr=Xb,Nd.zoneName=Yb,Nd.dates=aa("dates accessor is deprecated. Use date instead.",Dd),Nd.months=aa("months accessor is deprecated. Use month instead",
Y),Nd.years=aa("years accessor is deprecated. Use year instead",td),Nd.zone=aa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Oa);var Od=Nd,Pd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Qd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Rd="Invalid date",Sd="%d",
Td=/\d{1,2}/,Ud={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vd=s.prototype;Vd._calendar=Pd,Vd.calendar=_b,Vd._longDateFormat=Qd,Vd.longDateFormat=ac,Vd._invalidDate=Rd,Vd.invalidDate=bc,Vd._ordinal=Sd,Vd.ordinal=cc,Vd._ordinalParse=Td,Vd.preparse=dc,Vd.postformat=dc,Vd._relativeTime=Ud,Vd.relativeTime=ec,Vd.pastFuture=fc,Vd.set=gc,Vd.months=U,Vd._months=md,Vd.monthsShort=
V,Vd._monthsShort=nd,Vd.monthsParse=W,Vd.week=ka,Vd._week=ud,Vd.firstDayOfYear=ma,Vd.firstDayOfWeek=la,Vd.weekdays=Lb,Vd._weekdays=Ed,Vd.weekdaysMin=Nb,Vd._weekdaysMin=Gd,Vd.weekdaysShort=Mb,Vd._weekdaysShort=Fd,Vd.weekdaysParse=Ob,Vd.isPM=Ub,Vd._meridiemParse=Hd,Vd.meridiem=Vb,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=aa("moment.lang is deprecated. Use moment.locale instead.",w),a.langData=
aa("moment.langData is deprecated. Use moment.localeData instead.",y);var Wd=Math.abs,Xd=yc("ms"),Yd=yc("s"),Zd=yc("m"),$d=yc("h"),_d=yc("d"),ae=yc("w"),be=yc("M"),ce=yc("y"),de=Ac("milliseconds"),ee=Ac("seconds"),fe=Ac("minutes"),ge=Ac("hours"),he=Ac("days"),ie=Ac("months"),je=Ac("years"),ke=Math.round,le={s:45,m:45,h:22,d:26,M:11},me=Math.abs,ne=Ha.prototype;ne.abs=oc,ne.add=qc,ne.subtract=rc,ne.as=wc,ne.asMilliseconds=Xd,ne.asSeconds=Yd,ne.asMinutes=Zd,ne.asHours=$d,ne.asDays=_d,ne.asWeeks=ae,
ne.asMonths=be,ne.asYears=ce,ne.valueOf=xc,ne._bubble=tc,ne.get=zc,ne.milliseconds=de,ne.seconds=ee,ne.minutes=fe,ne.hours=ge,ne.days=he,ne.weeks=Bc,ne.months=ie,ne.years=je,ne.humanize=Fc,ne.toISOString=Gc,ne.toString=Gc,ne.toJSON=Gc,ne.locale=rb,ne.localeData=sb,ne.toIsoString=aa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gc),ne.lang=Cd,H("X",0,0,"unix"),H("x",0,0,"valueOf"),N("x",_c),N("X",bd),Q("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))}),
Q("x",function(a,b,c){c._d=new Date(q(a))}),a.version="2.10.6",b(Da),a.fn=Od,a.min=Fa,a.max=Ga,a.utc=h,a.unix=Zb,a.months=jc,a.isDate=d,a.locale=w,a.invalid=l,a.duration=Ya,a.isMoment=o,a.weekdays=lc,a.parseZone=$b,a.localeData=y,a.isDuration=Ia,a.monthsShort=kc,a.weekdaysMin=nc,a.defineLocale=x,a.weekdaysShort=mc,a.normalizeUnits=A,a.relativeTimeThreshold=Ec;var oe=a;return oe});
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery","moment"],factory);else if(typeof exports==="object"&&typeof module!=="undefined")module.exports=factory(require("jquery"),require("moment"));else factory(jQuery,moment)})(function($,moment){$.dateRangePickerLanguages={"default":{"selected":"Selected:","day":"Day","days":"Days","apply":"OK","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":["january",
"february","march","april","may","june","july","august","september","october","november","december"],"shortcuts":"Select a date range:","custom-values":"Custom Values","past":"Past","following":"Following","previous":"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year","next":"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days",
"default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range","time":"Time","hour":"Hour","minute":"Minute"},"az":{"selected":"Se\u00e7ildi:","day":" g\u00fcn","days":" g\u00fcn","apply":"t\u0259tbiq","week-1":"1","week-2":"2","week-3":"3","week-4":"4","week-5":"5","week-6":"6","week-7":"7","month-name":["yanvar","fevral","mart","aprel","may","iyun",
"iyul","avqust","sentyabr","oktyabr","noyabr","dekabr"],"shortcuts":"Q\u0131sayollar","past":"Ke\u00e7mi\u015f","following":"N\u00f6vb\u0259ti","previous":"&nbsp;&nbsp;&nbsp;","prev-week":"\u00d6nc\u0259ki h\u0259ft\u0259","prev-month":"\u00d6nc\u0259ki ay","prev-year":"\u00d6nc\u0259ki il","next":"&nbsp;&nbsp;&nbsp;","next-week":"N\u00f6vb\u0259ti h\u0259ft\u0259","next-month":"N\u00f6vb\u0259ti ay","next-year":"N\u00f6vb\u0259ti il","less-than":"Tarix aral\u0131\u011f\u0131 %d g\u00fcnd\u0259n \u00e7ox olmamal\u0131d\u0131r",
"more-than":"Tarix aral\u0131\u011f\u0131 %d g\u00fcnd\u0259n az olmamal\u0131d\u0131r","default-more":"%d g\u00fcnd\u0259n \u00e7ox bir tarix se\u00e7in","default-single":"Tarix se\u00e7in","default-less":"%d g\u00fcnd\u0259n az bir tarix se\u00e7in","default-range":"%d v\u0259 %d g\u00fcn aral\u0131\u011f\u0131nda tarixl\u0259r se\u00e7in","default-default":"Tarix aral\u0131\u011f\u0131 se\u00e7in"},"cn":{"selected":"\u5df2\u9009\u62e9:","day":"\u5929","days":"\u5929","apply":"\u786e\u5b9a","week-1":"\u4e00",
"week-2":"\u4e8c","week-3":"\u4e09","week-4":"\u56db","week-5":"\u4e94","week-6":"\u516d","week-7":"\u65e5","week-number":"\u5468","month-name":["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],"shortcuts":"\u5feb\u6377\u9009\u62e9","past":"\u8fc7\u53bb","following":"\u5c06\u6765","previous":"&nbsp;&nbsp;&nbsp;","prev-week":"\u4e0a\u5468","prev-month":"\u4e0a\u4e2a\u6708",
"prev-year":"\u53bb\u5e74","next":"&nbsp;&nbsp;&nbsp;","next-week":"\u4e0b\u5468","next-month":"\u4e0b\u4e2a\u6708","next-year":"\u660e\u5e74","less-than":"\u6240\u9009\u65e5\u671f\u8303\u56f4\u4e0d\u80fd\u5927\u4e8e%d\u5929","more-than":"\u6240\u9009\u65e5\u671f\u8303\u56f4\u4e0d\u80fd\u5c0f\u4e8e%d\u5929","default-more":"\u8bf7\u9009\u62e9\u5927\u4e8e%d\u5929\u7684\u65e5\u671f\u8303\u56f4","default-less":"\u8bf7\u9009\u62e9\u5c0f\u4e8e%d\u5929\u7684\u65e5\u671f\u8303\u56f4","default-range":"\u8bf7\u9009\u62e9%d\u5929\u5230%d\u5929\u7684\u65e5\u671f\u8303\u56f4",
"default-single":"\u8bf7\u9009\u62e9\u4e00\u4e2a\u65e5\u671f","default-default":"\u8bf7\u9009\u62e9\u4e00\u4e2a\u65e5\u671f\u8303\u56f4","time":"\u65f6\u95f4","hour":"\u5c0f\u65f6","minute":"\u5206\u949f"},"cz":{"selected":"Vybr\u00e1no:","day":"Den","days":"Dny","apply":"Zav\u0159\u00edt","week-1":"po","week-2":"\u00fat","week-3":"st","week-4":"\u010dt","week-5":"p\u00e1","week-6":"so","week-7":"ne","month-name":["leden","\u00fanor","b\u0159ezen","duben","kv\u011bten","\u010derven","\u010dervenec",
"srpen","z\u00e1\u0159\u00ed","\u0159\u00edjen","listopad","prosinec"],"shortcuts":"Zkratky","past":"po","following":"n\u00e1sleduj\u00edc\u00ed","previous":"p\u0159edchoz\u00ed","prev-week":"t\u00fdden","prev-month":"m\u011bs\u00edc","prev-year":"rok","next":"dal\u0161\u00ed","next-week":"t\u00fdden","next-month":"m\u011bs\u00edc","next-year":"rok","less-than":"Rozsah data by nem\u011bl b\u00fdt v\u011bt\u0161\u00ed ne\u017e %d dn\u016f","more-than":"Rozsah data by nem\u011bl b\u00fdt men\u0161\u00ed ne\u017e %d dn\u016f",
"default-more":"Pros\u00edm zvolte rozsah data v\u011bt\u0161\u00ed ne\u017e %d dn\u016f","default-single":"Pros\u00edm zvolte datum","default-less":"Pros\u00edm zvolte rozsah data men\u0161\u00ed ne\u017e %d dn\u016f","default-range":"Pros\u00edm zvolte rozsah data mezi %d a %d dny","default-default":"Pros\u00edm zvolte rozsah data"},"de":{"selected":"Auswahl:","day":"Tag","days":"Tage","apply":"Schlie\u00dfen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so",
"month-name":["januar","februar","m\u00e4rz","april","mai","juni","juli","august","september","oktober","november","dezember"],"shortcuts":"Schnellwahl","past":"Vorherige","following":"Folgende","previous":"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr","next":"N\u00e4chste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht gr\u00f6\u00dfer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage ausw\u00e4hlen",
"default-single":"Bitte ein Datum ausw\u00e4hlen","default-less":"Bitte weniger als %d Tage ausw\u00e4hlen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen ausw\u00e4hlen","default-default":"Bitte ein Start- und Enddatum ausw\u00e4hlen","Time":"Zeit","hour":"Stunde","minute":"Minute"},"es":{"selected":"Seleccionado:","day":"D\u00eda","days":"D\u00edas","apply":"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero",
"febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],"shortcuts":"Accesos directos","past":"Pasado","following":"Siguiente","previous":"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"A\u00f1o","next":"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"A\u00f1o","less-than":"El rango no deber\u00eda ser mayor de %d d\u00edas","more-than":"El rango no deber\u00eda ser menor de %d d\u00edas","default-more":"Por favor selecciona un rango mayor a %d d\u00edas",
"default-single":"Por favor selecciona un d\u00eda","default-less":"Por favor selecciona un rango menor a %d d\u00edas","default-range":"Por favor selecciona un rango entre %d y %d d\u00edas","default-default":"Por favor selecciona un rango de fechas."},"fr":{"selected":"S\u00e9lection:","day":"Jour","days":"Jours","apply":"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","f\u00e9vrier","mars","avril","mai","juin","juillet",
"ao\u00fbt","septembre","octobre","novembre","d\u00e9cembre"],"shortcuts":"Raccourcis","past":"Pass\u00e9","following":"Suivant","previous":"Pr\u00e9c\u00e9dent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Ann\u00e9e","next":"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Ann\u00e9e","less-than":"L'intervalle ne doit pas \u00eatre sup\u00e9rieure \u00e0 %d jours","more-than":"L'intervalle ne doit pas \u00eatre inf\u00e9rieure \u00e0 %d jours","default-more":"Merci de choisir une intervalle sup\u00e9rieure \u00e0 %d jours",
"default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inf\u00e9rieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},"hu":{"selected":"Kiv\u00e1lasztva:","day":"Nap","days":"Nap","apply":"Ok","week-1":"h","week-2":"k","week-3":"sz","week-4":"cs","week-5":"p","week-6":"sz","week-7":"v","month-name":["janu\u00e1r","febru\u00e1r","m\u00e1rcius","\u00e1prilis","m\u00e1jus",
"j\u00fanius","j\u00falius","augusztus","szeptember","okt\u00f3ber","november","december"],"shortcuts":"Gyorsv\u00e1laszt\u00f3","past":"M\u00falt","following":"K\u00f6vetkez\u0151","previous":"El\u0151z\u0151","prev-week":"H\u00e9t","prev-month":"H\u00f3nap","prev-year":"\u00c9v","next":"K\u00f6vetkez\u0151","next-week":"H\u00e9t","next-month":"H\u00f3nap","next-year":"\u00c9v","less-than":"A kiv\u00e1laszt\u00e1s nem lehet t\u00f6bb %d napn\u00e1l","more-than":"A kiv\u00e1laszt\u00e1s nem lehet t\u00f6bb %d napn\u00e1l",
"default-more":"V\u00e1lassz ki egy id\u0151szakot ami hosszabb mint %d nap","default-single":"V\u00e1lassz egy napot","default-less":"V\u00e1lassz ki egy id\u0151szakot ami r\u00f6videbb mint %d nap","default-range":"V\u00e1lassz ki egy %d - %d nap hossz\u00fa id\u0151szakot","default-default":"V\u00e1lassz ki egy id\u0151szakot"},"it":{"selected":"Selezionati:","day":"Giorno","days":"Giorni","apply":"Chiudi","week-1":"lu","week-2":"ma","week-3":"me","week-4":"gi","week-5":"ve","week-6":"sa","week-7":"do",
"month-name":["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],"shortcuts":"Scorciatoie","past":"Scorso","following":"Successivo","previous":"Precedente","prev-week":"Settimana","prev-month":"Mese","prev-year":"Anno","next":"Prossimo","next-week":"Settimana","next-month":"Mese","next-year":"Anno","less-than":"L'intervallo non dev'essere maggiore di %d giorni","more-than":"L'intervallo non dev'essere minore di %d giorni","default-more":"Seleziona un intervallo maggiore di %d giorni",
"default-single":"Seleziona una data","default-less":"Seleziona un intervallo minore di %d giorni","default-range":"Seleziona un intervallo compreso tra i %d e i %d giorni","default-default":"Seleziona un intervallo di date"},"ko":{"selected":"\uae30\uac04:","day":"\uc77c","days":"\uc77c\uac04","apply":"\ub2eb\uae30","week-1":"\uc6d4","week-2":"\ud654","week-3":"\uc218","week-4":"\ubaa9","week-5":"\uae08","week-6":"\ud1a0","week-7":"\uc77c","week-number":"\uc8fc","month-name":["1\uc6d4","2\uc6d4",
"3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],"shortcuts":"\ub2e8\ucd95\ud0a4\ub4e4","past":"\uc9c0\ub09c(\uc624\ub298\uae30\uc900)","following":"\uc774\ud6c4(\uc624\ub298\uae30\uc900)","previous":"\uc774\uc804","prev-week":"1\uc8fc","prev-month":"1\ub2ec","prev-year":"1\ub144","next":"\ub2e4\uc74c","next-week":"1\uc8fc","next-month":"1\ub2ec","next-year":"1\ub144","less-than":"\ub0a0\uc9dc \ubc94\uc704\ub294 %d \uc77c\ubcf4\ub2e4 \ub9ce\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4",
"more-than":"\ub0a0\uc9dc \ubc94\uc704\ub294 %d \uc77c\ubcf4\ub2e4 \uc791\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4","default-more":"\ub0a0\uc9dc \ubc94\uc704\ub97c %d \uc77c\ubcf4\ub2e4 \uae38\uac8c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694","default-single":"\ub0a0\uc9dc\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694","default-less":"%d \uc77c\ubcf4\ub2e4 \uc791\uc740 \ub0a0\uc9dc\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694","default-range":"%d\uc640 %d \uc77c \uc0ac\uc774\uc758 \ub0a0\uc9dc \ubc94\uc704\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694",
"default-default":"\ub0a0\uc9dc \ubc94\uc704\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694","time":"\uc2dc\uac01","hour":"\uc2dc","minute":"\ubd84"},"no":{"selected":"Valgt:","day":"Dag","days":"Dager","apply":"Lukk","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"l\u00f8","week-7":"s\u00f8","month-name":["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],"shortcuts":"Snarveier","custom-values":"Egendefinerte Verdier",
"past":"Over","following":"F\u00f8lger","previous":"Forrige","prev-week":"Uke","prev-month":"M\u00e5ned","prev-year":"\u00c5r","next":"Neste","next-week":"Uke","next-month":"M\u00e5ned","next-year":"\u00c5r","less-than":"Datoperioden skal ikkje v\u00e6re lengre enn %d dager","more-than":"Datoperioden skal ikkje v\u00e6re kortere enn %d dager","default-more":"Vennligst velg ein datoperiode lengre enn %d dager","default-single":"Vennligst velg ein dato","default-less":"Vennligst velg ein datoperiode mindre enn %d dager",
"default-range":"Vennligst velg ein datoperiode mellom %d og %d dager","default-default":"Vennligst velg ein datoperiode","time":"Tid","hour":"Time","minute":"Minutter"},"nl":{"selected":"Geselecteerd:","day":"Dag","days":"Dagen","apply":"Ok","week-1":"ma","week-2":"di","week-3":"wo","week-4":"do","week-5":"vr","week-6":"za","week-7":"zo","month-name":["januari","februari","maart","april","mei","juni","juli","augustus","september","october","november","december"],"shortcuts":"Snelkoppelingen","custom-values":"Aangepaste waarden",
"past":"Verleden","following":"Komend","previous":"Vorige","prev-week":"Week","prev-month":"Maand","prev-year":"Jaar","next":"Volgende","next-week":"Week","next-month":"Maand","next-year":"Jaar","less-than":"Interval moet langer dan %d dagen zijn","more-than":"Interval mag niet minder dan %d dagen zijn","default-more":"Selecteer een interval langer dan %dagen","default-single":"Selecteer een datum","default-less":"Selecteer een interval minder dan %d dagen","default-range":"Selecteer een interval tussen %d en %d dagen",
"default-default":"Selecteer een interval","time":"Tijd","hour":"Uur","minute":"Minuut"},"ru":{"selected":"\u0412\u044b\u0431\u0440\u0430\u043d\u043e:","day":"\u0414\u0435\u043d\u044c","days":"\u0414\u043d\u0435\u0439","apply":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","week-1":"\u043f\u043d","week-2":"\u0432\u0442","week-3":"\u0441\u0440","week-4":"\u0447\u0442","week-5":"\u043f\u0442","week-6":"\u0441\u0431","week-7":"\u0432\u0441","month-name":["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c",
"\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"],"shortcuts":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0432\u044b\u0431\u043e\u0440","past":"\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435",
"following":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435","previous":"&nbsp;&nbsp;&nbsp;","prev-week":"\u041d\u0435\u0434\u0435\u043b\u044f","prev-month":"\u041c\u0435\u0441\u044f\u0446","prev-year":"\u0413\u043e\u0434","next":"&nbsp;&nbsp;&nbsp;","next-week":"\u041d\u0435\u0434\u0435\u043b\u044f","next-month":"\u041c\u0435\u0441\u044f\u0446","next-year":"\u0413\u043e\u0434","less-than":"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 %d \u0434\u043d\u0435\u0439",
"more-than":"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 %d \u0434\u043d\u0435\u0439","default-more":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0431\u043e\u043b\u044c\u0448\u0435 %d \u0434\u043d\u0435\u0439","default-single":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",
"default-less":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0435\u043d\u044c\u0448\u0435 %d \u0434\u043d\u0435\u0439","default-range":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0435\u0436\u0434\u0443 %d \u0438 %d \u0434\u043d\u044f\u043c\u0438","default-default":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d"},
"pl":{"selected":"Wybrany:","day":"Dzie\u0144","days":"Dni","apply":"Zamknij","week-1":"pon","week-2":"wt","week-3":"\u015br","week-4":"czw","week-5":"pt","week-6":"so","week-7":"nd","month-name":["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"],"shortcuts":"Skr\u00f3ty","custom-values":"Niestandardowe warto\u015bci","past":"Przesz\u0142e","following":"Nast\u0119pne","previous":"Poprzednie","prev-week":"tydzie\u0144",
"prev-month":"miesi\u0105c","prev-year":"rok","next":"Nast\u0119pny","next-week":"tydzie\u0144","next-month":"miesi\u0105c","next-year":"rok","less-than":"Okres nie powinien by\u0107 d\u0142u\u017cszy ni\u017c %d dni","more-than":"Okres nie powinien by\u0107 kr\u00f3tszy ni\u017c  %d ni","default-more":"Wybierz okres d\u0142u\u017cszy ni\u017c %d dni","default-single":"Wybierz dat\u0119","default-less":"Wybierz okres kr\u00f3tszy ni\u017c %d dni","default-range":"Wybierz okres trwaj\u0105cy od %d do %d dni",
"default-default":"Wybierz okres","time":"Czas","hour":"Godzina","minute":"Minuta"},"se":{"selected":"Vald:","day":"dag","days":"dagar","apply":"godk\u00e4nn","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"l\u00f6","week-7":"s\u00f6","month-name":["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],"shortcuts":"genv\u00e4gar","custom-values":"Anpassade v\u00e4rden","past":"\u00f6ver","following":"f\u00f6ljande",
"previous":"f\u00f6rra","prev-week":"vecka","prev-month":"m\u00e5nad","prev-year":"\u00e5r","next":"n\u00e4sta","next-week":"vecka","next-month":"m\u00e5ned","next-year":"\u00e5r","less-than":"Datumintervall b\u00f6r inte vara mindre \u00e4n %d dagar","more-than":"Datumintervall b\u00f6r inte vara mer \u00e4n %d dagar","default-more":"V\u00e4lj ett datumintervall l\u00e4ngre \u00e4n %d dagar","default-single":"V\u00e4lj ett datum","default-less":"V\u00e4lj ett datumintervall mindre \u00e4n %d dagar",
"default-range":"V\u00e4lj ett datumintervall mellan %d och %d dagar","default-default":"V\u00e4lj ett datumintervall","time":"tid","hour":"timme","minute":"minut"},"pt":{"selected":"Selecionado:","day":"Dia","days":"Dias","apply":"Fechar","week-1":"seg","week-2":"ter","week-3":"qua","week-4":"qui","week-5":"sex","week-6":"sab","week-7":"dom","week-number":"N","month-name":["janeiro","fevereiro","mar\u00e7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"shortcuts":"Atalhos",
"custom-values":"Valores Personalizados","past":"Passado","following":"Seguinte","previous":"Anterior","prev-week":"Semana","prev-month":"M\u00eas","prev-year":"Ano","next":"Pr\u00f3ximo","next-week":"Pr\u00f3xima Semana","next-month":"Pr\u00f3ximo M\u00eas","next-year":"Pr\u00f3ximo Ano","less-than":"O per\u00edodo selecionado n\u00e3o deve ser maior que %d dias","more-than":"O per\u00edodo selecionado n\u00e3o deve ser menor que %d dias","default-more":"Selecione um per\u00edodo superior a %d dias",
"default-single":"Selecione uma data","default-less":"Selecione um per\u00edodo inferior a %d dias","default-range":"Selecione um per\u00edodo de %d a %d dias","default-default":"Selecione um per\u00edodo","time":"Tempo","hour":"Hora","minute":"Minuto"},"tc":{"selected":"\u5df2\u9078\u64c7:","day":"\u5929","days":"\u5929","apply":"\u78ba\u5b9a","week-1":"\u4e00","week-2":"\u4e8c","week-3":"\u4e09","week-4":"\u56db","week-5":"\u4e94","week-6":"\u516d","week-7":"\u65e5","week-number":"\u5468","month-name":["\u4e00\u6708",
"\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],"shortcuts":"\u5feb\u901f\u9078\u64c7","past":"\u904e\u53bb","following":"\u5c07\u4f86","previous":"&nbsp;&nbsp;&nbsp;","prev-week":"\u4e0a\u9031","prev-month":"\u4e0a\u500b\u6708","prev-year":"\u53bb\u5e74","next":"&nbsp;&nbsp;&nbsp;","next-week":"\u4e0b\u5468","next-month":"\u4e0b\u500b\u6708","next-year":"\u660e\u5e74",
"less-than":"\u6240\u9078\u65e5\u671f\u7bc4\u570d\u4e0d\u80fd\u5927\u65bc%d\u5929","more-than":"\u6240\u9078\u65e5\u671f\u7bc4\u570d\u4e0d\u80fd\u5c0f\u65bc%d\u5929","default-more":"\u8acb\u9078\u64c7\u5927\u65bc%d\u5929\u7684\u65e5\u671f\u7bc4\u570d","default-less":"\u8acb\u9078\u64c7\u5c0f\u65bc%d\u5929\u7684\u65e5\u671f\u7bc4\u570d","default-range":"\u8acb\u9078\u64c7%d\u5929\u5230%d\u5929\u7684\u65e5\u671f\u7bc4\u570d","default-single":"\u8acb\u9078\u64c7\u4e00\u500b\u65e5\u671f","default-default":"\u8acb\u9078\u64c7\u4e00\u500b\u65e5\u671f\u7bc4\u570d",
"time":"\u65e5\u671f","hour":"\u5c0f\u6642","minute":"\u5206\u9418"}};$.fn.dateRangePicker=function(opt){if(!opt)opt={};opt=$.extend(true,{autoClose:false,format:"YYYY-MM-DD",separator:" to ",language:"auto",startOfWeek:"sunday",getValue:function(){return $(this).val()},setValue:function(s){if(!$(this).attr("readonly")&&!$(this).is(":disabled")&&s!=$(this).val())$(this).val(s)},startDate:false,endDate:false,time:{enabled:false},minDays:0,maxDays:0,showShortcuts:false,shortcuts:{},customShortcuts:[],
inline:false,container:"body",alwaysOpen:false,singleDate:false,lookBehind:false,batchMode:false,duration:200,stickyMonths:false,dayDivAttrs:[],dayTdAttrs:[],selectForward:false,selectBackward:false,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(days,startTime,hoveringTime){return days>1?days+" "+lang("days"):""},showTopbar:true,swapTime:false,showWeekNumbers:false,getWeekNumber:function(date){return moment(date).format("w")},customOpenAnimation:null,customCloseAnimation:null},opt);
opt.start=false;opt.end=false;opt.startWeek=false;opt.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints;if(opt.isTouchDevice)opt.hoveringTooltip=false;if(opt.singleMonth=="auto")opt.singleMonth=$(window).width()<480;if(opt.singleMonth)opt.stickyMonths=false;if(!opt.showTopbar)opt.autoClose=true;if(opt.startDate&&typeof opt.startDate=="string")opt.startDate=moment(opt.startDate,opt.format).toDate();if(opt.endDate&&typeof opt.endDate=="string")opt.endDate=moment(opt.endDate,opt.format).toDate();
var langs=getLanguages();var box;var initiated=false;var self=this;var selfDom=$(self).get(0);var domChangeTimer;$(this).unbind(".datepicker").bind("click.datepicker",function(evt){var isOpen=box.is(":visible");if(!isOpen)open(opt.duration)}).bind("change.datepicker",function(evt){checkAndSetDefaultValue()}).bind("keyup.datepicker",function(){try{clearTimeout(domChangeTimer)}catch(e){}domChangeTimer=setTimeout(function(){checkAndSetDefaultValue()},2E3)});init_datepicker.call(this);if(opt.alwaysOpen)open(0);
$(this).data("dateRangePicker",{setDateRange:function(d1,d2,silent){if(typeof d1=="string"&&typeof d2=="string"){d1=moment(d1,opt.format).toDate();d2=moment(d2,opt.format).toDate()}setDateRange(d1,d2,silent)},clear:clearSelection,close:closeDatePicker,open:open,redraw:redrawDatePicker,getDatePicker:getDatePicker,resetMonthsView:resetMonthsView,destroy:function(){$(self).unbind(".datepicker");$(self).data("dateRangePicker","");$(self).data("date-picker-opened",null);box.remove();$(window).unbind("resize.datepicker",
calcPosition);$(document).unbind("click.datepicker",closeDatePicker)}});$(window).bind("resize.datepicker",calcPosition);return this;function IsOwnDatePickerClicked(evt,selfObj){return selfObj.contains(evt.target)||evt.target==selfObj||selfObj.childNodes!=undefined&&$.inArray(evt.target,selfObj.childNodes)>=0}function init_datepicker(){var self=this;if($(this).data("date-picker-opened")){closeDatePicker();return}$(this).data("date-picker-opened",true);box=createDom().hide();box.append('<div class="date-range-length-tip"></div>');
box.delegate(".day","mouseleave",function(){box.find(".date-range-length-tip").hide();if(opt.singleDate)clearHovering()});$(opt.container).append(box);if(!opt.inline)calcPosition();else box.addClass("inline-wrapper");if(opt.alwaysOpen)box.find(".apply-btn").hide();var defaultTime=getDefaultTime();resetMonthsView(defaultTime);if(opt.time.enabled)if(opt.startDate&&opt.endDate||opt.start&&opt.end){showTime(moment(opt.start||opt.startDate).toDate(),"time1");showTime(moment(opt.end||opt.endDate).toDate(),
"time2")}else{var defaultEndTime=opt.defaultEndTime?opt.defaultEndTime:defaultTime;showTime(defaultTime,"time1");showTime(defaultEndTime,"time2")}var defaultTopText="";if(opt.singleDate)defaultTopText=lang("default-single");else if(opt.minDays&&opt.maxDays)defaultTopText=lang("default-range");else if(opt.minDays)defaultTopText=lang("default-more");else if(opt.maxDays)defaultTopText=lang("default-less");else defaultTopText=lang("default-default");box.find(".default-top").html(defaultTopText.replace(/\%d/,
opt.minDays).replace(/\%d/,opt.maxDays));if(opt.singleMonth)box.addClass("single-month");else box.addClass("two-months");setTimeout(function(){updateCalendarWidth();initiated=true},0);box.click(function(evt){evt.stopPropagation()});$(document).bind("click.datepicker",function(evt){if(!IsOwnDatePickerClicked(evt,self[0]))if(box.is(":visible"))closeDatePicker()});box.find(".next").click(function(){if(!opt.stickyMonths)gotoNextMonth(this);else gotoNextMonth_stickily(this)});function gotoNextMonth(self){var isMonth2=
$(self).parents("table").hasClass("month2");var month=isMonth2?opt.month2:opt.month1;month=nextMonth(month);if(!opt.singleMonth&&!opt.singleDate&&!isMonth2&&compare_month(month,opt.month2)>=0||isMonthOutOfBounds(month))return;showMonth(month,isMonth2?"month2":"month1");showGap()}function gotoNextMonth_stickily(self){var nextMonth1=nextMonth(opt.month1);var nextMonth2=nextMonth(opt.month2);if(isMonthOutOfBounds(nextMonth2))return;if(!opt.singleDate&&compare_month(nextMonth1,nextMonth2)>=0)return;showMonth(nextMonth1,
"month1");showMonth(nextMonth2,"month2");showSelectedDays()}box.find(".prev").click(function(){if(!opt.stickyMonths)gotoPrevMonth(this);else gotoPrevMonth_stickily(this)});function gotoPrevMonth(self){var isMonth2=$(self).parents("table").hasClass("month2");var month=isMonth2?opt.month2:opt.month1;month=prevMonth(month);if(isMonth2&&compare_month(month,opt.month1)<=0||isMonthOutOfBounds(month))return;showMonth(month,isMonth2?"month2":"month1");showGap()}function gotoPrevMonth_stickily(self){var prevMonth1=
prevMonth(opt.month1);var prevMonth2=prevMonth(opt.month2);if(isMonthOutOfBounds(prevMonth1))return;if(!opt.singleDate&&compare_month(prevMonth2,prevMonth1)<=0)return;showMonth(prevMonth2,"month2");showMonth(prevMonth1,"month1");showSelectedDays()}box.delegate(".day","click",function(evt){dayClicked($(this))});box.delegate(".day","mouseenter",function(evt){dayHovering($(this))});box.delegate(".week-number","click",function(evt){weekNumberClicked($(this))});box.attr("unselectable","on").css("user-select",
"none").bind("selectstart",function(e){e.preventDefault();return false});box.find(".apply-btn").click(function(){closeDatePicker();var dateRange=getDateString(new Date(opt.start))+opt.separator+getDateString(new Date(opt.end));$(self).trigger("datepicker-apply",{"value":dateRange,"date1":new Date(opt.start),"date2":new Date(opt.end)})});box.find("[custom]").click(function(){var valueName=$(this).attr("custom");opt.start=false;opt.end=false;box.find(".day.checked").removeClass("checked");opt.setValue.call(selfDom,
valueName);checkSelectionValid();showSelectedInfo(true);showSelectedDays();if(opt.autoClose)closeDatePicker()});box.find("[shortcut]").click(function(){var shortcut=$(this).attr("shortcut");var end=new Date,start=false;var dir;if(shortcut.indexOf("day")!=-1){var day=parseInt(shortcut.split(",",2)[1],10);start=new Date((new Date).getTime()+864E5*day);end=new Date(end.getTime()+864E5*(day>0?1:-1))}else if(shortcut.indexOf("week")!=-1){dir=shortcut.indexOf("prev,")!=-1?-1:1;var stopDay;if(dir==1)stopDay=
opt.startOfWeek=="monday"?1:0;else stopDay=opt.startOfWeek=="monday"?0:6;end=new Date(end.getTime()-864E5);while(end.getDay()!=stopDay)end=new Date(end.getTime()+dir*864E5);start=new Date(end.getTime()+dir*864E5*6)}else if(shortcut.indexOf("month")!=-1){dir=shortcut.indexOf("prev,")!=-1?-1:1;if(dir==1)start=nextMonth(end);else start=prevMonth(end);start.setDate(1);end=nextMonth(start);end.setDate(1);end=new Date(end.getTime()-864E5)}else if(shortcut.indexOf("year")!=-1){dir=shortcut.indexOf("prev,")!=
-1?-1:1;start=new Date;start.setFullYear(end.getFullYear()+dir);start.setMonth(0);start.setDate(1);end.setFullYear(end.getFullYear()+dir);end.setMonth(11);end.setDate(31)}else if(shortcut=="custom"){var name=$(this).html();if(opt.customShortcuts&&opt.customShortcuts.length>0)for(var i=0;i<opt.customShortcuts.length;i++){var sh=opt.customShortcuts[i];if(sh.name==name){var data=[];data=sh["dates"].call();if(data&&data.length==2){start=data[0];end=data[1]}if(data&&data.length==1){var movetodate=data[0];
showMonth(movetodate,"month1");showMonth(nextMonth(movetodate),"month2");showGap()}break}}}if(start&&end){setDateRange(start,end);checkSelectionValid()}});box.find(".time1 input[type=range]").bind("change touchmove",function(e){var target=e.target,hour=target.name=="hour"?$(target).val().replace(/^(\d{1})$/,"0$1"):undefined,min=target.name=="minute"?$(target).val().replace(/^(\d{1})$/,"0$1"):undefined;setTime("time1",hour,min)});box.find(".time2 input[type=range]").bind("change touchmove",function(e){var target=
e.target,hour=target.name=="hour"?$(target).val().replace(/^(\d{1})$/,"0$1"):undefined,min=target.name=="minute"?$(target).val().replace(/^(\d{1})$/,"0$1"):undefined;setTime("time2",hour,min)})}function calcPosition(){if(!opt.inline){var offset=$(self).offset();if($(opt.container).css("position")=="relative"){var containerOffset=$(opt.container).offset();box.css({top:offset.top-containerOffset.top+$(self).outerHeight()+4,left:offset.left-containerOffset.left})}else if(offset.left<460)box.css({top:offset.top+
$(self).outerHeight()+parseInt($("body").css("border-top")||0,10),left:offset.left});else box.css({top:offset.top+$(self).outerHeight()+parseInt($("body").css("border-top")||0,10),left:offset.left+$(self).width()-box.width()-16})}}function getDatePicker(){return box}function open(animationTime){calcPosition();redrawDatePicker();checkAndSetDefaultValue();if(opt.customOpenAnimation)opt.customOpenAnimation.call(box.get(0),function(){$(self).trigger("datepicker-opened",{relatedTarget:box})});else box.slideDown(animationTime,
function(){$(self).trigger("datepicker-opened",{relatedTarget:box})});$(self).trigger("datepicker-open",{relatedTarget:box});showGap();updateCalendarWidth()}function checkAndSetDefaultValue(){var __default_string=opt.getValue.call(selfDom);var defaults=__default_string?__default_string.split(opt.separator):"";if(defaults&&(defaults.length==1&&opt.singleDate||defaults.length>=2)){var ___format=opt.format;if(___format.match(/Do/)){___format=___format.replace(/Do/,"D");defaults[0]=defaults[0].replace(/(\d+)(th|nd|st)/,
"$1");if(defaults.length>=2)defaults[1]=defaults[1].replace(/(\d+)(th|nd|st)/,"$1")}initiated=false;if(defaults.length>=2)setDateRange(getValidValue(defaults[0],___format,moment.locale(opt.language)),getValidValue(defaults[1],___format,moment.locale(opt.language)));else if(defaults.length==1&&opt.singleDate)setSingleDate(getValidValue(defaults[0],___format,moment.locale(opt.language)));initiated=true}}function getValidValue(date,format,locale){if(moment(date,format,locale).isValid())return moment(date,
format,locale).toDate();else return moment().toDate()}function updateCalendarWidth(){var gapMargin=box.find(".gap").css("margin-left");if(gapMargin)gapMargin=parseInt(gapMargin);var w1=box.find(".month1").width();var w2=box.find(".gap").width()+(gapMargin?gapMargin*2:0);var w3=box.find(".month2").width();box.find(".month-wrapper").width(w1+w2+w3)}function renderTime(name,date){box.find("."+name+" input[type=range].hour-range").val(moment(date).hours());box.find("."+name+" input[type=range].minute-range").val(moment(date).minutes());
setTime(name,moment(date).format("HH"),moment(date).format("mm"))}function changeTime(name,date){opt[name]=parseInt(moment(parseInt(date)).startOf("day").add(moment(opt[name+"Time"]).format("HH"),"h").add(moment(opt[name+"Time"]).format("mm"),"m").valueOf())}function swapTime(){renderTime("time1",opt.start);renderTime("time2",opt.end)}function setTime(name,hour,minute){hour&&box.find("."+name+" .hour-val").text(hour);minute&&box.find("."+name+" .minute-val").text(minute);switch(name){case "time1":if(opt.start)setRange("start",
moment(opt.start));setRange("startTime",moment(opt.startTime||moment().valueOf()));break;case "time2":if(opt.end)setRange("end",moment(opt.end));setRange("endTime",moment(opt.endTime||moment().valueOf()));break}function setRange(name,timePoint){var h=timePoint.format("HH"),m=timePoint.format("mm");opt[name]=timePoint.startOf("day").add(hour||h,"h").add(minute||m,"m").valueOf()}checkSelectionValid();showSelectedInfo();showSelectedDays()}function clearSelection(){opt.start=false;opt.end=false;box.find(".day.checked").removeClass("checked");
box.find(".day.last-date-selected").removeClass("last-date-selected");box.find(".day.first-date-selected").removeClass("first-date-selected");opt.setValue.call(selfDom,"");checkSelectionValid();showSelectedInfo();showSelectedDays()}function handleStart(time){var r=time;if(opt.batchMode==="week-range")if(opt.startOfWeek==="monday")r=moment(parseInt(time)).startOf("isoweek").valueOf();else r=moment(parseInt(time)).startOf("week").valueOf();else if(opt.batchMode==="month-range")r=moment(parseInt(time)).startOf("month").valueOf();
return r}function handleEnd(time){var r=time;if(opt.batchMode==="week-range")if(opt.startOfWeek==="monday")r=moment(parseInt(time)).endOf("isoweek").valueOf();else r=moment(parseInt(time)).endOf("week").valueOf();else if(opt.batchMode==="month-range")r=moment(parseInt(time)).endOf("month").valueOf();return r}function dayClicked(day){if(day.hasClass("invalid"))return;var time=day.attr("time");day.addClass("checked");if(opt.singleDate){opt.start=time;opt.end=false}else if(opt.batchMode==="week")if(opt.startOfWeek===
"monday"){opt.start=moment(parseInt(time)).startOf("isoweek").valueOf();opt.end=moment(parseInt(time)).endOf("isoweek").valueOf()}else{opt.end=moment(parseInt(time)).endOf("week").valueOf();opt.start=moment(parseInt(time)).startOf("week").valueOf()}else if(opt.batchMode==="workweek"){opt.start=moment(parseInt(time)).day(1).valueOf();opt.end=moment(parseInt(time)).day(5).valueOf()}else if(opt.batchMode==="weekend"){opt.start=moment(parseInt(time)).day(6).valueOf();opt.end=moment(parseInt(time)).day(7).valueOf()}else if(opt.batchMode===
"month"){opt.start=moment(parseInt(time)).startOf("month").valueOf();opt.end=moment(parseInt(time)).endOf("month").valueOf()}else if(opt.start&&opt.end||!opt.start&&!opt.end){opt.start=handleStart(time);opt.end=false}else if(opt.start){opt.end=handleEnd(time);if(opt.time.enabled)changeTime("end",opt.end)}if(opt.time.enabled){if(opt.start)changeTime("start",opt.start);if(opt.end)changeTime("end",opt.end)}if(!opt.singleDate&&opt.start&&opt.end&&opt.start>opt.end){var tmp=opt.end;opt.end=handleEnd(opt.start);
opt.start=handleStart(tmp);if(opt.time.enabled&&opt.swapTime)swapTime()}opt.start=parseInt(opt.start);opt.end=parseInt(opt.end);clearHovering();if(opt.start&&!opt.end){$(self).trigger("datepicker-first-date-selected",{"date1":new Date(opt.start)});dayHovering(day)}updateSelectableRange(time);checkSelectionValid();showSelectedInfo();showSelectedDays();autoclose()}function weekNumberClicked(weekNumberDom){var thisTime=parseInt(weekNumberDom.attr("data-start-time"),10);var date1,date2;if(!opt.startWeek){opt.startWeek=
thisTime;weekNumberDom.addClass("week-number-selected");date1=new Date(thisTime);opt.start=moment(date1).day(opt.startOfWeek=="monday"?1:0).valueOf();opt.end=moment(date1).day(opt.startOfWeek=="monday"?7:6).valueOf()}else{box.find(".week-number-selected").removeClass("week-number-selected");date1=new Date(thisTime<opt.startWeek?thisTime:opt.startWeek);date2=new Date(thisTime<opt.startWeek?opt.startWeek:thisTime);opt.startWeek=false;opt.start=moment(date1).day(opt.startOfWeek=="monday"?1:0).valueOf();
opt.end=moment(date2).day(opt.startOfWeek=="monday"?7:6).valueOf()}updateSelectableRange();checkSelectionValid();showSelectedInfo();showSelectedDays();autoclose()}function isValidTime(time){time=parseInt(time,10);if(opt.startDate&&compare_day(time,opt.startDate)<0)return false;if(opt.endDate&&compare_day(time,opt.endDate)>0)return false;if(opt.start&&!opt.end&&!opt.singleDate){if(opt.maxDays>0&&countDays(time,opt.start)>opt.maxDays)return false;if(opt.minDays>0&&countDays(time,opt.start)<opt.minDays)return false;
if(opt.selectForward&&time<opt.start)return false;if(opt.selectBackward&&time>opt.start)return false;if(opt.beforeShowDay&&typeof opt.beforeShowDay=="function"){var valid=true;var timeTmp=time;while(countDays(timeTmp,opt.start)>1){var arr=opt.beforeShowDay(new Date(timeTmp));if(!arr[0]){valid=false;break}if(Math.abs(timeTmp-opt.start)<864E5)break;if(timeTmp>opt.start)timeTmp-=864E5;if(timeTmp<opt.start)timeTmp+=864E5}if(!valid)return false}}return true}function updateSelectableRange(){box.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid");
if(opt.start&&!opt.end)box.find(".day.toMonth.valid").each(function(){var time=parseInt($(this).attr("time"),10);if(!isValidTime(time))$(this).addClass("invalid tmp").removeClass("valid");else $(this).addClass("valid tmp").removeClass("invalid")});return true}function dayHovering(day){var hoverTime=parseInt(day.attr("time"));var tooltip="";if(day.hasClass("has-tooltip")&&day.attr("data-tooltip"))tooltip='<span style="white-space:nowrap">'+day.attr("data-tooltip")+"</span>";else if(!day.hasClass("invalid"))if(opt.singleDate){box.find(".day.hovering").removeClass("hovering");
day.addClass("hovering")}else{box.find(".day").each(function(){var time=parseInt($(this).attr("time")),start=opt.start,end=opt.end;if(time==hoverTime)$(this).addClass("hovering");else $(this).removeClass("hovering");if(opt.start&&!opt.end&&(opt.start<time&&hoverTime>=time||opt.start>time&&hoverTime<=time))$(this).addClass("hovering");else $(this).removeClass("hovering")});if(opt.start&&!opt.end){var days=countDays(hoverTime,opt.start);if(opt.hoveringTooltip)if(typeof opt.hoveringTooltip=="function")tooltip=
opt.hoveringTooltip(days,opt.start,hoverTime);else if(opt.hoveringTooltip===true&&days>1)tooltip=days+" "+lang("days")}}if(tooltip){var posDay=day.offset();var posBox=box.offset();var _left=posDay.left-posBox.left;var _top=posDay.top-posBox.top;_left+=day.width()/2;var $tip=box.find(".date-range-length-tip");var w=$tip.css({"visibility":"hidden","display":"none"}).html(tooltip).width();var h=$tip.height();_left-=w/2;_top-=h;setTimeout(function(){$tip.css({left:_left,top:_top,display:"block","visibility":"visible"})},
10)}else box.find(".date-range-length-tip").hide()}function clearHovering(){box.find(".day.hovering").removeClass("hovering");box.find(".date-range-length-tip").hide()}function autoclose(){if(opt.singleDate===true){if(initiated&&opt.start)if(opt.autoClose)closeDatePicker()}else if(initiated&&opt.start&&opt.end)if(opt.autoClose)closeDatePicker()}function checkSelectionValid(){var days=Math.ceil((opt.end-opt.start)/864E5)+1;if(opt.singleDate)if(opt.start&&!opt.end)box.find(".drp_top-bar").removeClass("error").addClass("normal");
else box.find(".drp_top-bar").removeClass("error").removeClass("normal");else if(opt.maxDays&&days>opt.maxDays){opt.start=false;opt.end=false;box.find(".day").removeClass("checked");box.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(lang("less-than").replace("%d",opt.maxDays))}else if(opt.minDays&&days<opt.minDays){opt.start=false;opt.end=false;box.find(".day").removeClass("checked");box.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(lang("more-than").replace("%d",
opt.minDays))}else if(opt.start||opt.end)box.find(".drp_top-bar").removeClass("error").addClass("normal");else box.find(".drp_top-bar").removeClass("error").removeClass("normal");if(opt.singleDate&&opt.start&&!opt.end||!opt.singleDate&&opt.start&&opt.end)box.find(".apply-btn").removeClass("disabled");else box.find(".apply-btn").addClass("disabled");if(opt.batchMode)if(opt.start&&opt.startDate&&compare_day(opt.start,opt.startDate)<0||opt.end&&opt.endDate&&compare_day(opt.end,opt.endDate)>0){opt.start=
false;opt.end=false;box.find(".day").removeClass("checked")}}function showSelectedInfo(forceValid,silent){box.find(".start-day").html("...");box.find(".end-day").html("...");box.find(".selected-days").hide();if(opt.start)box.find(".start-day").html(getDateString(new Date(parseInt(opt.start))));if(opt.end)box.find(".end-day").html(getDateString(new Date(parseInt(opt.end))));var dateRange;if(opt.start&&opt.singleDate){box.find(".apply-btn").removeClass("disabled");dateRange=getDateString(new Date(opt.start));
opt.setValue.call(selfDom,dateRange,getDateString(new Date(opt.start)),getDateString(new Date(opt.end)));if(initiated&&!silent)$(self).trigger("datepicker-change",{"value":dateRange,"date1":new Date(opt.start)})}else if(opt.start&&opt.end){box.find(".selected-days").show().find(".selected-days-num").html(countDays(opt.end,opt.start));box.find(".apply-btn").removeClass("disabled");dateRange=getDateString(new Date(opt.start))+opt.separator+getDateString(new Date(opt.end));opt.setValue.call(selfDom,
dateRange,getDateString(new Date(opt.start)),getDateString(new Date(opt.end)));if(initiated&&!silent)$(self).trigger("datepicker-change",{"value":dateRange,"date1":new Date(opt.start),"date2":new Date(opt.end)})}else if(forceValid)box.find(".apply-btn").removeClass("disabled");else box.find(".apply-btn").addClass("disabled")}function countDays(start,end){return Math.abs(daysFrom1970(start)-daysFrom1970(end))+1}function setDateRange(date1,date2,silent){if(date1.getTime()>date2.getTime()){var tmp=date2;
date2=date1;date1=tmp;tmp=null}var valid=true;if(opt.startDate&&compare_day(date1,opt.startDate)<0)valid=false;if(opt.endDate&&compare_day(date2,opt.endDate)>0)valid=false;if(!valid){showMonth(opt.startDate,"month1");showMonth(nextMonth(opt.startDate),"month2");showGap();return}opt.start=date1.getTime();opt.end=date2.getTime();if(opt.time.enabled){renderTime("time1",date1);renderTime("time2",date2)}if(opt.stickyMonths||compare_day(date1,date2)>0&&compare_month(date1,date2)===0)if(opt.lookBehind)date1=
prevMonth(date2);else date2=nextMonth(date1);if(opt.stickyMonths&&opt.endDate!==false&&compare_month(date2,opt.endDate)>0){date1=prevMonth(date1);date2=prevMonth(date2)}if(!opt.stickyMonths)if(compare_month(date1,date2)===0)if(opt.lookBehind)date1=prevMonth(date2);else date2=nextMonth(date1);showMonth(date1,"month1");showMonth(date2,"month2");showGap();checkSelectionValid();showSelectedInfo(false,silent);autoclose()}function setSingleDate(date1){var valid=true;if(opt.startDate&&compare_day(date1,
opt.startDate)<0)valid=false;if(opt.endDate&&compare_day(date1,opt.endDate)>0)valid=false;if(!valid){showMonth(opt.startDate,"month1");return}opt.start=date1.getTime();if(opt.time.enabled)renderTime("time1",date1);showMonth(date1,"month1");if(opt.singleMonth!==true){var date2=nextMonth(date1);showMonth(date2,"month2")}showGap();showSelectedInfo();autoclose()}function showSelectedDays(){if(!opt.start&&!opt.end)return;box.find(".day").each(function(){var time=parseInt($(this).attr("time")),start=opt.start,
end=opt.end;if(opt.time.enabled){time=moment(time).startOf("day").valueOf();start=moment(start||moment().valueOf()).startOf("day").valueOf();end=moment(end||moment().valueOf()).startOf("day").valueOf()}if(opt.start&&opt.end&&end>=time&&start<=time||opt.start&&!opt.end&&moment(start).format("YYYY-MM-DD")==moment(time).format("YYYY-MM-DD"))$(this).addClass("checked");else $(this).removeClass("checked");if(opt.start&&moment(start).format("YYYY-MM-DD")==moment(time).format("YYYY-MM-DD"))$(this).addClass("first-date-selected");
else $(this).removeClass("first-date-selected");if(opt.end&&moment(end).format("YYYY-MM-DD")==moment(time).format("YYYY-MM-DD"))$(this).addClass("last-date-selected");else $(this).removeClass("last-date-selected")});box.find(".week-number").each(function(){if($(this).attr("data-start-time")==opt.startWeek)$(this).addClass("week-number-selected")})}function showMonth(date,month){date=moment(date).toDate();var monthName=nameMonth(date.getMonth());box.find("."+month+" .month-name").html(monthName+" "+
date.getFullYear());box.find("."+month+" tbody").html(createMonthHTML(date));opt[month]=date;updateSelectableRange()}function showTime(date,name){box.find("."+name).append(getTimeHTML());renderTime(name,date)}function nameMonth(m){return lang("month-name")[m]}function getDateString(d){return moment(d).format(opt.format)}function showGap(){showSelectedDays();var m1=parseInt(moment(opt.month1).format("YYYYMM"));var m2=parseInt(moment(opt.month2).format("YYYYMM"));var p=Math.abs(m1-m2);var shouldShow=
p>1&&p!=89;if(shouldShow)box.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible");else box.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");var h1=box.find("table.month1").height();var h2=box.find("table.month2").height();box.find(".gap").height(Math.max(h1,h2)+10)}function closeDatePicker(){if(opt.alwaysOpen)return;var afterAnim=function(){$(self).data("date-picker-opened",false);$(self).trigger("datepicker-closed",{relatedTarget:box})};
if(opt.customCloseAnimation)opt.customCloseAnimation.call(box.get(0),afterAnim);else $(box).slideUp(opt.duration,afterAnim);$(self).trigger("datepicker-close",{relatedTarget:box})}function redrawDatePicker(){showMonth(opt.month1,"month1");showMonth(opt.month2,"month2")}function compare_month(m1,m2){var p=parseInt(moment(m1).format("YYYYMM"))-parseInt(moment(m2).format("YYYYMM"));if(p>0)return 1;if(p===0)return 0;return-1}function compare_day(m1,m2){var p=parseInt(moment(m1).format("YYYYMMDD"))-parseInt(moment(m2).format("YYYYMMDD"));
if(p>0)return 1;if(p===0)return 0;return-1}function nextMonth(month){return moment(month).add(1,"months").toDate()}function prevMonth(month){return moment(month).add(-1,"months").toDate()}function getTimeHTML(){return"<div>"+"<span>"+lang("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span>'+"</div>"+'<div class="hour">'+"<label>"+lang("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label>'+"</div>"+'<div class="minute">'+"<label>"+
lang("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label>'+"</div>"}function createDom(){var html='<div class="date-picker-wrapper';if(opt.extraClass)html+=" "+opt.extraClass+" ";if(opt.singleDate)html+=" single-date ";if(!opt.showShortcuts)html+=" no-shortcuts ";if(!opt.showTopbar)html+=" no-topbar ";if(opt.customTopBar)html+=" custom-topbar ";html+='">';if(opt.showTopbar){html+='<div class="drp_top-bar">';if(opt.customTopBar){if(typeof opt.customTopBar==
"function")opt.customTopBar=opt.customTopBar();html+='<div class="custom-top">'+opt.customTopBar+"</div>"}else{html+='<div class="normal-top">'+'<span style="color:#333">'+lang("selected")+' </span> <b class="start-day">...</b>';if(!opt.singleDate)html+=' <span class="separator-day">'+opt.separator+'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> '+lang("days")+")</i>";html+="</div>";html+='<div class="error-top">error</div>'+'<div class="default-top">default</div>'}html+=
'<input type="button" class="apply-btn disabled'+getApplyBtnClass()+'" value="'+lang("apply")+'" />';html+="</div>"}var _colspan=opt.showWeekNumbers?6:5;html+='<div class="month-wrapper">'+'<table class="month1" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;"><span class="prev">&lt;</span></th><th colspan="'+_colspan+'" class="month-name"></th><th style="width:27px;">'+(opt.singleDate||!opt.stickyMonths?'<span class="next">&gt;</span>':"")+'</th></tr><tr class="week-name">'+
getWeekHead()+"</thead><tbody></tbody></table>";if(hasMonth2())html+='<div class="gap"></div>'+'<table class="month2" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;">'+(!opt.stickyMonths?'<span class="prev">&lt;</span>':"")+'</th><th colspan="'+_colspan+'" class="month-name"></th><th style="width:27px;"><span class="next">&gt;</span></th></tr><tr class="week-name">'+getWeekHead()+"</thead><tbody></tbody></table>";html+='<div style="clear:both;height:0;font-size:0;"></div>'+
'<div class="time">'+'<div class="time1"></div>';if(!opt.singleDate)html+='<div class="time2"></div>';html+="</div>"+'<div style="clear:both;height:0;font-size:0;"></div>'+"</div>";html+='<div class="footer">';if(opt.showShortcuts){html+='<div class="shortcuts"><b>'+lang("shortcuts")+"</b>";var data=opt.shortcuts;if(data){var name;if(data["prev-days"]&&data["prev-days"].length>0){html+='&nbsp;<span class="prev-days">'+lang("past");for(var i=0;i<data["prev-days"].length;i++){name=data["prev-days"][i];
name+=data["prev-days"][i]>1?lang("days"):lang("day");html+=' <a href="javascript:;" shortcut="day,-'+data["prev-days"][i]+'">'+name+"</a>"}html+="</span>"}if(data["next-days"]&&data["next-days"].length>0){html+='&nbsp;<span class="next-days">'+lang("following");for(var i=0;i<data["next-days"].length;i++){name=data["next-days"][i];name+=data["next-days"][i]>1?lang("days"):lang("day");html+=' <a href="javascript:;" shortcut="day,'+data["next-days"][i]+'">'+name+"</a>"}html+="</span>"}if(data.prev&&
data.prev.length>0){html+='&nbsp;<span class="prev-buttons">'+lang("previous");for(var i=0;i<data.prev.length;i++){name=lang("prev-"+data.prev[i]);html+=' <a href="javascript:;" shortcut="prev,'+data.prev[i]+'">'+name+"</a>"}html+="</span>"}if(data.next&&data.next.length>0){html+='&nbsp;<span class="next-buttons">'+lang("next");for(var i=0;i<data.next.length;i++){name=lang("next-"+data.next[i]);html+=' <a href="javascript:;" shortcut="next,'+data.next[i]+'">'+name+"</a>"}html+="</span>"}}if(opt.customShortcuts)for(var i=
0;i<opt.customShortcuts.length;i++){var sh=opt.customShortcuts[i];html+='&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+sh.name+"</a></span>"}html+="</div>"}if(opt.showCustomValues){html+='<div class="customValues"><b>'+(opt.customValueLabel||lang("custom-values"))+"</b>";if(opt.customValues)for(var i=0;i<opt.customValues.length;i++){var val=opt.customValues[i];html+='&nbsp;<span class="custom-value"><a href="javascript:;" custom="'+val.value+'">'+val.name+"</a></span>"}}html+=
"</div></div>";return $(html)}function getApplyBtnClass(){var klass="";if(opt.autoClose===true)klass+=" hide";if(opt.applyBtnClass!=="")klass+=" "+opt.applyBtnClass;return klass}function getWeekHead(){var prepend=opt.showWeekNumbers?"<th>"+lang("week-number")+"</th>":"";if(opt.startOfWeek=="monday")return prepend+"<th>"+lang("week-1")+"</th>"+"<th>"+lang("week-2")+"</th>"+"<th>"+lang("week-3")+"</th>"+"<th>"+lang("week-4")+"</th>"+"<th>"+lang("week-5")+"</th>"+"<th>"+lang("week-6")+"</th>"+"<th>"+
lang("week-7")+"</th>";else return prepend+"<th>"+lang("week-7")+"</th>"+"<th>"+lang("week-1")+"</th>"+"<th>"+lang("week-2")+"</th>"+"<th>"+lang("week-3")+"</th>"+"<th>"+lang("week-4")+"</th>"+"<th>"+lang("week-5")+"</th>"+"<th>"+lang("week-6")+"</th>"}function isMonthOutOfBounds(month){month=moment(month);if(opt.startDate&&month.endOf("month").isBefore(opt.startDate))return true;if(opt.endDate&&month.startOf("month").isAfter(opt.endDate))return true;return false}function hasMonth2(){return!opt.singleMonth}
function attributesCallbacks(initialObject,callbacksArray,today){var resultObject=$.extend(true,{},initialObject);$.each(callbacksArray,function(cbAttrIndex,cbAttr){var addAttributes=cbAttr(today);for(var attr in addAttributes)if(resultObject.hasOwnProperty(attr))resultObject[attr]+=addAttributes[attr];else resultObject[attr]=addAttributes[attr]});var attrString="";for(var attr in resultObject)if(resultObject.hasOwnProperty(attr))attrString+=attr+'="'+resultObject[attr]+'" ';return attrString}function daysFrom1970(t){return Math.floor(toLocalTimestamp(t)/
864E5)}function toLocalTimestamp(t){if(moment.isMoment(t))t=t.toDate().getTime();if(typeof t=="object"&&t.getTime)t=t.getTime();if(typeof t=="string"&&!t.match(/\d{13}/))t=moment(t,opt.format).toDate().getTime();t=parseInt(t,10)-(new Date).getTimezoneOffset()*60*1E3;return t}function createMonthHTML(d){var days=[];d.setDate(1);var lastMonth=new Date(d.getTime()-864E5);var now=new Date;var dayOfWeek=d.getDay();if(dayOfWeek===0&&opt.startOfWeek==="monday")dayOfWeek=7;var today,valid;if(dayOfWeek>0)for(var i=
dayOfWeek;i>0;i--){var day=new Date(d.getTime()-864E5*i);valid=isValidTime(day.getTime());if(opt.startDate&&compare_day(day,opt.startDate)<0)valid=false;if(opt.endDate&&compare_day(day,opt.endDate)>0)valid=false;days.push({date:day,type:"lastMonth",day:day.getDate(),time:day.getTime(),valid:valid})}var toMonth=d.getMonth();for(var i=0;i<40;i++){today=moment(d).add(i,"days").toDate();valid=isValidTime(today.getTime());if(opt.startDate&&compare_day(today,opt.startDate)<0)valid=false;if(opt.endDate&&
compare_day(today,opt.endDate)>0)valid=false;days.push({date:today,type:today.getMonth()==toMonth?"toMonth":"nextMonth",day:today.getDate(),time:today.getTime(),valid:valid})}var html=[];for(var week=0;week<6;week++){if(days[week*7].type=="nextMonth")break;html.push("<tr>");for(var day=0;day<7;day++){var _day=opt.startOfWeek=="monday"?day+1:day;today=days[week*7+_day];var highlightToday=moment(today.time).format("L")==moment(now).format("L");today.extraClass="";today.tooltip="";if(today.valid&&opt.beforeShowDay&&
typeof opt.beforeShowDay=="function"){var _r=opt.beforeShowDay(moment(today.time).toDate());today.valid=_r[0];today.extraClass=_r[1]||"";today.tooltip=_r[2]||"";if(today.tooltip!=="")today.extraClass+=" has-tooltip "}var todayDivAttr={time:today.time,"data-tooltip":today.tooltip,"class":"day "+today.type+" "+today.extraClass+" "+(today.valid?"valid":"invalid")+" "+(highlightToday?"real-today":"")};if(day===0&&opt.showWeekNumbers)html.push('<td><div class="week-number" data-start-time="'+today.time+
'">'+opt.getWeekNumber(today.date)+"</div></td>");html.push("<td "+attributesCallbacks({},opt.dayTdAttrs,today)+"><div "+attributesCallbacks(todayDivAttr,opt.dayDivAttrs,today)+">"+showDayHTML(today.time,today.day)+"</div></td>")}html.push("</tr>")}return html.join("")}function showDayHTML(time,date){if(opt.showDateFilter&&typeof opt.showDateFilter=="function")return opt.showDateFilter(time,date);return date}function getLanguages(){if(opt.language=="auto"){var language=navigator.language?navigator.language:
navigator.browserLanguage;if(!language)return $.dateRangePickerLanguages["default"];language=language.toLowerCase();for(var key in $.dateRangePickerLanguages)if(language.indexOf(key)!==-1)return $.dateRangePickerLanguages[key];return $.dateRangePickerLanguages["default"]}else if(opt.language&&opt.language in $.dateRangePickerLanguages)return $.dateRangePickerLanguages[opt.language];else return $.dateRangePickerLanguages["default"]}function lang(t){var _t=t.toLowerCase();var re=t in langs?langs[t]:
_t in langs?langs[_t]:null;var defaultLanguage=$.dateRangePickerLanguages["default"];if(re==null)re=t in defaultLanguage?defaultLanguage[t]:_t in defaultLanguage?defaultLanguage[_t]:"";return re}function getDefaultTime(){var defaultTime=opt.defaultTime?opt.defaultTime:new Date;if(opt.lookBehind){if(opt.startDate&&compare_month(defaultTime,opt.startDate)<0)defaultTime=nextMonth(moment(opt.startDate).toDate());if(opt.endDate&&compare_month(defaultTime,opt.endDate)>0)defaultTime=moment(opt.endDate).toDate()}else{if(opt.startDate&&
compare_month(defaultTime,opt.startDate)<0)defaultTime=moment(opt.startDate).toDate();if(opt.endDate&&compare_month(nextMonth(defaultTime),opt.endDate)>0)defaultTime=prevMonth(moment(opt.endDate).toDate())}if(opt.singleDate){if(opt.startDate&&compare_month(defaultTime,opt.startDate)<0)defaultTime=moment(opt.startDate).toDate();if(opt.endDate&&compare_month(defaultTime,opt.endDate)>0)defaultTime=moment(opt.endDate).toDate()}return defaultTime}function resetMonthsView(time){if(!time)time=getDefaultTime();
if(opt.lookBehind){showMonth(prevMonth(time),"month1");showMonth(time,"month2")}else{showMonth(time,"month1");showMonth(nextMonth(time),"month2")}if(opt.singleDate)showMonth(time,"month1");showSelectedDays();showGap()}}});var DateFormat={};
!function(a){var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],f={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},g=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;
a.format=function(){function a(a){return b[parseInt(a,10)]||a}function h(a){return c[parseInt(a,10)]||a}function i(a){var b=parseInt(a,10)-1;return d[b]||a}function j(a){var b=parseInt(a,10)-1;return e[b]||a}function k(a){return f[a]||a}function l(a){var b,c,d,e,f,g=a,h="";return-1!==g.indexOf(".")&&(e=g.split("."),g=e[0],h=e[e.length-1]),f=g.split(":"),3===f.length?(b=f[0],c=f[1],d=f[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),g=g.replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:g,hour:b,minute:c,
second:d,millis:h}):{time:"",hour:"",minute:"",second:"",millis:""}}function m(a,b){for(var c=b-String(a).length,d=0;c>d;d++)a="0"+a;return a}return{parseDate:function(a){var b,c,d={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof a)return this.parseDate(new Date(a));if("function"==typeof a.getFullYear)d.year=String(a.getFullYear()),d.month=String(a.getMonth()+1),d.dayOfMonth=String(a.getDate()),d.time=l(a.toTimeString()+"."+a.getMilliseconds());else if(-1!=
a.search(g))b=a.split(/[T\+-]/),d.year=b[0],d.month=b[1],d.dayOfMonth=b[2],d.time=l(b[3].split(".")[0]);else switch(b=a.split(" "),6===b.length&&isNaN(b[5])&&(b[b.length]="()"),b.length){case 6:d.year=b[5],d.month=k(b[1]),d.dayOfMonth=b[2],d.time=l(b[3]);break;case 2:c=b[0].split("-"),d.year=c[0],d.month=c[1],d.dayOfMonth=c[2],d.time=l(b[1]);break;case 7:case 9:case 10:d.year=b[3],d.month=k(b[1]),d.dayOfMonth=b[2],d.time=l(b[4]);break;case 1:c=b[0].split(""),d.year=c[0]+c[1]+c[2]+c[3],d.month=c[5]+
c[6],d.dayOfMonth=c[8]+c[9],d.time=l(c[13]+c[14]+c[15]+c[16]+c[17]+c[18]+c[19]+c[20]);break;default:return null}return d.date=d.time?new Date(d.year,d.month-1,d.dayOfMonth,d.time.hour,d.time.minute,d.time.second,d.time.millis):new Date(d.year,d.month-1,d.dayOfMonth),d.dayOfWeek=String(d.date.getDay()),d},date:function(b,c){try{var d=this.parseDate(b);if(null===d)return b;for(var e,f=d.year,g=d.month,k=d.dayOfMonth,l=d.dayOfWeek,n=d.time,o="",p="",q="",r=!1,s=0;s<c.length;s++){var t=c.charAt(s),u=
c.charAt(s+1);if(r)"'"==t?(p+=""===o?"'":o,o="",r=!1):o+=t;else switch(o+=t,q="",o){case "ddd":p+=a(l),o="";break;case "dd":if("d"===u)break;p+=m(k,2),o="";break;case "d":if("d"===u)break;p+=parseInt(k,10),o="";break;case "D":k=1==k||21==k||31==k?parseInt(k,10)+"st":2==k||22==k?parseInt(k,10)+"nd":3==k||23==k?parseInt(k,10)+"rd":parseInt(k,10)+"th",p+=k,o="";break;case "MMMM":p+=j(g),o="";break;case "MMM":if("M"===u)break;p+=i(g),o="";break;case "MM":if("M"===u)break;p+=m(g,2),o="";break;case "M":if("M"===
u)break;p+=parseInt(g,10),o="";break;case "y":case "yyy":if("y"===u)break;p+=o,o="";break;case "yy":if("y"===u)break;p+=String(f).slice(-2),o="";break;case "yyyy":p+=f,o="";break;case "HH":p+=m(n.hour,2),o="";break;case "H":if("H"===u)break;p+=parseInt(n.hour,10),o="";break;case "hh":e=0===parseInt(n.hour,10)?12:n.hour<13?n.hour:n.hour-12,p+=m(e,2),o="";break;case "h":if("h"===u)break;e=0===parseInt(n.hour,10)?12:n.hour<13?n.hour:n.hour-12,p+=parseInt(e,10),o="";break;case "mm":p+=m(n.minute,2),o=
"";break;case "m":if("m"===u)break;p+=n.minute,o="";break;case "ss":p+=m(n.second.substring(0,2),2),o="";break;case "s":if("s"===u)break;p+=n.second,o="";break;case "S":case "SS":if("S"===u)break;p+=o,o="";break;case "SSS":var v="000"+n.millis.substring(0,3);p+=v.substring(v.length-3),o="";break;case "a":p+=n.hour>=12?"PM":"AM",o="";break;case "p":p+=n.hour>=12?"p.m.":"a.m.",o="";break;case "E":p+=h(l),o="";break;case "'":o="",r=!0;break;default:p+=t,o=""}}return p+=q}catch(w){return console&&console.log&&
console.log(w),b}},prettyDate:function(a){var b,c,d;return("string"==typeof a||"number"==typeof a)&&(b=new Date(a)),"object"==typeof a&&(b=new Date(a.toString())),c=((new Date).getTime()-b.getTime())/1E3,d=Math.floor(c/86400),isNaN(d)||0>d?void 0:60>c?"just now":120>c?"1 minute ago":3600>c?Math.floor(c/60)+" minutes ago":7200>c?"1 hour ago":86400>c?Math.floor(c/3600)+" hours ago":1===d?"Yesterday":7>d?d+" days ago":31>d?Math.ceil(d/7)+" weeks ago":d>=31?"more than 5 weeks ago":void 0},toBrowserTimeZone:function(a,
b){return this.date(new Date(a),b||"MM/dd/yyyy HH:mm:ss")}}}()}(DateFormat),function(a){a.format=DateFormat.format}(jQuery);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/historical_quotes/historical_quotes"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("");jQuery.each(data,function(){__p.push("\n<tr",this.ExDate?' class="dividend-splits"':"",'>\n  <td class="quote-date">\n    ',jQuery.format.date(new Date(this.Date||this.ExDate),"MMM dd, yyyy"),"\n  </td>\n  ");if(this.ExDate)__p.push('\n  <td colspan="2"></td>\n  <td class="special">\n    ',
this.DividendAmount?this.DividendAmount.toFixed(2)+" Dividend":this.Denominator+":"+this.Numerator+" Stock Split",'\n  </td>\n  <td colspan="3"></td>\n  ');else __p.push("\n  <td>",this.Open.toFixed(2),"</td>\n  <td>",this.High.toFixed(2),"</td>\n  <td>",this.Low.toFixed(2),"</td>\n  <td>",this.Last.toFixed(2),'</td>\n  <td class="quote-volume">',format(parseInt(this.Volume)),"</td>\n  <td class=",positiveNegative(this.PercentChangeFromLastClose),">\n    <span>",this.PercentChangeFromLastClose.toFixed(2)+
" %","</span>\n  </td>\n  ");__p.push("\n</tr>\n")});__p.push("\n")}return __p.join("")}}).call(this);
(function(w,SA,$,moment){var scope=SA.UsingNamespace("SA.Pages.Symbols.KeyData");scope.HistoricalQuotes=function(){var pageData=SA.pageConfig.Data,container="#historical-quotes-data-container",dateRangeInput="#historical-quotes-date-range",dailyQuotesSelect="#historical-quotes-daily-quotes",adjustmentSelect="#historical-quotes-adjustment",exportButton="#historical-quotes-export",applyButton="#historical-quotes-apply",table="#historical-quotes-table",tableHeaderQuoteDate="th.quote-date",startDate,
endDate,quotesData={},sortableData=[],symbolData=SA.Utils.SymbolData;var notDividendsOrSplits=function(val){return["dividends","splits"].indexOf(val)===-1};var sort=function(col,data){if(col)SA.Logger.Mone.event($(col).data("sort"),"historical_quotes","sort");col=col?$(col):$(table).find(tableHeaderQuoteDate);data=data||sortableData;var asc=!col.hasClass("sorted")||col.hasClass("asc"),prop=col.data("sort"),type=col.data("type"),val1,val2;data=data.sort(function(a,b){val1=asc?b[prop]:a[prop];val2=
asc?a[prop]:b[prop];return type==="date"?(new Date(val1)).getTime()-(new Date(val2)).getTime():val1-val2});if(col.hasClass("sorted"))if(asc)col.removeClass("asc");else col.addClass("asc");else{clearSortData();col.addClass("sorted")}clearData();render(data);if(type==="date")$(table).find("tr.dividend-splits").show();else $(table).find("tr.dividend-splits").hide()};var clearSortData=function(){$(table).find("th.sorted").removeClass("sorted asc")};var format=function(num){var n=parseFloat(num.toFixed(2)).toString(),
p=n.indexOf(".");return n.replace(/\d(?=(?:\d{3})+(?:\.|$))/g,function($0,i){return p<0||i<p?$0+",":$0})};var fetchData=function(sendMone){var opt={slug:pageData.slug,startDate:$.format.date(startDate,"MM/dd/yyyy"),endDate:$.format.date(endDate,"MM/dd/yyyy"),adjustmentMethod:$(adjustmentSelect).val(),show:$(dailyQuotesSelect).val()};if(sendMone)sendMoneEvent("data_filters","apply",opt);var action=getAction(opt.show);if(action)action.method(opt,action.clb);else return appendNoData();quotesData={};
if(notDividendsOrSplits(opt.show)){symbolData.getSplitHistory(opt,gatherHistoricalData);symbolData.getCashDividendHistory(opt,gatherHistoricalData)}};var getAction=function(type){switch(type){case "daily":return{method:symbolData.getGlobalHistoricalQuotesRange,clb:gatherHistoricalData};case "weekly":return{method:symbolData.getGlobalHistoricalWeeklyQuotesRange,clb:gatherHistoricalData};case "monthly":return{method:symbolData.getGlobalHistoricalMonthlyQuotesRange,clb:gatherHistoricalData};case "dividends":return{method:symbolData.getCashDividendHistory,
clb:gatherDividendsData};case "splits":return{method:symbolData.getSplitHistory,clb:gatherSplitsData}}};var sendMoneEvent=function(type,action,opt){SA.Logger.Mone.event(type,"historical_quotes",action,{data:{date_start:opt.startDate,date_end:opt.endDate,show:opt.show,adjustment:opt.adjustmentMethod}})};var gatherDividendsData=function(data){sortableData=data.Dividends;resetTableData($(table).find(tableHeaderQuoteDate),"ExDate")};var gatherSplitsData=function(data){sortableData=data.Splits;resetTableData($(table).find(tableHeaderQuoteDate),
"ExDate")};var gatherHistoricalData=function(data){if(data.Splits){$.each(data.Splits,function(){this.Date=this.ExDate});quotesData["splits"]=data.Splits}else if(data.Dividends){$.each(data.Dividends,function(){this.Date=this.ExDate});quotesData["dividends"]=data.Dividends}else if(data.GlobalQuotes)quotesData["globalQuotes"]=data.GlobalQuotes;if(Object.keys(quotesData).length===3){sortableData=$.merge($.merge(quotesData["dividends"]||[],quotesData["splits"]),quotesData["globalQuotes"]);resetTableData($(table).find("th"),
"Date")}};var resetTableData=function(headers,byField){$(headers).addClass("sortable");$(table).find(tableHeaderQuoteDate).data("sort",byField);sort(null,sortableData)};var render=function(data){if(data.Dividends){sortableData=data.Dividends;data=data.Dividends}else if(data.Splits){sortableData=data.Splits;data=data.Splits}if(data.length){$(table).find("tbody").append(JST["jst/pages/symbols/key_data/historical_quotes/historical_quotes"]({data:data,format:format,positiveNegative:function(val){return val<
0?"negative":"positive"}}));removeLoading()}else appendNoData()};var appendNoData=function(){$(table).find("tbody").html('<tr class="no-data"><td colspan="7">No history available during this time range.</td></tr>');removeLoading()};var removeLoading=function(){$(".quotes").removeClass("loading")};var clearData=function(){$(table).find("tbody").html("");$(".quotes").addClass("loading")};var initEvents=function(){$("body").on("click",table+" th.sortable",function(){sort(this)}).on("change",dailyQuotesSelect,
function(){var prop=notDividendsOrSplits($(this).val())?"":"disabled";$(adjustmentSelect).prop("disabled",prop)}).on("click",exportButton,exportTableToCSV).on("click",applyButton,btnApplyClick)};var initDateRangePicker=function(dateRange){startDate=new Date;startDate.setFullYear(startDate.getFullYear()-1);endDate=new Date;dateRange.dateRangePicker({format:"MMM DD, YYYY",endDate:new Date,separator:" - ",showShortcuts:true,shortcuts:null,getValue:function(obj){var dates=$(this).val().split(" - ");startDate=
new Date(dates[0]);endDate=new Date(dates[1]);if(startDate==="Invalid Date"||endDate==="Invalid Date"){startDate=new Date;startDate.setFullYear(startDate.getFullYear()-1);endDate=new Date;$(this).val($.format.date(startDate,"MMM dd, yyyy")+" - "+$.format.date(endDate,"MMM dd, yyyy"))}return $(this).val()},customShortcuts:[{name:"1D",dates:function(){return[moment().toDate(),moment().subtract(1,"day").toDate()]}},{name:"5D",dates:function(){return[moment().toDate(),moment().subtract(5,"days").toDate()]}},
{name:"3M",dates:function(){return[moment().toDate(),moment().subtract(3,"months").toDate()]}},{name:"6M",dates:function(){return[moment().toDate(),moment().subtract(6,"months").toDate()]}},{name:"YTD",dates:function(){return[moment().toDate(),moment().startOf("year").toDate()]}},{name:"1Y",dates:function(){return[moment().toDate(),moment().subtract(1,"year").toDate()]}},{name:"5Y",dates:function(){return[moment().toDate(),moment().subtract(5,"years").toDate()]}}]}).bind("datepicker-change",function(event,
obj){startDate=obj.date1;endDate=obj.date2});dateRange.val($.format.date(startDate,"MMM dd, yyyy")+" - "+$.format.date(endDate,"MMM dd, yyyy"))};var exportTableToCSV=function(){var filename=pageData.slug+"_historical_quotes.csv";var $rows=$(table).find("tr"),tmpColDelim=String.fromCharCode(11),tmpRowDelim=String.fromCharCode(0),colDelim='","',rowDelim='"\r\n"',csv='"'+$rows.map(function(i,row){var $row=$(row),$cols=$row.find("td").length>0?$row.find("td"):$row.find("th");return $cols.map(function(j,
col){var $col=$(col),text=$col.text();return text.replace(/"/g,'""')}).get().join(tmpColDelim)}).get().join(tmpRowDelim).split(tmpRowDelim).join(rowDelim).split(tmpColDelim).join(colDelim)+'"',csvData="data:application/csv;charset=utf-8,"+encodeURIComponent(csv);sendMoneEvent("","download",{startDate:$.format.date(startDate,"MM/dd/yyyy"),endDate:$.format.date(endDate,"MM/dd/yyyy"),dailyQuotes:$(dailyQuotesSelect).val(),adjustment:$(adjustmentSelect).val()});$(this).attr({"download":filename,"href":csvData,
"target":"_blank"})};var btnApplyClick=function(){$(table).find("th.sortable").removeClass("sortable");quotesData={};clearSortData();clearData();fetchData(true)};this.showContent=function(){$(container).removeClass("hide");initDateRangePicker($(dateRangeInput));fetchData(false)};this.init=function(){quotesData={};initEvents()}}})(window,window.SA,window.jQuery,window.moment);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/dividends/upcoming_dividends"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push('<h4>Upcoming Dividends</h4>\n<div class="pull-left">\n  <table>\n    <thead>\n    <tr>\n      <th title="Amount" id="amount">Amount</th>\n      <th title="Declare Date" id="declare-date">Declare Date</th>\n      <th title="Ex-Dividend Date" id="ex-dividend-date">Ex-Dividend Date <span class="caret"></span></th>\n      <th title="Record Date" id="record-date">Record Date</th>\n      <th title="Pay Date" id="pay-date">Pay Date</th>\n      <th title="Dividend Type" id="dividend-type">Dividend Type</th>\n    </tr>\n    </thead>\n    <tbody>\n    ');
jQuery.each(data.upcoming,function(){__p.push("\n    <tr>\n      <td>",formatter.number(this.amount,{prefix:"$"}),"</td>\n      <td>",this.declare_date,"</td>\n      <td>",this.ex_dividend_date,"</td>\n      <td>",this.record_date,"</td>\n      <td>",this.pay_date,"</td>\n      <td>",this.dividend_type,"</td>\n    </tr>\n    ")});__p.push("\n    </tbody>\n  </table>\n</div>\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/dividends/five_year_dividend_history"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("");var yields=data.yields;var sums=data.sums;__p.push('\n\n<h4>Five Year Dividend History</h4>\n<div class="pull-left">\n  <table>\n    <thead>\n    <tr>\n      <th title="metric" id="metric"></th>\n      ');for(var key in sums)__p.push('\n      <th class="t-a-r" title="year-',key,'" id="year-',
key,'"> 12/',key,"</th>\n      ");__p.push("\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n      <td>Dividend Amount</td>\n      ");for(var key in yields)__p.push('\n      <td id="yield-',key,'">',formatter.number(sums[key],{withCommas:true}),"</td>\n      ");__p.push("\n    </tr>\n    <tr>\n      <td>Year-end Yield %</td>\n      ");for(var key in sums)__p.push('\n      <td id="yield-',key,'">',formatter.number(yields[key],{withCommas:true}),"</td>\n      ");__p.push("\n    </tr>\n    </tbody>\n  </table>\n</div>\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/dividends/full_dividend_history"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push('<h4>Dividend History</h4>\n<button class="btn-default" id="dividend-history-expand-all">Expand All</button>\n<button class="btn-default" id="dividend-history-collapse-all">Collapse All</button>\n<a href="#" id="dividend-history-export-to-csv">\n  ',data.svgDownload,'\n  <em>Download to Spreadsheet</em>\n</a>\n<table class="dividend-history">\n  <thead>\n    <tr class="exportable">\n      <th>Ex-Dividend Date</th>\n      <th>Record Date</th>\n      <th>Payable Date</th>\n      <th>Dividend Type</th>\n      <th>Amount</th>\n    </tr>\n  </thead>\n  <tbody>\n  ');
var history=data.history,years=Object.keys(history).reverse();for(var i=0,key,firstRows;i<years.length;i++){key=years[i];firstRows=i<11;__p.push('\n  <tr id="header-history-year-',key,'" class="row-header closed',firstRows?"":" hidden",'" data-year="',key,'">\n    <td colspan="5">',key,"</td>\n  </tr>\n  ");for(var x=0,dividend,amount;x<history[key].length;x++){dividend=history[key][x];amount=dividend.amount;if(firstRows)amount=amount.toFixed(Math.max(2,(amount.toString().split(".")[1]||[]).length));
__p.push('\n  <tr id="content-history-',key,"-",i,'"\n      class="content-history-row exportable content-history-year-',key," ",firstRows?" visible-row":"",'">\n    <td>',dividend.ex_dividend_date,"</td>\n    <td>",dividend.record_date,"</td>\n    <td>",dividend.payable_date,"</td>\n    <td>",dividend.dividend_type,"</td>\n    <td>",amount,"</td>\n  </tr>\n  ")}__p.push("\n  ")}__p.push("\n  </tbody>\n</table>\n");if(years.length>10)__p.push('\n<div class="show-more">Show more years</div>\n');__p.push("\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/dividends/dividend_payout_history"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h4>Dividend Payout History</h4>\n<div id="payout-chart-container"></div>\n<div class="chart-explanation">* Dividend amounts adjusted for splits</div>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/dividends/split_history"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("<h4>Split History</h4>\n<table>\n  <thead>\n  <tr>\n    <th>Date</th>\n    <th>Ratio</th>\n  </tr>\n  </thead>\n  <tbody>\n  ");jQuery.each(data.splitsData,function(){__p.push("\n  <tr>\n    <td>",this.ExDate,"</td>\n    <td>",this.Denominator,":",this.Numerator,"</td>\n  </tr>\n  ")});__p.push("\n  </tbody>\n</table>\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/key_data/dividends/dividend_yield"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("<h4>Dividend Yield History</h4>\n");var params="?range=60m&interval=D&saveimage=1&toolbarbg=f4f7f9&studies=&theme=White&style=3&studies_overrides=%7B%7D&overrides=%7B%7D&enabled_features=%5B%5D&disabled_features=%5B%5D&utmsource=www.tradingview.com&utmmedium=www.tradingview.com/dev/widget/&fundamental=Script%24EDGR_DIVIDEND_YIELD_V2%40tv-scripting&symbol="+
data.symbol;__p.push('\n<iframe src="https://www.tradingview.com/seekingalpha/widgetembed/',params,'"></iframe>\n')}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/inline_svg/download"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg fill="#444" height="17" version="1.1" viewBox="0 0 24 24" width="17" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" y="0px">\n  <path d="M15,4h4c0.8,0,1.5,0.3,2.1,0.9C21.7,5.5,22,6.2,22,7v14c0,0.8-0.3,1.5-0.9,2.1C20.5,23.7,19.8,24,19,24H5 c-0.8,0-1.5-0.3-2.1-0.9C2.3,22.5,2,21.8,2,21V7c0-0.8,0.3-1.5,0.9-2.1S4.2,4,5,4h4v2H5C4.7,6,4.5,6.1,4.3,6.3C4.1,6.5,4,6.7,4,7v14 c0,0.3,0.1,0.5,0.3,0.7S4.7,22,5,22h14c0.3,0,0.5-0.1,0.7-0.3S20,21.3,20,21V7c0-0.3-0.1-0.5-0.3-0.7S19.3,6,19,6h-4V4z M12,0 c0.3,0,0.5,0.1,0.7,0.3S13,0.7,13,1v12.6l2.3-2.3c0.2-0.2,0.4-0.3,0.7-0.3c0.3,0,0.5,0.1,0.7,0.3c0.2,0.2,0.3,0.4,0.3,0.7 c0,0.3-0.1,0.5-0.3,0.7l-4,4C12.5,16.9,12.3,17,12,17s-0.5-0.1-0.7-0.3l-4-4C7.1,12.5,7,12.3,7,12c0-0.3,0.1-0.5,0.3-0.7 S7.7,11,8,11c0.3,0,0.5,0.1,0.7,0.3l2.3,2.3V1c0-0.3,0.1-0.5,0.3-0.7S11.7,0,12,0z"></path>\n</svg>\n');return __p.join("")}}).call(this);
(function(L,ia){typeof module==="object"&&module.exports?module.exports=L.document?ia(L):ia:L.Highcharts=ia(L)})(typeof window!=="undefined"?window:this,function(L){function ia(a,b){var c="Highcharts error #"+a+": www.highcharts.com/errors/"+a;if(b)throw Error(c);L.console&&console.log(c)}function Ab(a,b,c){this.options=b;this.elem=a;this.prop=c}function C(){var a,b=arguments,c,d={},e=function(a,b){var c,d;typeof a!=="object"&&(a={});for(d in b)b.hasOwnProperty(d)&&(c=b[d],a[d]=B.isObject(c,!0)&&
d!=="renderTo"&&typeof c.nodeType!=="number"?e(a[d]||{},c):b[d]);return a};b[0]===!0&&(d=b[1],b=Array.prototype.slice.call(b,2));c=b.length;for(a=0;a<c;a++)d=e(d,b[a]);return d}function I(a,b){return parseInt(a,b||10)}function Fa(a){return typeof a==="string"}function La(a){a=Object.prototype.toString.call(a);return a==="[object Array]"||a==="[object Array Iterator]"}function Ba(a,b){for(var c=a.length;c--;)if(a[c]===b){a.splice(c,1);break}}function t(a){return a!==v&&a!==null}function aa(a,b,c){var d,
e;if(Fa(b))t(c)?a.setAttribute(b,c):a&&a.getAttribute&&(e=a.getAttribute(b));else if(t(b)&&ja(b))for(d in b)a.setAttribute(d,b[d]);return e}function ra(a){return La(a)?a:[a]}function bb(a,b,c){if(b)return setTimeout(a,b,c);a.call(0,c)}function N(a,b){if(Ma&&!ma&&b&&b.opacity!==v)b.filter="alpha(opacity="+b.opacity*100+")";x(a.style,b)}function ha(a,b,c,d,e){a=A.createElement(a);b&&x(a,b);e&&N(a,{padding:0,border:"none",margin:0});c&&N(a,c);d&&d.appendChild(a);return a}function pa(a,b){var c=function(){};
c.prototype=new a;x(c.prototype,b);return c}function Sa(a,b,c){return Array((b||2)+1-String(a).length).join(c||0)+a}function gb(a){return(hb&&hb(a)||Bb||0)*6E4}function Na(a,b){for(var c="{",d=!1,e,f,g,h,i,j=[];(c=a.indexOf(c))!==-1;){e=a.slice(0,c);if(d){f=e.split(":");g=f.shift().split(".");i=g.length;e=b;for(h=0;h<i;h++)e=e[g[h]];if(f.length)f=f.join(":"),g=/\.([0-9])/,h=Q.lang,i=void 0,/f$/.test(f)?(i=(i=f.match(g))?i[1]:-1,e!==null&&(e=B.numberFormat(e,i,h.decimalPoint,f.indexOf(",")>-1?h.thousandsSep:
""))):e=wa(f,e)}j.push(e);a=a.slice(c+1);c=(d=!d)?"}":"{"}j.push(a);return j.join("")}function Cb(a){return ba.pow(10,Z(ba.log(a)/ba.LN10))}function Db(a,b,c,d,e){var f,g=a,c=q(c,1);f=a/c;b||(b=[1,2,2.5,5,10],d===!1&&(c===1?b=[1,2,5,10]:c<=.1&&(b=[1/c])));for(d=0;d<b.length;d++)if(g=b[d],e&&g*c>=a||!e&&f<=(b[d]+(b[d+1]||b[d]))/2)break;g*=c;return g}function pb(a,b){var c=a.length,d,e;for(e=0;e<c;e++)a[e].safeI=e;a.sort(function(a,c){d=b(a,c);return d===0?a.safeI-c.safeI:d});for(e=0;e<c;e++)delete a[e].safeI}
function Oa(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c}function Ga(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c}function Pa(a,b){for(var c in a)a[c]&&a[c]!==b&&a[c].destroy&&a[c].destroy(),delete a[c]}function Wa(a){qb||(qb=ha(Xa));a&&qb.appendChild(a);qb.innerHTML=""}function W(a,b){return parseFloat(a.toPrecision(b||14))}function ib(a,b){b.renderer.globalAnimation=q(a,b.animation)}function cb(a){return ja(a)?C(a):{duration:a?500:0}}function Qb(){var a=Q.global,b=
a.useUTC,c=b?"getUTC":"get",d=b?"setUTC":"set";ea=a.Date||L.Date;Bb=b&&a.timezoneOffset;hb=b&&a.getTimezoneOffset;rb=function(a,c,d,h,i,j){var k;b?(k=ea.UTC.apply(0,arguments),k+=gb(k)):k=(new ea(a,c,q(d,1),q(h,0),q(i,0),q(j,0))).getTime();return k};Eb=c+"Minutes";Fb=c+"Hours";Gb=c+"Day";db=c+"Date";jb=c+"Month";kb=c+"FullYear";Rb=d+"Milliseconds";Sb=d+"Seconds";Tb=d+"Minutes";Ub=d+"Hours";sb=d+"Date";Hb=d+"Month";Ib=d+"FullYear"}function xa(a){if(!(this instanceof xa))return new xa(a);this.init(a)}
function X(){}function eb(a,b,c,d){this.axis=a;this.pos=b;this.type=c||"";this.isNew=!0;!c&&!d&&this.addLabel()}function Vb(a,b,c,d,e){var f=a.chart.inverted;this.axis=a;this.isNegative=c;this.options=b;this.x=d;this.total=null;this.points={};this.stack=e;this.rightCliff=this.leftCliff=0;this.alignOptions={align:b.align||(f?c?"left":"right":"center"),verticalAlign:b.verticalAlign||(f?"middle":c?"bottom":"top"),y:q(b.y,f?4:c?14:-6),x:q(b.x,f?c?-6:6:0)};this.textAlign=b.textAlign||(f?c?"right":"left":
"center")}function tb(a,b,c){this.scrollbarButtons=[];this.renderer=a;this.userOptions=b;this.options=C(Wb,b);this.chart=c;this.size=q(this.options.size,this.options.height);this.render();this.initEvents();this.addEvents()}function Jb(a){var b=a.options,c=b.navigator,d=c.enabled,e=b.scrollbar,b=e.enabled,f=d?c.height:0,e=b?e.height:0;this.handles=[];this.elementsToDestroy=[];this.chart=a;this.setBaseSeries();this.height=f;this.scrollbarHeight=e;this.scrollbarEnabled=b;this.navigatorEnabled=d;this.navigatorOptions=
c;this.outlineHeight=f+e;this.init()}function Kb(a){this.init(a)}var v,A=L.document,ba=Math,z=ba.round,Z=ba.floor,Ha=ba.ceil,y=ba.max,F=ba.min,U=ba.abs,fa=ba.cos,na=ba.sin,Ca=ba.PI,sa=Ca*2/360,Qa=L.navigator&&L.navigator.userAgent||"",Xb=L.opera,Ma=/(msie|trident|edge)/i.test(Qa)&&!Xb,ub=A&&A.documentMode===8,vb=!Ma&&/AppleWebKit/.test(Qa),Ya=/Firefox/.test(Qa),lb=/(Mobile|Android|Windows Phone)/.test(Qa),Ta="http://www.w3.org/2000/svg",ma=A&&A.createElementNS&&!!A.createElementNS(Ta,"svg").createSVGRect,
bc=Ya&&parseInt(Qa.split("Firefox/")[1],10)<4,ta=A&&!ma&&!Ma&&!!A.createElement("canvas").getContext,Za,$a,Yb={},Lb=0,qb,Q,wa,M,ua=function(){},da=[],mb=0,Xa="div",Y="M",R="L",cc=/[0-9]/g,wb=["plotTop","marginRight","marginBottom","plotLeft"],ea,rb,Bb,hb,Eb,Fb,Gb,db,jb,kb,Rb,Sb,Tb,Ub,sb,Hb,Ib,J={},B;B=L.Highcharts?ia(16,!0):{win:L};B.seriesTypes=J;var Ua=[],ya,oa,o,Ia,Mb,va,E,V,K,fb,Ra;Ab.prototype={dSetter:function(){var a=this.paths[0],b=this.paths[1],c=[],d=this.now,e=a.length,f;if(d===1)c=this.toD;
else if(e===b.length&&d<1)for(;e--;)f=parseFloat(a[e]),c[e]=isNaN(f)?a[e]:d*parseFloat(b[e]-f)+f;else c=b;this.elem.attr("d",c)},update:function(){var a=this.elem,b=this.prop,c=this.now,d=this.options.step;if(this[b+"Setter"])this[b+"Setter"]();else a.attr?a.element&&a.attr(b,c):a.style[b]=c+this.unit;d&&d.call(a,c,this)},run:function(a,b,c){var d=this,e=function(a){return e.stopped?!1:d.step(a)},f;this.startTime=+new ea;this.start=a;this.end=b;this.unit=c;this.now=this.start;this.pos=0;e.elem=this.elem;
if(e()&&Ua.push(e)===1)e.timerId=setInterval(function(){for(f=0;f<Ua.length;f++)Ua[f]()||Ua.splice(f--,1);Ua.length||clearInterval(e.timerId)},13)},step:function(a){var b=+new ea,c,d=this.options;c=this.elem;var e=d.complete,f=d.duration,g=d.curAnim,h;if(c.attr&&!c.element)c=!1;else if(a||b>=f+this.startTime){this.now=this.end;this.pos=1;this.update();a=g[this.prop]=!0;for(h in g)g[h]!==!0&&(a=!1);a&&e&&e.call(c);c=!1}else this.pos=d.easing((b-this.startTime)/f),this.now=this.start+(this.end-this.start)*
this.pos,this.update(),c=!0;return c},initPath:function(a,b,c){function d(a){for(n=a.length;n--;)(a[n]===Y||a[n]===R)&&a.splice(n+1,0,a[n+1],a[n+2],a[n+1],a[n+2])}function e(a,b){for(;a.length<l;){a[0]=b[l-a.length];var c=a.slice(0,k);[].splice.apply(a,[0,0].concat(c));p&&(c=a.slice(a.length-k),[].splice.apply(a,[a.length,0].concat(c)),n--)}a[0]="M"}function f(a,b){for(var c=(l-a.length)/k;c>0&&c--;)m=a.slice().splice(a.length/r-k,k*r),m[0]=b[l-k-c*k],j&&(m[k-6]=m[k-2],m[k-5]=m[k-1]),[].splice.apply(a,
[a.length/r,0].concat(m)),p&&c--}var b=b||"",g,h=a.startX,i=a.endX,j=b.indexOf("C")>-1,k=j?7:3,l,m,n,b=b.split(" "),c=c.slice(),p=a.isArea,r=p?2:1,s;j&&(d(b),d(c));if(h&&i){for(n=0;n<h.length;n++)if(h[n]===i[0]){g=n;break}else if(h[0]===i[i.length-h.length+n]){g=n;s=!0;break}g===void 0&&(b=[])}b.length&&B.isNumber(g)&&(l=c.length+g*r*k,s?(e(b,c),f(c,b)):(e(c,b),f(b,c)));return[b,c]}};var x=B.extend=function(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a},ja=B.isObject=function(a,b){return a&&
typeof a==="object"&&(!b||!La(a))},D=B.isNumber=function(a){return typeof a==="number"&&!isNaN(a)},q=B.pick=function(){var a=arguments,b,c,d=a.length;for(b=0;b<d;b++)if(c=a[b],c!==v&&c!==null)return c},T=B.wrap=function(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);a.unshift(d);return c.apply(this,a)}};wa=function(a,b,c){if(!t(b)||isNaN(b))return Q.lang.invalidDate||"";var a=q(a,"%Y-%m-%d %H:%M:%S"),d=new ea(b-gb(b)),e,f=d[Fb](),g=d[Gb](),h=d[db](),i=d[jb](),j=d[kb](),
k=Q.lang,l=k.weekdays,m=k.shortWeekdays,d=x({a:m?m[g]:l[g].substr(0,3),A:l[g],d:Sa(h),e:Sa(h,2," "),w:g,b:k.shortMonths[i],B:k.months[i],m:Sa(i+1),y:j.toString().substr(2,2),Y:j,H:Sa(f),k:f,I:Sa(f%12||12),l:f%12||12,M:Sa(d[Eb]()),p:f<12?"AM":"PM",P:f<12?"am":"pm",S:Sa(d.getSeconds()),L:Sa(z(b%1E3),3)},B.dateFormats);for(e in d)for(;a.indexOf("%"+e)!==-1;)a=a.replace("%"+e,typeof d[e]==="function"?d[e](b):d[e]);return c?a.substr(0,1).toUpperCase()+a.substr(1):a};M={millisecond:1,second:1E3,minute:6E4,
hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5};B.numberFormat=function(a,b,c,d){var a=+a||0,b=+b,e=Q.lang,f=(a.toString().split(".")[1]||"").length,g,h,i=Math.abs(a);b===-1?b=Math.min(f,20):D(b)||(b=2);g=String(I(i.toFixed(b)));h=g.length>3?g.length%3:0;c=q(c,e.decimalPoint);d=q(d,e.thousandsSep);a=a<0?"-":"";a+=h?g.substr(0,h)+d:"";a+=g.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+d);b&&(d=Math.abs(i-g+Math.pow(10,-Math.max(b,f)-1)),a+=c+d.toFixed(b).slice(2));return a};Math.easeInOutSine=
function(a){return-.5*(Math.cos(Math.PI*a)-1)};ya=function(a,b){var c;if(b==="width")return Math.min(a.offsetWidth,a.scrollWidth)-ya(a,"padding-left")-ya(a,"padding-right");else if(b==="height")return Math.min(a.offsetHeight,a.scrollHeight)-ya(a,"padding-top")-ya(a,"padding-bottom");return(c=L.getComputedStyle(a,void 0))&&I(c.getPropertyValue(b))};oa=function(a,b){return b.indexOf?b.indexOf(a):[].indexOf.call(b,a)};Ia=function(a,b){return[].filter.call(a,b)};va=function(a,b){for(var c=[],d=0,e=a.length;d<
e;d++)c[d]=b.call(a[d],a[d],d,a);return c};Mb=function(a){var b=A.documentElement,a=a.getBoundingClientRect();return{top:a.top+(L.pageYOffset||b.scrollTop)-(b.clientTop||0),left:a.left+(L.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}};Ra=function(a){for(var b=Ua.length;b--;)if(Ua[b].elem===a)Ua[b].stopped=!0};o=function(a,b){return Array.prototype.forEach.call(a,b)};E=function(a,b,c){function d(b){b.target=b.srcElement||L;c.call(a,b)}var e=a.hcEvents=a.hcEvents||{};if(a.addEventListener)a.addEventListener(b,
c,!1);else if(a.attachEvent){if(!a.hcEventsIE)a.hcEventsIE={};a.hcEventsIE[c.toString()]=d;a.attachEvent("on"+b,d)}e[b]||(e[b]=[]);e[b].push(c)};V=function(a,b,c){function d(b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.attachEvent&&(c=a.hcEventsIE[c.toString()],a.detachEvent("on"+b,c))}function e(){var c,e,f;if(a.nodeName)for(f in b?(c={},c[b]=!0):c=g,c)if(g[f])for(e=g[f].length;e--;)d(f,g[f][e])}var f,g=a.hcEvents,h;if(g)b?(f=g[b]||[],c?(h=oa(c,f),h>-1&&(f.splice(h,1),g[b]=f),d(b,c)):
(e(),g[b]=[])):(e(),a.hcEvents={})};K=function(a,b,c,d){var e;e=a.hcEvents;var f,g,c=c||{};if(A.createEvent&&(a.dispatchEvent||a.fireEvent))e=A.createEvent("Events"),e.initEvent(b,!0,!0),e.target=a,x(e,c),a.dispatchEvent?a.dispatchEvent(e):a.fireEvent(b,e);else if(e){e=e[b]||[];f=e.length;if(!c.preventDefault)c.preventDefault=function(){c.defaultPrevented=!0};c.target=a;if(!c.type)c.type=b;for(b=0;b<f;b++)(g=e[b])&&g.call(a,c)===!1&&c.preventDefault()}d&&!c.defaultPrevented&&d(c)};fb=function(a,b,
c){var d,e="",f,g,h;ja(c)||(d=arguments,c={duration:d[2],easing:d[3],complete:d[4]});if(!D(c.duration))c.duration=400;c.easing=typeof c.easing==="function"?c.easing:Math[c.easing]||Math.easeInOutSine;c.curAnim=C(b);for(h in b)g=new Ab(a,c,h),f=null,h==="d"?(g.paths=g.initPath(a,a.d,b.d),g.toD=b.d,d=0,f=1):a.attr?d=a.attr(h):(d=parseFloat(ya(a,h))||0,h!=="opacity"&&(e="px")),f||(f=b[h]),f.match&&f.match("px")&&(f=f.replace(/px/g,"")),g.run(d,f,e)};if(L.jQuery)L.jQuery.fn.highcharts=function(){var a=
[].slice.call(arguments);if(this[0])return a[0]?(new (B[Fa(a[0])?a.shift():"Chart"])(this[0],a[0],a[1]),this):da[aa(this[0],"data-highcharts-chart")]};A&&!A.defaultView&&(ya=function(a,b){var c;c={width:"clientWidth",height:"clientHeight"}[b];if(a.style[b])return I(a.style[b]);b==="opacity"&&(b="filter");if(c)return a.style.zoom=1,Math.max(a[c]-2*ya(a,"padding"),0);c=a.currentStyle[b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()})];b==="filter"&&(c=c.replace(/alpha\(opacity=([0-9]+)\)/,function(a,
b){return b/100}));return c===""?1:I(c)});Array.prototype.forEach||(o=function(a,b){for(var c=0,d=a.length;c<d;c++)if(b.call(a[c],a[c],c,a)===!1)return c});Array.prototype.indexOf||(oa=function(a,b){var c,d=0;if(b)for(c=b.length;d<c;d++)if(b[d]===a)return d;return-1});Array.prototype.filter||(Ia=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++)b(a[d],d)&&c.push(a[d]);return c});B.Fx=Ab;B.inArray=oa;B.each=o;B.grep=Ia;B.offset=Mb;B.map=va;B.addEvent=E;B.removeEvent=V;B.fireEvent=K;B.animate=fb;B.animObject=
cb;B.stop=Ra;Q={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),
resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/4.2.7/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,
height:null},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#555555"},widthAdjust:-44},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",
formatter:function(){return this.y===null?"":B.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",
labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",
backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:ma,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',
shadow:!0,snap:lb?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var $=Q.plotOptions,ga=$.line;Qb();xa.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(a){return[I(a[1]),
I(a[2]),I(a[3]),parseFloat(a[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(a){return[I(a[1],16),I(a[2],16),I(a[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(a){return[I(a[1]),I(a[2]),I(a[3]),1]}}],init:function(a){var b,c,d,e;if((this.input=a)&&a.stops)this.stops=va(a.stops,function(a){return new xa(a[1])});else for(d=this.parsers.length;d--&&!c;)e=this.parsers[d],(b=e.regex.exec(a))&&(c=e.parse(b));this.rgba=
c||[]},get:function(a){var b=this.input,c=this.rgba,d;this.stops?(d=C(b),d.stops=[].concat(d.stops),o(this.stops,function(b,c){d.stops[c]=[d.stops[c][0],b.get(a)]})):d=c&&D(c[0])?a==="rgb"||!a&&c[3]===1?"rgb("+c[0]+","+c[1]+","+c[2]+")":a==="a"?c[3]:"rgba("+c.join(",")+")":b;return d},brighten:function(a){var b,c=this.rgba;if(this.stops)o(this.stops,function(b){b.brighten(a)});else if(D(a)&&a!==0)for(b=0;b<3;b++)c[b]+=I(a*255),c[b]<0&&(c[b]=0),c[b]>255&&(c[b]=255);return this},setOpacity:function(a){this.rgba[3]=
a;return this}};X.prototype={opacity:1,textProps:"direction,fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(a,b){this.element=b==="span"?ha(b):A.createElementNS(Ta,b);this.renderer=a},animate:function(a,b,c){b=q(b,this.renderer.globalAnimation,!0);Ra(this);if(b){if(c)b.complete=c;fb(this,a,b)}else this.attr(a,null,c);return this},colorGradient:function(a,b,c){var d=this.renderer,e,f,g,h,i,j,k,l,m,n,p,r=[],s;a.linearGradient?
f="linearGradient":a.radialGradient&&(f="radialGradient");if(f){g=a[f];i=d.gradients;k=a.stops;n=c.radialReference;La(g)&&(a[f]=g={x1:g[0],y1:g[1],x2:g[2],y2:g[3],gradientUnits:"userSpaceOnUse"});f==="radialGradient"&&n&&!t(g.gradientUnits)&&(h=g,g=C(g,d.getRadialAttr(n,h),{gradientUnits:"userSpaceOnUse"}));for(p in g)p!=="id"&&r.push(p,g[p]);for(p in k)r.push(k[p]);r=r.join(",");i[r]?n=i[r].attr("id"):(g.id=n="highcharts-"+Lb++,i[r]=j=d.createElement(f).attr(g).add(d.defs),j.radAttr=h,j.stops=[],
o(k,function(a){a[1].indexOf("rgba")===0?(e=xa(a[1]),l=e.get("rgb"),m=e.get("a")):(l=a[1],m=1);a=d.createElement("stop").attr({offset:a[0],"stop-color":l,"stop-opacity":m}).add(j);j.stops.push(a)}));s="url("+d.url+"#"+n+")";c.setAttribute(b,s);c.gradient=r;a.toString=function(){return s}}},applyTextShadow:function(a){var b=this.element,c,d=a.indexOf("contrast")!==-1,e={},f=this.renderer.forExport,g=f||b.style.textShadow!==v&&!Ma;if(d)e.textShadow=a=a.replace(/contrast/g,this.renderer.getContrast(b.style.fill));
if(vb||f)e.textRendering="geometricPrecision";g?this.css(e):(this.fakeTS=!0,this.ySetter=this.xSetter,c=[].slice.call(b.getElementsByTagName("tspan")),o(a.split(/\s?,\s?/g),function(a){var d=b.firstChild,e,f,a=a.split(" ");e=a[a.length-1];(f=a[a.length-2])&&o(c,function(a,c){var g;c===0&&(a.setAttribute("x",b.getAttribute("x")),c=b.getAttribute("y"),a.setAttribute("y",c||0),c===null&&b.setAttribute("y",0));g=a.cloneNode(1);aa(g,{"class":"highcharts-text-shadow",fill:e,stroke:e,"stroke-opacity":1/
y(I(f),3),"stroke-width":f,"stroke-linejoin":"round"});b.insertBefore(g,d)})}))},attr:function(a,b,c){var d,e=this.element,f,g=this,h;typeof a==="string"&&b!==v&&(d=a,a={},a[d]=b);if(typeof a==="string")g=(this[a+"Getter"]||this._defaultGetter).call(this,a,e);else{for(d in a){b=a[d];h=!1;this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(d)&&(f||(this.symbolAttr(a),f=!0),h=!0);if(this.rotation&&(d==="x"||d==="y"))this.doTransform=!0;h||(h=this[d+"Setter"]||this._defaultSetter,
h.call(this,b,d,e),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(d)&&this.updateShadows(d,b,h))}if(this.doTransform)this.updateTransform(),this.doTransform=!1}c&&c();return g},updateShadows:function(a,b,c){for(var d=this.shadows,e=d.length;e--;)c.call(d[e],a==="height"?Math.max(b-(d[e].cutHeight||0),0):a==="d"?this.d:b,a,d[e])},addClass:function(a){var b=this.element,c=aa(b,"class")||"";c.indexOf(a)===-1&&aa(b,"class",c+" "+a);return this},symbolAttr:function(a){var b=this;
o("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(c){b[c]=q(a[c],b[c])});b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":"none")},crisp:function(a){var b,c={},d,e=this.strokeWidth||0;d=z(e)%2/2;a.x=Z(a.x||this.x||0)+d;a.y=Z(a.y||this.y||0)+d;a.width=Z((a.width||this.width||0)-2*d);a.height=Z((a.height||this.height||0)-2*d);a.strokeWidth=e;for(b in a)this[b]!==a[b]&&
(this[b]=c[b]=a[b]);return c},css:function(a){var b=this.styles,c={},d=this.element,e,f,g="";e=!b;if(a&&a.color)a.fill=a.color;if(b)for(f in a)a[f]!==b[f]&&(c[f]=a[f],e=!0);if(e){e=this.textWidth=a&&a.width&&d.nodeName.toLowerCase()==="text"&&I(a.width)||this.textWidth;b&&(a=x(b,c));this.styles=a;e&&(ta||!ma&&this.renderer.forExport)&&delete a.width;if(Ma&&!ma)N(this.element,a);else{b=function(a,b){return"-"+b.toLowerCase()};for(f in a)g+=f.replace(/([A-Z])/g,b)+":"+a[f]+";";aa(d,"style",g)}e&&this.added&&
this.renderer.buildText(this)}return this},on:function(a,b){var c=this,d=c.element;$a&&a==="click"?(d.ontouchstart=function(a){c.touchEventFired=ea.now();a.preventDefault();b.call(d,a)},d.onclick=function(a){(Qa.indexOf("Android")===-1||ea.now()-(c.touchEventFired||0)>1100)&&b.call(d,a)}):d["on"+a]=b;return this},setRadialReference:function(a){var b=this.renderer.gradients[this.element.gradient];this.element.radialReference=a;b&&b.radAttr&&b.animate(this.renderer.getRadialAttr(a,b.radAttr));return this},
translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var a=this.translateX||0,b=this.translateY||0,c=this.scaleX,d=this.scaleY,e=this.inverted,f=this.rotation,g=this.element;e&&(a+=this.attr("width"),b+=this.attr("height"));a=["translate("+a+","+b+")"];e?a.push("rotate(90) scale(-1,1)"):f&&a.push("rotate("+f+" "+(g.getAttribute("x")||0)+" "+(g.getAttribute("y")||0)+")");(t(c)||t(d))&&
a.push("scale("+q(c,1)+" "+q(d,1)+")");a.length&&g.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(a,b,c){var d,e,f,g,h={};e=this.renderer;f=e.alignedObjects;if(a){if(this.alignOptions=a,this.alignByTranslate=b,!c||Fa(c))this.alignTo=d=c||"renderer",Ba(f,this),f.push(this),c=null}else a=this.alignOptions,b=this.alignByTranslate,d=this.alignTo;c=q(c,e[d],e);d=a.align;e=a.verticalAlign;f=(c.x||0)+(a.x||0);g=(c.y||0)+
(a.y||0);if(d==="right"||d==="center")f+=(c.width-(a.width||0))/{right:1,center:2}[d];h[b?"translateX":"x"]=z(f);if(e==="bottom"||e==="middle")g+=(c.height-(a.height||0))/({bottom:1,middle:2}[e]||1);h[b?"translateY":"y"]=z(g);this[this.placed?"animate":"attr"](h);this.placed=!0;this.alignAttr=h;return this},getBBox:function(a,b){var c,d=this.renderer,e,f,g,h=this.element,i=this.styles;e=this.textStr;var j,k=h.style,l,m=d.cache,n=d.cacheKeys,p;f=q(b,this.rotation);g=f*sa;e!==v&&(p=e.toString().replace(cc,
"0")+["",f||0,i&&i.fontSize,h.style.width].join(","));p&&!a&&(c=m[p]);if(!c){if(h.namespaceURI===Ta||d.forExport){try{l=this.fakeTS&&function(a){o(h.querySelectorAll(".highcharts-text-shadow"),function(b){b.style.display=a})},Ya&&k.textShadow?(j=k.textShadow,k.textShadow=""):l&&l("none"),c=h.getBBox?x({},h.getBBox()):{width:h.offsetWidth,height:h.offsetHeight},j?k.textShadow=j:l&&l("")}catch(r){}if(!c||c.width<0)c={width:0,height:0}}else c=this.htmlGetBBox();if(d.isSVG){d=c.width;e=c.height;if(Ma&&
i&&i.fontSize==="11px"&&e.toPrecision(3)==="16.9")c.height=e=14;if(f)c.width=U(e*na(g))+U(d*fa(g)),c.height=U(e*fa(g))+U(d*na(g))}if(p&&c.height>0){for(;n.length>250;)delete m[n.shift()];m[p]||n.push(p);m[p]=c}}return c},show:function(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.attr({y:-9999})}})},add:function(a){var b=this.renderer,c=this.element,
d;if(a)this.parentGroup=a;this.parentInverted=a&&a.inverted;this.textStr!==void 0&&b.buildText(this);this.added=!0;if(!a||a.handleZ||this.zIndex)d=this.zIndexSetter();d||(a?a.element:b.box).appendChild(c);if(this.onAdd)this.onAdd();return this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var a=this,b=a.element||{},c=a.shadows,d=a.renderer.isSVG&&b.nodeName==="SPAN"&&a.parentGroup,e,f;b.onclick=b.onmouseout=b.onmouseover=b.onmousemove=b.point=null;Ra(a);if(a.clipPath)a.clipPath=
a.clipPath.destroy();if(a.stops){for(f=0;f<a.stops.length;f++)a.stops[f]=a.stops[f].destroy();a.stops=null}a.safeRemoveChild(b);for(c&&o(c,function(b){a.safeRemoveChild(b)});d&&d.div&&d.div.childNodes.length===0;)b=d.parentGroup,a.safeRemoveChild(d.div),delete d.div,d=b;a.alignTo&&Ba(a.renderer.alignedObjects,a);for(e in a)delete a[e];return null},shadow:function(a,b,c){var d=[],e,f,g=this.element,h,i,j,k;if(a){i=q(a.width,3);j=(a.opacity||.15)/i;k=this.parentInverted?"(-1,-1)":"("+q(a.offsetX,1)+
", "+q(a.offsetY,1)+")";for(e=1;e<=i;e++){f=g.cloneNode(0);h=i*2+1-2*e;aa(f,{isShadow:"true",stroke:a.color||"black","stroke-opacity":j*e,"stroke-width":h,transform:"translate"+k,fill:"none"});if(c)aa(f,"height",y(aa(f,"height")-h,0)),f.cutHeight=h;b?b.element.appendChild(f):g.parentNode.insertBefore(f,g);d.push(f)}this.shadows=d}return this},xGetter:function(a){this.element.nodeName==="circle"&&(a={x:"cx",y:"cy"}[a]||a);return this._defaultGetter(a)},_defaultGetter:function(a){a=q(this[a],this.element?
this.element.getAttribute(a):null,0);/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a));return a},dSetter:function(a,b,c){a&&a.join&&(a=a.join(" "));/(NaN| {2}|^$)/.test(a)&&(a="M 0 0");c.setAttribute(b,a);this[b]=a},dashstyleSetter:function(a){var b,c=this["stroke-width"];c==="inherit"&&(c=1);if(a=a&&a.toLowerCase()){a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash",
"4,3,").replace(/,$/,"").split(",");for(b=a.length;b--;)a[b]=I(a[b])*c;a=a.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},titleSetter:function(a){var b=this.element.getElementsByTagName("title")[0];b||(b=A.createElementNS(Ta,"title"),this.element.appendChild(b));b.firstChild&&b.removeChild(b.firstChild);b.appendChild(A.createTextNode(String(q(a),"").replace(/<[^>]*>/g,
"")))},textSetter:function(a){if(a!==this.textStr)delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this)},fillSetter:function(a,b,c){typeof a==="string"?c.setAttribute(b,a):a&&this.colorGradient(a,b,c)},visibilitySetter:function(a,b,c){a==="inherit"?c.removeAttribute(b):c.setAttribute(b,a)},zIndexSetter:function(a,b){var c=this.renderer,d=this.parentGroup,c=(d||c).element||c.box,e,f,g=this.element,h;e=this.added;var i;if(t(a))g.zIndex=a,a=+a,this[b]===a&&(e=!1),this[b]=a;if(e){if((a=
this.zIndex)&&d)d.handleZ=!0;d=c.childNodes;for(i=0;i<d.length&&!h;i++)if(e=d[i],f=e.zIndex,e!==g&&(I(f)>a||!t(a)&&t(f)))c.insertBefore(g,e),h=!0;h||c.appendChild(g)}return h},_defaultSetter:function(a,b,c){c.setAttribute(b,a)}};X.prototype.yGetter=X.prototype.xGetter;X.prototype.translateXSetter=X.prototype.translateYSetter=X.prototype.rotationSetter=X.prototype.verticalAlignSetter=X.prototype.scaleXSetter=X.prototype.scaleYSetter=function(a,b){this[b]=a;this.doTransform=!0};X.prototype.opacitySetter=
X.prototype.displaySetter=function(a,b,c){this[b]=a;c.setAttribute(b,a)};X.prototype["stroke-widthSetter"]=X.prototype.strokeSetter=function(a,b,c){this[b]=a;if(this.stroke&&this["stroke-width"])this.strokeWidth=this["stroke-width"],X.prototype.fillSetter.call(this,this.stroke,"stroke",c),c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0;else if(b==="stroke-width"&&a===0&&this.hasStroke)c.removeAttribute("stroke"),this.hasStroke=!1};var za=function(){this.init.apply(this,arguments)};
za.prototype={Element:X,init:function(a,b,c,d,e,f){var g,d=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(d));g=d.element;a.appendChild(g);a.innerHTML.indexOf("xmlns")===-1&&aa(g,"xmlns",Ta);this.isSVG=!0;this.box=g;this.boxWrapper=d;this.alignedObjects=[];this.url=(Ya||vb)&&A.getElementsByTagName("base").length?L.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(A.createTextNode("Created with Highstock 4.2.7"));
this.defs=this.createElement("defs").add();this.allowHTML=f;this.forExport=e;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(b,c,!1);var h;if(Ya&&a.getBoundingClientRect)this.subPixelFix=b=function(){N(a,{left:0,top:0});h=a.getBoundingClientRect();N(a,{left:Ha(h.left)-h.left+"px",top:Ha(h.top)-h.top+"px"})},b(),E(L,"resize",b)},getStyle:function(a){return this.style=x({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},
a)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();Pa(this.gradients||{});this.gradients=null;if(a)this.defs=a.destroy();this.subPixelFix&&V(L,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(a){var b=new this.Element;b.init(this,a);return b},draw:function(){},getRadialAttr:function(a,b){return{cx:a[0]-a[2]/2+b.cx*a[2],cy:a[1]-a[2]/2+b.cy*a[2],r:b.r*a[2]}},buildText:function(a){for(var b=
a.element,c=this,d=c.forExport,e=q(a.textStr,"").toString(),f=e.indexOf("<")!==-1,g=b.childNodes,h,i,j,k=aa(b,"x"),l=a.styles,m=a.textWidth,n=l&&l.lineHeight,p=l&&l.textShadow,r=l&&l.textOverflow==="ellipsis",s=g.length,S=m&&!a.added&&this.box,u=function(a){return n?I(n):c.fontMetrics(/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:l&&l.fontSize||c.style.fontSize||12,a).h},w=function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">")};s--;)b.removeChild(g[s]);!f&&!p&&!r&&!m&&e.indexOf(" ")===
-1?b.appendChild(A.createTextNode(w(e))):(h=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,S&&S.appendChild(b),e=f?e.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[e],e=Ia(e,function(a){return a!==""}),o(e,function(e,f){var g,n=0,e=e.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");g=e.split("|||");o(g,
function(e){if(e!==""||g.length===1){var p={},s=A.createElementNS(Ta,"tspan"),q;h.test(e)&&(q=e.match(h)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),aa(s,"style",q));i.test(e)&&!d&&(aa(s,"onclick",'location.href="'+e.match(i)[1]+'"'),N(s,{cursor:"pointer"}));e=w(e.replace(/<(.|\n)*?>/g,"")||" ");if(e!==" "){s.appendChild(A.createTextNode(e));if(n)p.dx=0;else if(f&&k!==null)p.x=k;aa(s,p);b.appendChild(s);!n&&f&&(!ma&&d&&N(s,{display:"block"}),aa(s,"dy",u(s)));if(m){for(var p=e.replace(/([^\^])-/g,
"$1- ").split(" "),S=l.whiteSpace==="nowrap",o=g.length>1||f||p.length>1&&!S,G,t,y=[],v=u(s),z=1,x=a.rotation,B=e,C=B.length;(o||r)&&(p.length||y.length);)a.rotation=0,G=a.getBBox(!0),t=G.width,!ma&&c.forExport&&(t=c.measureSpanWidth(s.firstChild.data,a.styles)),G=t>m,j===void 0&&(j=G),r&&j?(C/=2,B===""||!G&&C<.5?p=[]:(B=e.substring(0,B.length+(G?-1:1)*Ha(C)),p=[B+(m>3?"\u2026":"")],s.removeChild(s.firstChild))):!G||p.length===1?(p=y,y=[],p.length&&!S&&(z++,s=A.createElementNS(Ta,"tspan"),aa(s,{dy:v,
x:k}),q&&aa(s,"style",q),b.appendChild(s)),t>m&&(m=t)):(s.removeChild(s.firstChild),y.unshift(p.pop())),p.length&&s.appendChild(A.createTextNode(p.join(" ").replace(/- /g,"-")));a.rotation=x}n++}}})}),j&&a.attr("title",a.textStr),S&&S.removeChild(b),p&&a.applyTextShadow&&a.applyTextShadow(p))},getContrast:function(a){a=xa(a).rgba;return a[0]+a[1]+a[2]>384?"#000000":"#FFFFFF"},button:function(a,b,c,d,e,f,g,h,i){var j=this.label(a,b,c,i,null,null,null,null,"button"),k=0,l,m,n,p,r,s,a={x1:0,y1:0,x2:0,
y2:1},e=C({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:a,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},e);n=e.style;delete e.style;f=C(e,{stroke:"#68A",fill:{linearGradient:a,stops:[[0,"#FFF"],[1,"#ACF"]]}},f);p=f.style;delete f.style;g=C(e,{stroke:"#68A",fill:{linearGradient:a,stops:[[0,"#9BD"],[1,"#CDF"]]}},g);r=g.style;delete g.style;h=C(e,{style:{color:"#CCC"}},h);s=h.style;delete h.style;E(j.element,Ma?"mouseover":"mouseenter",function(){k!==3&&j.attr(f).css(p)});
E(j.element,Ma?"mouseout":"mouseleave",function(){k!==3&&(l=[e,f,g][k],m=[n,p,r][k],j.attr(l).css(m))});j.setState=function(a){(j.state=k=a)?a===2?j.attr(g).css(r):a===3&&j.attr(h).css(s):j.attr(e).css(n)};return j.on("click",function(a){k!==3&&d.call(j,a)}).attr(e).css(x({cursor:"default"},n))},crispLine:function(a,b){a[1]===a[4]&&(a[1]=a[4]=z(a[1])-b%2/2);a[2]===a[5]&&(a[2]=a[5]=z(a[2])+b%2/2);return a},path:function(a){var b={fill:"none"};La(a)?b.d=a:ja(a)&&x(b,a);return this.createElement("path").attr(b)},
circle:function(a,b,c){a=ja(a)?a:{x:a,y:b,r:c};b=this.createElement("circle");b.xSetter=b.ySetter=function(a,b,c){c.setAttribute("c"+b,a)};return b.attr(a)},arc:function(a,b,c,d,e,f){if(ja(a))b=a.y,c=a.r,d=a.innerR,e=a.start,f=a.end,a=a.x;a=this.symbol("arc",a||0,b||0,c||0,c||0,{innerR:d||0,start:e||0,end:f||0});a.r=c;return a},rect:function(a,b,c,d,e,f){var e=ja(a)?a.r:e,g=this.createElement("rect"),a=ja(a)?a:a===v?{}:{x:a,y:b,width:y(c,0),height:y(d,0)};if(f!==v)g.strokeWidth=f,a=g.crisp(a);if(e)a.r=
e;g.rSetter=function(a,b,c){aa(c,{rx:a,ry:a})};return g.attr(a)},setSize:function(a,b,c){var d=this.alignedObjects,e=d.length;this.width=a;this.height=b;for(this.boxWrapper[q(c,!0)?"animate":"attr"]({width:a,height:b});e--;)d[e].align()},g:function(a){var b=this.createElement("g");return t(a)?b.attr({"class":"highcharts-"+a}):b},image:function(a,b,c,d,e){var f={preserveAspectRatio:"none"};arguments.length>1&&x(f,{x:b,y:c,width:d,height:e});f=this.createElement("image").attr(f);f.element.setAttributeNS?
f.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):f.element.setAttribute("hc-svg-href",a);return f},symbol:function(a,b,c,d,e,f){var g=this,h,i=this.symbols[a],i=i&&i(z(b),z(c),d,e,f),j=/^url\((.*?)\)$/,k,l;if(i)h=this.path(i),x(h,{symbolName:a,x:b,y:c,width:d,height:e}),f&&x(h,f);else if(j.test(a))l=function(a,b){a.element&&(a.attr({width:b[0],height:b[1]}),a.alignByTranslate||a.translate(z((d-b[0])/2),z((e-b[1])/2)))},k=a.match(j)[1],a=Yb[k]||f&&f.width&&f.height&&[f.width,f.height],
h=this.image(k).attr({x:b,y:c}),h.isImg=!0,a?l(h,a):(h.attr({width:0,height:0}),ha("img",{onload:function(){var a=da[g.chartIndex];this.width===0&&(N(this,{position:"absolute",top:"-999em"}),A.body.appendChild(this));l(h,Yb[k]=[this.width,this.height]);this.parentNode&&this.parentNode.removeChild(this);g.imgCount--;if(!g.imgCount&&a&&a.onload)a.onload()},src:k}),this.imgCount++);return h},symbols:{circle:function(a,b,c,d){var e=.166*c;return[Y,a+c/2,b,"C",a+c+e,b,a+c+e,b+d,a+c/2,b+d,"C",a-e,b+d,a-
e,b,a+c/2,b,"Z"]},square:function(a,b,c,d){return[Y,a,b,R,a+c,b,a+c,b+d,a,b+d,"Z"]},triangle:function(a,b,c,d){return[Y,a+c/2,b,R,a+c,b+d,a,b+d,"Z"]},"triangle-down":function(a,b,c,d){return[Y,a,b,R,a+c,b,a+c/2,b+d,"Z"]},diamond:function(a,b,c,d){return[Y,a+c/2,b,R,a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]},arc:function(a,b,c,d,e){var f=e.start,c=e.r||c||d,g=e.end-.001,d=e.innerR,h=e.open,i=fa(f),j=na(f),k=fa(g),g=na(g),e=e.end-f<Ca?0:1;return[Y,a+c*i,b+c*j,"A",c,c,0,e,1,a+c*k,b+c*g,h?Y:R,a+d*k,b+d*g,"A",
d,d,0,e,0,a+d*i,b+d*j,h?"":"Z"]},callout:function(a,b,c,d,e){var f=F(e&&e.r||0,c,d),g=f+6,h=e&&e.anchorX,e=e&&e.anchorY,i;i=["M",a+f,b,"L",a+c-f,b,"C",a+c,b,a+c,b,a+c,b+f,"L",a+c,b+d-f,"C",a+c,b+d,a+c,b+d,a+c-f,b+d,"L",a+f,b+d,"C",a,b+d,a,b+d,a,b+d-f,"L",a,b+f,"C",a,b,a,b,a+f,b];h&&h>c&&e>b+g&&e<b+d-g?i.splice(13,3,"L",a+c,e-6,a+c+6,e,a+c,e+6,a+c,b+d-f):h&&h<0&&e>b+g&&e<b+d-g?i.splice(33,3,"L",a,e+6,a-6,e,a,e-6,a,b+f):e&&e>d&&h>a+g&&h<a+c-g?i.splice(23,3,"L",h+6,b+d,h,b+d+6,h-6,b+d,a+f,b+d):e&&e<
0&&h>a+g&&h<a+c-g&&i.splice(3,3,"L",h-6,b,h,b-6,h+6,b,c-f,b);return i}},clipRect:function(a,b,c,d){var e="highcharts-"+Lb++,f=this.createElement("clipPath").attr({id:e}).add(this.defs),a=this.rect(a,b,c,d,0).add(f);a.id=e;a.clipPath=f;a.count=0;return a},text:function(a,b,c,d){var e=ta||!ma&&this.forExport,f={};if(d&&(this.allowHTML||!this.forExport))return this.html(a,b,c);f.x=Math.round(b||0);if(c)f.y=Math.round(c);if(a||a===0)f.text=a;a=this.createElement("text").attr(f);e&&a.css({position:"absolute"});
if(!d)a.xSetter=function(a,b,c){var d=c.getElementsByTagName("tspan"),e,f=c.getAttribute(b),m;for(m=0;m<d.length;m++)e=d[m],e.getAttribute(b)===f&&e.setAttribute(b,a);c.setAttribute(b,a)};return a},fontMetrics:function(a,b){var c,d,a=a||this.style.fontSize;!a&&b&&L.getComputedStyle&&(b=b.element||b,a=(c=L.getComputedStyle(b,""))&&c.fontSize);a=/px/.test(a)?I(a):/em/.test(a)?parseFloat(a)*12:12;c=a<24?a+3:z(a*1.2);d=z(c*.8);return{h:c,b:d,f:a}},rotCorr:function(a,b,c){var d=a;b&&c&&(d=y(d*fa(b*sa),
4));return{x:-a/3*na(b*sa),y:d}},label:function(a,b,c,d,e,f,g,h,i){var j=this,k=j.g(i),l=j.text("",0,0,g).attr({zIndex:1}),m,n,p=0,r=3,s=0,q,u,w,G,O=0,ka={},y,B=/^url\((.*?)\)$/.test(d),A=B,F,D,E;F=function(){var a,b;a=l.element.style;n=(q===void 0||u===void 0||k.styles.textAlign)&&t(l.textStr)&&l.getBBox();k.width=(q||n.width||0)+2*r+s;k.height=(u||n.height||0)+2*r;y=r+j.fontMetrics(a&&a.fontSize,l).b;if(A){if(!m)a=O,b=(h?-y:0)+O,k.box=m=j.symbols[d]||B?j.symbol(d,a,b,k.width,k.height,ka):j.rect(a,
b,k.width,k.height,0,ka["stroke-width"]),m.isImg||m.attr("fill","none"),m.add(k);m.isImg||m.attr(x({width:z(k.width),height:z(k.height)},ka));ka=null}};D=function(){var a=k.styles,a=a&&a.textAlign,b=s+r,c;c=h?0:y;if(t(q)&&n&&(a==="center"||a==="right"))b+={center:.5,right:1}[a]*(q-n.width);if(b!==l.x||c!==l.y)l.attr("x",b),c!==v&&l.attr("y",c);l.x=b;l.y=c};E=function(a,b){m?m.attr(a,b):ka[a]=b};k.onAdd=function(){l.add(k);k.attr({text:a||a===0?a:"",x:b,y:c});m&&t(e)&&k.attr({anchorX:e,anchorY:f})};
k.widthSetter=function(a){q=a};k.heightSetter=function(a){u=a};k.paddingSetter=function(a){if(t(a)&&a!==r)r=k.padding=a,D()};k.paddingLeftSetter=function(a){t(a)&&a!==s&&(s=a,D())};k.alignSetter=function(a){a={left:0,center:.5,right:1}[a];a!==p&&(p=a,n&&k.attr({x:w}))};k.textSetter=function(a){a!==v&&l.textSetter(a);F();D()};k["stroke-widthSetter"]=function(a,b){a&&(A=!0);O=a%2/2;E(b,a)};k.strokeSetter=k.fillSetter=k.rSetter=function(a,b){b==="fill"&&a&&(A=!0);E(b,a)};k.anchorXSetter=function(a,b){e=
a;E(b,z(a)-O-w)};k.anchorYSetter=function(a,b){f=a;E(b,a-G)};k.xSetter=function(a){k.x=a;p&&(a-=p*((q||n.width)+2*r));w=z(a);k.attr("translateX",w)};k.ySetter=function(a){G=k.y=z(a);k.attr("translateY",G)};var H=k.css;return x(k,{css:function(a){if(a){var b={},a=C(a);o(k.textProps,function(c){a[c]!==v&&(b[c]=a[c],delete a[c])});l.css(b)}return H.call(k,a)},getBBox:function(){return{width:n.width+2*r,height:n.height+2*r,x:n.x-r,y:n.y-r}},shadow:function(a){m&&m.shadow(a);return k},destroy:function(){V(k.element,
"mouseenter");V(k.element,"mouseleave");l&&(l=l.destroy());m&&(m=m.destroy());X.prototype.destroy.call(k);k=j=F=D=E=null}})}};Za=za;x(X.prototype,{htmlCss:function(a){var b=this.element;if(b=a&&b.tagName==="SPAN"&&a.width)delete a.width,this.textWidth=b,this.updateTransform();if(a&&a.textOverflow==="ellipsis")a.whiteSpace="nowrap",a.overflow="hidden";this.styles=x(this.styles,a);N(this.element,a);return this},htmlGetBBox:function(){var a=this.element;if(a.nodeName==="text")a.style.position="absolute";
return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,b=this.element,c=this.translateX||0,d=this.translateY||0,e=this.x||0,f=this.y||0,g=this.textAlign||"left",h={left:0,center:.5,right:1}[g],i=this.shadows,j=this.styles;N(b,{marginLeft:c,marginTop:d});i&&o(i,function(a){N(a,{marginLeft:c+1,marginTop:d+1})});this.inverted&&o(b.childNodes,function(c){a.invertChild(c,b)});if(b.tagName==="SPAN"){var i=this.rotation,
k=I(this.textWidth),l=j&&j.whiteSpace,m=[i,g,b.innerHTML,this.textWidth,this.textAlign].join(",");if(m!==this.cTT){j=a.fontMetrics(b.style.fontSize).b;t(i)&&this.setSpanRotation(i,h,j);N(b,{width:"",whiteSpace:l||"nowrap"});if(b.offsetWidth>k&&/[ \-]/.test(b.textContent||b.innerText))N(b,{width:k+"px",display:"block",whiteSpace:l||"normal"});this.getSpanCorrection(b.offsetWidth,j,h,i,g)}N(b,{left:e+(this.xCorr||0)+"px",top:f+(this.yCorr||0)+"px"});if(vb)j=b.offsetHeight;this.cTT=m}}else this.alignOnAdd=
!0},setSpanRotation:function(a,b,c){var d={},e=Ma?"-ms-transform":vb?"-webkit-transform":Ya?"MozTransform":Xb?"-o-transform":"";d[e]=d.transform="rotate("+a+"deg)";d[e+(Ya?"Origin":"-origin")]=d.transformOrigin=b*100+"% "+c+"px";N(this.element,d)},getSpanCorrection:function(a,b,c){this.xCorr=-a*c;this.yCorr=-b}});x(za.prototype,{html:function(a,b,c){var d=this.createElement("span"),e=d.element,f=d.renderer,g=f.isSVG,h=function(a,b){o(["display","opacity","visibility"],function(c){T(a,c+"Setter",function(a,
c,d,e){a.call(this,c,d,e);b[d]=c})})};d.textSetter=function(a){a!==e.innerHTML&&delete this.bBox;e.innerHTML=this.textStr=a;d.htmlUpdateTransform()};g&&h(d,d.element.style);d.xSetter=d.ySetter=d.alignSetter=d.rotationSetter=function(a,b){b==="align"&&(b="textAlign");d[b]=a;d.htmlUpdateTransform()};d.attr({text:a,x:z(b),y:z(c)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});e.style.whiteSpace="nowrap";d.css=d.htmlCss;if(g)d.add=function(a){var b,c=f.box.parentNode,
g=[];if(this.parentGroup=a){if(b=a.div,!b){for(;a;)g.push(a),a=a.parentGroup;o(g.reverse(),function(a){var d,e=aa(a.element,"class");e&&(e={className:e});b=a.div=a.div||ha(Xa,e,{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px",display:a.display,opacity:a.opacity,pointerEvents:a.styles&&a.styles.pointerEvents},b||c);d=b.style;x(a,{translateXSetter:function(b,c){d.left=b+"px";a[c]=b;a.doTransform=!0},translateYSetter:function(b,c){d.top=b+"px";a[c]=b;a.doTransform=!0}});h(a,
d)})}}else b=c;b.appendChild(e);d.added=!0;d.alignOnAdd&&d.htmlUpdateTransform();return d};return d}});var nb,ca;if(!ma&&!ta)ca={init:function(a,b){var c=["<",b,' filled="f" stroked="f"'],d=["position: ","absolute",";"],e=b===Xa;(b==="shape"||e)&&d.push("left:0;top:0;width:1px;height:1px;");d.push("visibility: ",e?"hidden":"visible");c.push(' style="',d.join(""),'"/>');if(b)c=e||b==="span"||b==="img"?c.join(""):a.prepVML(c),this.element=ha(c);this.renderer=a},add:function(a){var b=this.renderer,c=
this.element,d=b.box,e=a&&a.inverted,d=a?a.element||a:d;if(a)this.parentGroup=a;e&&b.invertChild(c,d);d.appendChild(c);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd)this.onAdd();return this},updateTransform:X.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=this.rotation,b=fa(a*sa),c=na(a*sa);N(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-c,", M21=",c,", M22=",b,", sizingMethod='auto expand')"].join(""):
"none"})},getSpanCorrection:function(a,b,c,d,e){var f=d?fa(d*sa):1,g=d?na(d*sa):0,h=q(this.elemHeight,this.element.offsetHeight),i;this.xCorr=f<0&&-a;this.yCorr=g<0&&-h;i=f*g<0;this.xCorr+=g*b*(i?1-c:c);this.yCorr-=f*b*(d?i?c:1-c:1);e&&e!=="left"&&(this.xCorr-=a*c*(f<0?-1:1),d&&(this.yCorr-=h*c*(g<0?-1:1)),N(this.element,{textAlign:e}))},pathToVML:function(a){for(var b=a.length,c=[];b--;)if(D(a[b]))c[b]=z(a[b]*10)-5;else if(a[b]==="Z")c[b]="x";else if(c[b]=a[b],a.isArc&&(a[b]==="wa"||a[b]==="at"))c[b+
5]===c[b+7]&&(c[b+7]+=a[b+7]>a[b+5]?1:-1),c[b+6]===c[b+8]&&(c[b+8]+=a[b+8]>a[b+6]?1:-1);return c.join(" ")||"x"},clip:function(a){var b=this,c;a?(c=a.members,Ba(c,b),c.push(b),b.destroyClip=function(){Ba(c,b)},a=a.getCSS(b)):(b.destroyClip&&b.destroyClip(),a={clip:ub?"inherit":"rect(auto)"});return b.css(a)},css:X.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&Wa(a)},destroy:function(){this.destroyClip&&this.destroyClip();return X.prototype.destroy.apply(this)},on:function(a,b){this.element["on"+
a]=function(){var a=L.event;a.target=a.srcElement;b(a)};return this},cutOffPath:function(a,b){var c,a=a.split(/[ ,]/);c=a.length;if(c===9||c===11)a[c-4]=a[c-2]=I(a[c-2])-10*b;return a.join(" ")},shadow:function(a,b,c){var d=[],e,f=this.element,g=this.renderer,h,i=f.style,j,k=f.path,l,m,n,p;k&&typeof k.value!=="string"&&(k="x");m=k;if(a){n=q(a.width,3);p=(a.opacity||.15)/n;for(e=1;e<=3;e++){l=n*2+1-2*e;c&&(m=this.cutOffPath(k.value,l+.5));j=['<shape isShadow="true" strokeweight="',l,'" filled="false" path="',
m,'" coordsize="10 10" style="',f.style.cssText,'" />'];h=ha(g.prepVML(j),null,{left:I(i.left)+q(a.offsetX,1),top:I(i.top)+q(a.offsetY,1)});if(c)h.cutOff=l+1;j=['<stroke color="',a.color||"black",'" opacity="',p*e,'"/>'];ha(g.prepVML(j),null,null,h);b?b.element.appendChild(h):f.parentNode.insertBefore(h,f);d.push(h)}this.shadows=d}return this},updateShadows:ua,setAttr:function(a,b){ub?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){this.element.className=a},dashstyleSetter:function(a,
b,c){(c.getElementsByTagName("stroke")[0]||ha(this.renderer.prepVML(["<stroke/>"]),null,null,c))[b]=a||"solid";this[b]=a},dSetter:function(a,b,c){var d=this.shadows,a=a||[];this.d=a.join&&a.join(" ");c.path=a=this.pathToVML(a);if(d)for(c=d.length;c--;)d[c].path=d[c].cutOff?this.cutOffPath(a,d[c].cutOff):a;this.setAttr(b,a)},fillSetter:function(a,b,c){var d=c.nodeName;if(d==="SPAN")c.style.color=a;else if(d!=="IMG")c.filled=a!=="none",this.setAttr("fillcolor",this.renderer.color(a,c,b,this))},"fill-opacitySetter":function(a,
b,c){ha(this.renderer.prepVML(["<",b.split("-")[0],' opacity="',a,'"/>']),null,null,c)},opacitySetter:ua,rotationSetter:function(a,b,c){c=c.style;this[b]=c[b]=a;c.left=-z(na(a*sa)+1)+"px";c.top=z(fa(a*sa))+"px"},strokeSetter:function(a,b,c){this.setAttr("strokecolor",this.renderer.color(a,c,b,this))},"stroke-widthSetter":function(a,b,c){c.stroked=!!a;this[b]=a;D(a)&&(a+="px");this.setAttr("strokeweight",a)},titleSetter:function(a,b){this.setAttr(b,a)},visibilitySetter:function(a,b,c){a==="inherit"&&
(a="visible");this.shadows&&o(this.shadows,function(c){c.style[b]=a});c.nodeName==="DIV"&&(a=a==="hidden"?"-999em":0,ub||(c.style[b]=a?"visible":"hidden"),b="top");c.style[b]=a},displaySetter:function(a,b,c){c.style[b]=a},xSetter:function(a,b,c){this[b]=a;b==="x"?b="left":b==="y"&&(b="top");this.updateClipping?(this[b]=a,this.updateClipping()):c.style[b]=a},zIndexSetter:function(a,b,c){c.style[b]=a}},ca["stroke-opacitySetter"]=ca["fill-opacitySetter"],B.VMLElement=ca=pa(X,ca),ca.prototype.ySetter=
ca.prototype.widthSetter=ca.prototype.heightSetter=ca.prototype.xSetter,ca={Element:ca,isIE8:Qa.indexOf("MSIE 8.0")>-1,init:function(a,b,c,d){var e;this.alignedObjects=[];d=this.createElement(Xa).css(x(this.getStyle(d),{position:"relative"}));e=d.element;a.appendChild(d.element);this.isVML=!0;this.box=e;this.boxWrapper=d;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(b,c,!1);if(!A.namespaces.hcv){A.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{A.createStyleSheet().cssText=
"hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(f){A.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,b,c,d){var e=this.createElement(),f=ja(a);return x(e,{members:[],count:0,left:(f?a.x:a)+1,top:(f?a.y:b)+1,width:(f?a.width:c)-1,height:(f?a.height:d)-1,getCSS:function(a){var b=a.element,
c=b.nodeName,a=a.inverted,d=this.top-(c==="shape"?b.offsetTop:0),e=this.left,b=e+this.width,f=d+this.height,d={clip:"rect("+z(a?e:d)+"px,"+z(a?f:b)+"px,"+z(a?b:f)+"px,"+z(a?d:e)+"px)"};!a&&ub&&c==="DIV"&&x(d,{width:b+"px",height:f+"px"});return d},updateClipping:function(){o(e.members,function(a){a.element&&a.css(e.getCSS(a))})}})},color:function(a,b,c,d){var e=this,f,g=/^rgba/,h,i,j="none";a&&a.linearGradient?i="gradient":a&&a.radialGradient&&(i="pattern");if(i){var k,l,m=a.linearGradient||a.radialGradient,
n,p,r,s,q,u="",a=a.stops,w,G=[],O=function(){h=['<fill colors="'+G.join(",")+'" opacity="',r,'" o:opacity2="',p,'" type="',i,'" ',u,'focus="100%" method="any" />'];ha(e.prepVML(h),null,null,b)};n=a[0];w=a[a.length-1];n[0]>0&&a.unshift([0,n[1]]);w[0]<1&&a.push([1,w[1]]);o(a,function(a,b){g.test(a[1])?(f=xa(a[1]),k=f.get("rgb"),l=f.get("a")):(k=a[1],l=1);G.push(a[0]*100+"% "+k);b?(r=l,s=k):(p=l,q=k)});if(c==="fill")if(i==="gradient")c=m.x1||m[0]||0,a=m.y1||m[1]||0,n=m.x2||m[2]||0,m=m.y2||m[3]||0,u=
'angle="'+(90-ba.atan((m-a)/(n-c))*180/Ca)+'"',O();else{var j=m.r,ka=j*2,t=j*2,y=m.cx,v=m.cy,z=b.radialReference,x,j=function(){z&&(x=d.getBBox(),y+=(z[0]-x.x)/x.width-.5,v+=(z[1]-x.y)/x.height-.5,ka*=z[2]/x.width,t*=z[2]/x.height);u='src="'+Q.global.VMLRadialGradientURL+'" size="'+ka+","+t+'" origin="0.5,0.5" position="'+y+","+v+'" color2="'+q+'" ';O()};d.added?j():d.onAdd=j;j=s}else j=k}else if(g.test(a)&&b.tagName!=="IMG")f=xa(a),d[c+"-opacitySetter"](f.get("a"),c,b),j=f.get("rgb");else{j=b.getElementsByTagName(c);
if(j.length)j[0].opacity=1,j[0].type="solid";j=a}return j},prepVML:function(a){var b=this.isIE8,a=a.join("");b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=a.indexOf('style="')===-1?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:");return a},text:za.prototype.html,path:function(a){var b={coordsize:"10 10"};La(a)?b.d=a:ja(a)&&x(b,a);return this.createElement("shape").attr(b)},
circle:function(a,b,c){var d=this.symbol("circle");if(ja(a))c=a.r,b=a.y,a=a.x;d.isCircle=!0;d.r=c;return d.attr({x:a,y:b})},g:function(a){var b;a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a});return this.createElement(Xa).attr(b)},image:function(a,b,c,d,e){var f=this.createElement("img").attr({src:a});arguments.length>1&&f.attr({x:b,y:c,width:d,height:e});return f},createElement:function(a){return a==="rect"?this.symbol(a):za.prototype.createElement.call(this,a)},invertChild:function(a,
b){var c=this,d=b.style,e=a.tagName==="IMG"&&a.style;N(a,{flip:"x",left:I(d.width)-(e?I(e.top):1),top:I(d.height)-(e?I(e.left):1),rotation:-90});o(a.childNodes,function(b){c.invertChild(b,a)})},symbols:{arc:function(a,b,c,d,e){var f=e.start,g=e.end,h=e.r||c||d,c=e.innerR,d=fa(f),i=na(f),j=fa(g),k=na(g);if(g-f===0)return["x"];f=["wa",a-h,b-h,a+h,b+h,a+h*d,b+h*i,a+h*j,b+h*k];e.open&&!c&&f.push("e",Y,a,b);f.push("at",a-c,b-c,a+c,b+c,a+c*j,b+c*k,a+c*d,b+c*i,"x","e");f.isArc=!0;return f},circle:function(a,
b,c,d,e){e&&(c=d=2*e.r);e&&e.isCircle&&(a-=c/2,b-=d/2);return["wa",a,b,a+c,b+d,a+c,b+d/2,a+c,b+d/2,"e"]},rect:function(a,b,c,d,e){return za.prototype.symbols[!t(e)||!e.r?"square":"callout"].call(0,a,b,c,d,e)}}},B.VMLRenderer=nb=function(){this.init.apply(this,arguments)},nb.prototype=C(za.prototype,ca),Za=nb;za.prototype.measureSpanWidth=function(a,b){var c=A.createElement("span"),d;d=A.createTextNode(a);c.appendChild(d);N(c,b);this.box.appendChild(c);d=c.offsetWidth;Wa(c);return d};var Zb;if(ta)B.CanVGRenderer=
ca=function(){Ta="http://www.w3.org/1999/xhtml"},ca.prototype.symbols={},Zb=function(){function a(){var a=b.length,d;for(d=0;d<a;d++)b[d]();b=[]}var b=[];return{push:function(c,d){if(b.length===0){var e=A.getElementsByTagName("head")[0],f=A.createElement("script");f.type="text/javascript";f.src=d;f.onload=a;e.appendChild(f)}b.push(c)}}}(),Za=ca;eb.prototype={addLabel:function(){var a=this.axis,b=a.options,c=a.chart,d=a.categories,e=a.names,f=this.pos,g=b.labels,h=a.tickPositions,i=f===h[0],j=f===
h[h.length-1],e=d?q(d[f],e[f],f):f,d=this.label,h=h.info,k;a.isDatetimeAxis&&h&&(k=b.dateTimeLabelFormats[h.higherRanks[f]||h.unitName]);this.isFirst=i;this.isLast=j;b=a.labelFormatter.call({axis:a,chart:c,isFirst:i,isLast:j,dateTimeLabelFormat:k,value:a.isLog?W(a.lin2log(e)):e});t(d)?d&&d.attr({text:b}):(this.labelLength=(this.label=d=t(b)&&g.enabled?c.renderer.text(b,0,0,g.useHTML).css(C(g.style)).add(a.labelGroup):null)&&d.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?
this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(a){var b=this.axis,c=a.x,d=b.chart.chartWidth,e=b.chart.spacing,f=q(b.labelLeft,F(b.pos,e[3])),e=q(b.labelRight,y(b.pos+b.len,d-e[1])),g=this.label,h=this.rotation,i={left:0,center:.5,right:1}[b.labelAlign],j=g.getBBox().width,k=b.getSlotWidth(),l=k,m=1,n,p={};if(h)h<0&&c-i*j<f?n=z(c/fa(h*sa)-f):h>0&&c+i*j>e&&(n=z((d-c)/fa(h*sa)));else if(d=c+(1-i)*j,c-i*j<f?l=a.x+l*(1-i)-f:d>e&&(l=e-a.x+l*i,m=-1),l=F(k,l),l<k&&b.labelAlign===
"center"&&(a.x+=m*(k-l-i*(k-F(j,l)))),j>l||b.autoRotation&&g.styles.width)n=l;if(n){p.width=n;if(!b.options.labels.style.textOverflow)p.textOverflow="ellipsis";g.css(p)}},getPosition:function(a,b,c,d){var e=this.axis,f=e.chart,g=d&&f.oldChartHeight||f.chartHeight;return{x:a?e.translate(b+c,null,null,d)+e.transB:e.left+e.offset+(e.opposite?(d&&f.oldChartWidth||f.chartWidth)-e.right-e.left:0),y:a?g-e.bottom+e.offset-(e.opposite?e.height:0):g-e.translate(b+c,null,null,d)-e.transB}},getLabelPosition:function(a,
b,c,d,e,f,g,h){var i=this.axis,j=i.transA,k=i.reversed,l=i.staggerLines,m=i.tickRotCorr||{x:0,y:0},n=e.y;t(n)||(n=i.side===0?c.rotation?-8:-c.getBBox().height:i.side===2?m.y+8:fa(c.rotation*sa)*(m.y-c.getBBox(!1,0).height/2));a=a+e.x+m.x-(f&&d?f*j*(k?-1:1):0);b=b+n-(f&&!d?f*j*(k?1:-1):0);l&&(c=g/(h||1)%l,i.opposite&&(c=l-c-1),b+=c*(i.labelOffset/l));return{x:a,y:z(b)}},getMarkPath:function(a,b,c,d,e,f){return f.crispLine([Y,a,b,R,a+(e?0:-c),b+(e?c:0)],d)},render:function(a,b,c){var d=this.axis,e=
d.options,f=d.chart.renderer,g=d.horiz,h=this.type,i=this.label,j=this.pos,k=e.labels,l=this.gridLine,m=h?h+"Grid":"grid",n=h?h+"Tick":"tick",p=e[m+"LineWidth"],r=e[m+"LineColor"],s=e[m+"LineDashStyle"],m=d.tickSize(n),n=e[n+"Color"],S=this.mark,u=k.step,w=!0,o=d.tickmarkOffset,O=this.getPosition(g,j,o,b),ka=O.x,O=O.y,t=g&&ka===d.pos+d.len||!g&&O===d.pos?-1:1,c=q(c,1);this.isActive=!0;if(p){j=d.getPlotLinePath(j+o,p*t,b,!0);if(l===v){l={stroke:r,"stroke-width":p};if(s)l.dashstyle=s;if(!h)l.zIndex=
1;if(b)l.opacity=0;this.gridLine=l=p?f.path(j).attr(l).add(d.gridGroup):null}if(!b&&l&&j)l[this.isNew?"attr":"animate"]({d:j,opacity:c})}if(m)d.opposite&&(m[0]=-m[0]),h=this.getMarkPath(ka,O,m[0],m[1]*t,g,f),S?S.animate({d:h,opacity:c}):this.mark=f.path(h).attr({stroke:n,"stroke-width":m[1],opacity:c}).add(d.axisGroup);if(i&&D(ka))i.xy=O=this.getLabelPosition(ka,O,i,g,k,o,a,u),this.isFirst&&!this.isLast&&!q(e.showFirstLabel,1)||this.isLast&&!this.isFirst&&!q(e.showLastLabel,1)?w=!1:g&&!d.isRadial&&
!k.step&&!k.rotation&&!b&&c!==0&&this.handleOverflow(O),u&&a%u&&(w=!1),w&&D(O.y)?(O.opacity=c,i[this.isNew?"attr":"animate"](O)):(Ra(i),i.attr("y",-9999)),this.isNew=!1},destroy:function(){Pa(this,this.axis)}};B.PlotLineOrBand=function(a,b){this.axis=a;if(b)this.options=b,this.id=b.id};B.PlotLineOrBand.prototype={render:function(){var a=this,b=a.axis,c=b.horiz,d=a.options,e=d.label,f=a.label,g=d.width,h=d.to,i=d.from,j=t(i)&&t(h),k=d.value,l=d.dashStyle,m=a.svgElem,n=[],p,r=d.color,s=q(d.zIndex,0),
o=d.events,u={},w=b.chart.renderer,n=b.log2lin;b.isLog&&(i=n(i),h=n(h),k=n(k));if(g){if(n=b.getPlotLinePath(k,g),u={stroke:r,"stroke-width":g},l)u.dashstyle=l}else if(j){n=b.getPlotBandPath(i,h,d);if(r)u.fill=r;if(d.borderWidth)u.stroke=d.borderColor,u["stroke-width"]=d.borderWidth}else return;u.zIndex=s;if(m)if(n)m.show(),m.animate({d:n});else{if(m.hide(),f)a.label=f=f.destroy()}else if(n&&n.length&&(a.svgElem=m=w.path(n).attr(u).add(),o))for(p in d=function(b){m.on(b,function(c){o[b].apply(a,[c])})},
o)d(p);e&&t(e.text)&&n&&n.length&&b.width>0&&b.height>0&&!n.flat?(e=C({align:c&&j&&"center",x:c?!j&&4:10,verticalAlign:!c&&j&&"middle",y:c?j?16:10:j?6:-4,rotation:c&&!j&&90},e),this.renderLabel(e,n,j,s)):f&&f.hide();return a},renderLabel:function(a,b,c,d){var e=this.label,f=this.axis.chart.renderer;if(!e)e={align:a.textAlign||a.align,rotation:a.rotation},e.zIndex=d,this.label=e=f.text(a.text,0,0,a.useHTML).attr(e).css(a.style).add();d=[b[1],b[4],c?b[6]:b[1]];b=[b[2],b[5],c?b[7]:b[2]];c=Oa(d);f=Oa(b);
e.align(a,!1,{x:c,y:f,width:Ga(d)-c,height:Ga(b)-f});e.show()},destroy:function(){Ba(this.axis.plotLinesAndBands,this);delete this.axis;Pa(this)}};var H=B.Axis=function(){this.init.apply(this,arguments)};H.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0},lineColor:"#C0D0E0",
lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},lineWidth:0,maxPadding:.05,minPadding:.05,
startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return B.numberFormat(this.total,-1)},style:C($.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(a,b){var c=b.isX;this.chart=
a;this.horiz=a.inverted?!c:c;this.isXAxis=c;this.coll=this.coll||(c?"xAxis":"yAxis");this.opposite=b.opposite;this.side=b.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(b);var d=this.options,e=d.type;this.labelFormatter=d.labels.formatter||this.defaultLabelFormatter;this.userOptions=b;this.minPixelPadding=0;this.reversed=d.reversed;this.visible=d.visible!==!1;this.zoomEnabled=d.zoomEnabled!==!1;this.hasNames=e==="category"||d.categories===!0;this.categories=d.categories||this.hasNames;
this.names=this.names||[];this.isLog=e==="logarithmic";this.isDatetimeAxis=e==="datetime";this.isLinked=t(d.linkedTo);this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=d.minRange||d.maxZoom;this.range=d.range;this.offset=d.offset||0;this.stacks={};this.oldStacks={};this.stacksTouched=0;this.min=this.max=null;this.crosshair=q(d.crosshair,ra(a.options.tooltip.crosshairs)[c?0:1],!1);var f,d=this.options.events;
oa(this,a.axes)===-1&&(c?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this));this.series=this.series||[];if(a.inverted&&c&&this.reversed===v)this.reversed=!0;this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(f in d)E(this,f,d[f]);if(this.isLog)this.val2lin=this.log2lin,this.lin2val=this.lin2log},setOptions:function(a){this.options=C(this.defaultOptions,this.coll==="yAxis"&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,
this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],C(Q[this.coll],a))},defaultLabelFormatter:function(){var a=this.axis,b=this.value,c=a.categories,d=this.dateTimeLabelFormat,e=Q.lang.numericSymbols,f=e&&e.length,g,h=a.options.labels.format,a=a.isLog?b:a.tickInterval;if(h)g=Na(h,this);else if(c)g=b;else if(d)g=wa(d,b);else if(f&&a>=1E3)for(;f--&&g===v;)c=Math.pow(1E3,f+1),a>=c&&b*10%c===0&&e[f]!==null&&b!==0&&(g=B.numberFormat(b/c,-1)+e[f]);g===v&&(g=U(b)>=1E4?B.numberFormat(b,
-1):B.numberFormat(b,-1,v,""));return g},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1;a.dataMin=a.dataMax=a.threshold=null;a.softThreshold=!a.isXAxis;a.buildStacks&&a.buildStacks();o(a.series,function(c){if(c.visible||!b.options.chart.ignoreHiddenSeries){var d=c.options,e=d.threshold,f;a.hasVisibleSeries=!0;a.isLog&&e<=0&&(e=null);if(a.isXAxis){if(d=c.xData,d.length)c=Oa(d),!D(c)&&!(c instanceof ea)&&(d=Ia(d,function(a){return D(a)}),c=Oa(d)),a.dataMin=F(q(a.dataMin,d[0]),
c),a.dataMax=y(q(a.dataMax,d[0]),Ga(d))}else{c.getExtremes();f=c.dataMax;c=c.dataMin;if(t(c)&&t(f))a.dataMin=F(q(a.dataMin,c),c),a.dataMax=y(q(a.dataMax,f),f);if(t(e))a.threshold=e;if(!d.softThreshold||a.isLog)a.softThreshold=!1}}})},translate:function(a,b,c,d,e,f){var g=this.linkedParent||this,h=1,i=0,j=d?g.oldTransA:g.transA,d=d?g.oldMin:g.min,k=g.minPixelPadding,e=(g.isOrdinal||g.isBroken||g.isLog&&e)&&g.lin2val;if(!j)j=g.transA;if(c)h*=-1,i=g.len;g.reversed&&(h*=-1,i-=h*(g.sector||g.len));b?(a=
a*h+i,a-=k,a=a/j+d,e&&(a=g.lin2val(a))):(e&&(a=g.val2lin(a)),f==="between"&&(f=.5),a=h*(a-d)*j+i+h*k+(D(f)?j*f*g.pointRange:0));return a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,c,d,e){var f=this.chart,g=this.left,h=this.top,i,j,k=c&&f.oldChartHeight||f.chartHeight,l=c&&f.oldChartWidth||f.chartWidth,m;i=this.transB;var n=function(a,b,c){if(a<
b||a>c)d?a=F(y(b,a),c):m=!0;return a},e=q(e,this.translate(a,null,null,c)),a=c=z(e+i);i=j=z(k-e-i);D(e)?this.horiz?(i=h,j=k-this.bottom,a=c=n(a,g,g+this.width)):(a=g,c=l-this.right,i=j=n(i,h,h+this.height)):m=!0;return m&&!d?null:f.renderer.crispLine([Y,a,i,R,c,j],b||1)},getLinearTickPositions:function(a,b,c){var d,e=W(Z(b/a)*a),f=W(Ha(c/a)*a),g=[];if(b===c&&D(b))return[b];for(b=e;b<=f;){g.push(b);b=W(b+a);if(b===d)break;d=b}return g},getMinorTickPositions:function(){var a=this.options,b=this.tickPositions,
c=this.minorTickInterval,d=[],e,f=this.pointRangePadding||0;e=this.min-f;var f=this.max+f,g=f-e;if(g&&g/c<this.len/3)if(this.isLog){f=b.length;for(e=1;e<f;e++)d=d.concat(this.getLogTickPositions(c,b[e-1],b[e],!0))}else if(this.isDatetimeAxis&&a.minorTickInterval==="auto")d=d.concat(this.getTimeTicks(this.normalizeTimeTickInterval(c),e,f,a.startOfWeek));else for(b=e+(b[0]-e)%c;b<=f;b+=c)d.push(b);d.length!==0&&this.trimTicks(d,a.startOnTick,a.endOnTick);return d},adjustForMinRange:function(){var a=
this.options,b=this.min,c=this.max,d,e=this.dataMax-this.dataMin>=this.minRange,f,g,h,i,j,k;if(this.isXAxis&&this.minRange===v&&!this.isLog)t(a.min)||t(a.max)?this.minRange=null:(o(this.series,function(a){i=a.xData;for(g=j=a.xIncrement?1:i.length-1;g>0;g--)if(h=i[g]-i[g-1],f===v||h<f)f=h}),this.minRange=F(f*5,this.dataMax-this.dataMin));if(c-b<this.minRange)k=this.minRange,d=(k-c+b)/2,d=[b-d,q(a.min,b-d)],e&&(d[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),b=Ga(d),c=[b+k,q(a.max,b+k)],e&&
(c[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),c=Oa(c),c-b<k&&(d[0]=c-k,d[1]=q(a.min,c-k),b=Ga(d));this.min=b;this.max=c},getClosest:function(){var a;this.categories?a=1:o(this.series,function(b){var c=b.closestPointRange;!b.noSharedTooltip&&t(c)&&(a=t(a)?F(a,c):c)});return a},nameToX:function(a){var b=La(this.categories),c=b?this.categories:this.names,d=a.options.x,e;a.series.requireSorting=!1;t(d)||(d=this.options.nameToX===!1?a.series.autoIncrement():oa(a.name,c));if(d===-1){if(!b)e=
c.length}else e=d;this.names[e]=a.name;return e},updateNames:function(){var a=this;if(this.names.length>0)this.names.length=0,this.minRange=void 0,o(this.series||[],function(b){b.processedXData||(b.processData(),b.generatePoints());o(b.points,function(c,d){var e;if(c.options&&c.options.x===void 0&&(e=a.nameToX(c),e!==c.x))c.x=e,b.xData[d]=e})})},setAxisTranslation:function(a){var b=this,c=b.max-b.min,d=b.axisPointRange||0,e,f=0,g=0,h=b.linkedParent,i=!!b.categories,j=b.transA,k=b.isXAxis;if(k||i||
d)if(h?(f=h.minPointOffset,g=h.pointRangePadding):(e=b.getClosest(),o(b.series,function(a){var c=i?1:k?q(a.options.pointRange,e,0):b.axisPointRange||0,a=a.options.pointPlacement;d=y(d,c);b.single||(f=y(f,Fa(a)?0:c/2),g=y(g,a==="on"?0:c))})),h=b.ordinalSlope&&e?b.ordinalSlope/e:1,b.minPointOffset=f*=h,b.pointRangePadding=g*=h,b.pointRange=F(d,c),k)b.closestPointRange=e;if(a)b.oldTransA=j;b.translationSlope=b.transA=j=b.len/(c+g||1);b.transB=b.horiz?b.left:b.bottom;b.minPixelPadding=j*f},minFromRange:function(){return this.max-
this.range},setTickInterval:function(a){var b=this,c=b.chart,d=b.options,e=b.isLog,f=b.log2lin,g=b.isDatetimeAxis,h=b.isXAxis,i=b.isLinked,j=d.maxPadding,k=d.minPadding,l=d.tickInterval,m=d.tickPixelInterval,n=b.categories,p=b.threshold,r=b.softThreshold,s,S,u,w;!g&&!n&&!i&&this.getTickAmount();u=q(b.userMin,d.min);w=q(b.userMax,d.max);i?(b.linkedParent=c[b.coll][d.linkedTo],c=b.linkedParent.getExtremes(),b.min=q(c.min,c.dataMin),b.max=q(c.max,c.dataMax),d.type!==b.linkedParent.options.type&&ia(11,
1)):(!r&&t(p)&&(b.dataMin>=p?(s=p,k=0):b.dataMax<=p&&(S=p,j=0)),b.min=q(u,s,b.dataMin),b.max=q(w,S,b.dataMax));if(e)!a&&F(b.min,q(b.dataMin,b.min))<=0&&ia(10,1),b.min=W(f(b.min),15),b.max=W(f(b.max),15);if(b.range&&t(b.max))b.userMin=b.min=u=y(b.min,b.minFromRange()),b.userMax=w=b.max,b.range=null;K(b,"foundExtremes");b.beforePadding&&b.beforePadding();b.adjustForMinRange();if(!n&&!b.axisPointRange&&!b.usePercentage&&!i&&t(b.min)&&t(b.max)&&(f=b.max-b.min))!t(u)&&k&&(b.min-=f*k),!t(w)&&j&&(b.max+=
f*j);if(D(d.floor))b.min=y(b.min,d.floor);if(D(d.ceiling))b.max=F(b.max,d.ceiling);if(r&&t(b.dataMin))if(p=p||0,!t(u)&&b.min<p&&b.dataMin>=p)b.min=p;else if(!t(w)&&b.max>p&&b.dataMax<=p)b.max=p;b.tickInterval=b.min===b.max||b.min===void 0||b.max===void 0?1:i&&!l&&m===b.linkedParent.options.tickPixelInterval?l=b.linkedParent.tickInterval:q(l,this.tickAmount?(b.max-b.min)/y(this.tickAmount-1,1):void 0,n?1:(b.max-b.min)*m/y(b.len,m));h&&!a&&o(b.series,function(a){a.processData(b.min!==b.oldMin||b.max!==
b.oldMax)});b.setAxisTranslation(!0);b.beforeSetTickPositions&&b.beforeSetTickPositions();if(b.postProcessTickInterval)b.tickInterval=b.postProcessTickInterval(b.tickInterval);if(b.pointRange&&!l)b.tickInterval=y(b.pointRange,b.tickInterval);a=q(d.minTickInterval,b.isDatetimeAxis&&b.closestPointRange);if(!l&&b.tickInterval<a)b.tickInterval=a;if(!g&&!e&&!l)b.tickInterval=Db(b.tickInterval,null,Cb(b.tickInterval),q(d.allowDecimals,!(b.tickInterval>.5&&b.tickInterval<5&&b.max>1E3&&b.max<9999)),!!this.tickAmount);
if(!this.tickAmount)b.tickInterval=b.unsquish();this.setTickPositions()},setTickPositions:function(){var a=this.options,b,c=a.tickPositions,d=a.tickPositioner,e=a.startOnTick,f=a.endOnTick,g;this.tickmarkOffset=this.categories&&a.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0;this.minorTickInterval=a.minorTickInterval==="auto"&&this.tickInterval?this.tickInterval/5:a.minorTickInterval;this.tickPositions=b=c&&c.slice();if(!b&&(b=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,
a.units),this.min,this.max,a.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),b.length>this.len&&(b=[b[0],b.pop()]),this.tickPositions=b,d&&(d=d.apply(this,[this.min,this.max]))))this.tickPositions=b=d;if(!this.isLinked)this.trimTicks(b,e,f),this.min===this.max&&t(this.min)&&!this.tickAmount&&(g=!0,this.min-=.5,this.max+=.5),this.single=g,!c&&!d&&this.adjustTickAmount()},
trimTicks:function(a,b,c){var d=a[0],e=a[a.length-1],f=this.minPointOffset||0;if(b)this.min=d;else for(;this.min-f>a[0];)a.shift();if(c)this.max=e;else for(;this.max+f<a[a.length-1];)a.pop();a.length===0&&t(d)&&a.push((e+d)/2)},alignToOthers:function(){var a={},b,c=this.options;this.chart.options.chart.alignTicks!==!1&&c.alignTicks!==!1&&o(this.chart[this.coll],function(c){var e=c.options,e=[c.horiz?e.left:e.top,e.width,e.height,e.pane].join(",");c.series.length&&(a[e]?b=!0:a[e]=1)});return b},getTickAmount:function(){var a=
this.options,b=a.tickAmount,c=a.tickPixelInterval;!t(a.tickInterval)&&this.len<c&&!this.isRadial&&!this.isLog&&a.startOnTick&&a.endOnTick&&(b=2);!b&&this.alignToOthers()&&(b=Ha(this.len/c)+1);if(b<4)this.finalTickAmt=b,b=5;this.tickAmount=b},adjustTickAmount:function(){var a=this.tickInterval,b=this.tickPositions,c=this.tickAmount,d=this.finalTickAmt,e=b&&b.length;if(e<c){for(;b.length<c;)b.push(W(b[b.length-1]+a));this.transA*=(e-1)/(c-1);this.max=b[b.length-1]}else e>c&&(this.tickInterval*=2,this.setTickPositions());
if(t(d)){for(a=c=b.length;a--;)(d===3&&a%2===1||d<=2&&a>0&&a<c-1)&&b.splice(a,1);this.finalTickAmt=v}},setScale:function(){var a,b;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();b=this.len!==this.oldAxisLength;o(this.series,function(b){if(b.isDirtyData||b.isDirty||b.xAxis.isDirty)a=!0});if(b||a||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()){if(this.resetStacks&&this.resetStacks(),this.forceRedraw=
!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty)this.isDirty=b||this.min!==this.oldMin||this.max!==this.oldMax}else this.cleanStacks&&this.cleanStacks()},setExtremes:function(a,b,c,d,e){var f=this,g=f.chart,c=q(c,!0);o(f.series,function(a){delete a.kdTree});e=x(e,{min:a,max:b});K(f,"setExtremes",e,function(){f.userMin=a;f.userMax=b;f.eventArgs=e;c&&g.redraw(d)})},zoom:function(a,b){var c=this.dataMin,d=this.dataMax,e=this.options,
f=F(c,q(e.min,c)),e=y(d,q(e.max,d));this.allowZoomOutside||(t(c)&&a<=f&&(a=f),t(d)&&b>=e&&(b=e));this.displayBtn=a!==v||b!==v;this.setExtremes(a,b,!1,v,{trigger:"zoom"});return!0},setAxisSize:function(){var a=this.chart,b=this.options,c=b.offsetLeft||0,d=this.horiz,e=q(b.width,a.plotWidth-c+(b.offsetRight||0)),f=q(b.height,a.plotHeight),g=q(b.top,a.plotTop),b=q(b.left,a.plotLeft+c),c=/%$/;c.test(f)&&(f=Math.round(parseFloat(f)/100*a.plotHeight));c.test(g)&&(g=Math.round(parseFloat(g)/100*a.plotHeight+
a.plotTop));this.left=b;this.top=g;this.width=e;this.height=f;this.bottom=a.chartHeight-f-g;this.right=a.chartWidth-e-b;this.len=y(d?e:f,0);this.pos=d?b:g},getExtremes:function(){var a=this.isLog,b=this.lin2log;return{min:a?W(b(this.min)):this.min,max:a?W(b(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,c=this.lin2log,d=b?c(this.min):this.min,b=b?c(this.max):this.max;a===null?a=d:d>a?a=d:b<a&&(a=b);
return this.translate(a,0,1,0,1)},autoLabelAlign:function(a){a=(q(a,0)-this.side*90+720)%360;return a>15&&a<165?"right":a>195&&a<345?"left":"center"},tickSize:function(a){var b=this.options,c=b[a+"Length"],d=q(b[a+"Width"],a==="tick"&&this.isXAxis?1:0);if(d&&c)return b[a+"Position"]==="inside"&&(c=-c),[c,d]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var a=this.options.labels,b=this.horiz,
c=this.tickInterval,d=c,e=this.len/(((this.categories?1:0)+this.max-this.min)/c),f,g=a.rotation,h=this.labelMetrics(),i,j=Number.MAX_VALUE,k,l=function(a){a/=e||1;a=a>1?Ha(a):1;return a*c};b?(k=!a.staggerLines&&!a.step&&(t(g)?[g]:e<q(a.autoRotationLimit,80)&&a.autoRotation))&&o(k,function(a){var b;if(a===g||a&&a>=-90&&a<=90)i=l(U(h.h/na(sa*a))),b=i+U(a/360),b<j&&(j=b,f=a,d=i)}):a.step||(d=l(h.h));this.autoRotation=k;this.labelRotation=q(f,g);return d},getSlotWidth:function(){var a=this.chart,b=this.horiz,
c=this.options.labels,d=Math.max(this.tickPositions.length-(this.categories?0:1),1),e=a.margin[3];return b&&(c.step||0)<2&&!c.rotation&&(this.staggerLines||1)*a.plotWidth/d||!b&&(e&&e-a.spacing[3]||a.chartWidth*.33)},renderUnsquish:function(){var a=this.chart,b=a.renderer,c=this.tickPositions,d=this.ticks,e=this.options.labels,f=this.horiz,g=this.getSlotWidth(),h=y(1,z(g-2*(e.padding||5))),i={},j=this.labelMetrics(),k=e.style.textOverflow,l,m=0,n,p;if(!Fa(e.rotation))i.rotation=e.rotation||0;o(c,
function(a){if((a=d[a])&&a.labelLength>m)m=a.labelLength});this.maxLabelLength=m;if(this.autoRotation)m>h&&m>j.h?i.rotation=this.labelRotation:this.labelRotation=0;else if(g&&(l={width:h+"px"},!k)){l.textOverflow="clip";for(n=c.length;!f&&n--;)if(p=c[n],h=d[p].label)if(h.styles.textOverflow==="ellipsis"?h.css({textOverflow:"clip"}):d[p].labelLength>g&&h.css({width:g+"px"}),h.getBBox().height>this.len/c.length-(j.h-j.f))h.specCss={textOverflow:"ellipsis"}}if(i.rotation&&(l={width:(m>a.chartHeight*
.5?a.chartHeight*.33:a.chartHeight)+"px"},!k))l.textOverflow="ellipsis";if(this.labelAlign=e.align||this.autoLabelAlign(this.labelRotation))i.align=this.labelAlign;o(c,function(a){var b=(a=d[a])&&a.label;if(b)b.attr(i),l&&b.css(C(l,b.specCss)),delete b.specCss,a.rotation=i.rotation});this.tickRotCorr=b.rotCorr(j.b,this.labelRotation||0,this.side!==0)},hasData:function(){return this.hasVisibleSeries||t(this.min)&&t(this.max)&&!!this.tickPositions},getOffset:function(){var a=this,b=a.chart,c=b.renderer,
d=a.options,e=a.tickPositions,f=a.ticks,g=a.horiz,h=a.side,i=b.inverted?[1,0,3,2][h]:h,j,k,l=0,m,n=0,p=d.title,r=d.labels,s=0,S=a.opposite,u=b.axisOffset,b=b.clipOffset,w=[-1,1,1,-1][h],G,O=a.axisParent,ka=this.tickSize("tick");j=a.hasData();a.showAxis=k=j||q(d.showEmpty,!0);a.staggerLines=a.horiz&&r.staggerLines;if(!a.axisGroup)a.gridGroup=c.g("grid").attr({zIndex:d.gridZIndex||1}).add(O),a.axisGroup=c.g("axis").attr({zIndex:d.zIndex||2}).add(O),a.labelGroup=c.g("axis-labels").attr({zIndex:r.zIndex||
7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels").add(O);if(j||a.isLinked){if(o(e,function(b){f[b]?f[b].addLabel():f[b]=new eb(a,b)}),a.renderUnsquish(),r.reserveSpace!==!1&&(h===0||h===2||{1:"left",3:"right"}[h]===a.labelAlign||a.labelAlign==="center")&&o(e,function(a){s=y(f[a].getLabelSize(),s)}),a.staggerLines)s*=a.staggerLines,a.labelOffset=s*(a.opposite?-1:1)}else for(G in f)f[G].destroy(),delete f[G];if(p&&p.text&&p.enabled!==!1){if(!a.axisTitle)(G=p.textAlign)||(G=(g?{low:"left",middle:"center",
high:"right"}:{low:S?"right":"left",middle:"center",high:S?"left":"right"})[p.align]),a.axisTitle=c.text(p.text,0,0,p.useHTML).attr({zIndex:7,rotation:p.rotation||0,align:G}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(p.style).add(a.axisGroup),a.axisTitle.isNew=!0;if(k)l=a.axisTitle.getBBox()[g?"height":"width"],m=p.offset,n=t(m)?0:q(p.margin,g?5:10);a.axisTitle[k?"show":"hide"](!0)}a.offset=w*q(d.offset,u[h]);a.tickRotCorr=a.tickRotCorr||{x:0,y:0};c=h===0?-a.labelMetrics().h:h===
2?a.tickRotCorr.y:0;n=Math.abs(s)+n;s&&(n-=c,n+=w*(g?q(r.y,a.tickRotCorr.y+w*8):r.x));a.axisTitleMargin=q(m,n);u[h]=y(u[h],a.axisTitleMargin+l+w*a.offset,n,j&&e.length&&ka?ka[0]:0);d=d.offset?0:Z(d.lineWidth/2)*2;b[i]=y(b[i],d)},getLinePath:function(a){var b=this.chart,c=this.opposite,d=this.offset,e=this.horiz,f=this.left+(c?this.width:0)+d,d=b.chartHeight-this.bottom-(c?this.height:0)+d;c&&(a*=-1);return b.renderer.crispLine([Y,e?this.left:f,e?d:this.top,R,e?b.chartWidth-this.right:f,e?d:b.chartHeight-
this.bottom],a)},getTitlePosition:function(){var a=this.horiz,b=this.left,c=this.top,d=this.len,e=this.options.title,f=a?b:c,g=this.opposite,h=this.offset,i=e.x||0,j=e.y||0,k=this.chart.renderer.fontMetrics(e.style.fontSize).f,d={low:f+(a?0:d),middle:f+d/2,high:f+(a?d:0)}[e.align],b=(a?c+this.height:b)+(a?1:-1)*(g?-1:1)*this.axisTitleMargin+(this.side===2?k:0);return{x:a?d+i:b+(g?this.width:0)+h+i,y:a?b+j-(g?this.height:0)+h:d+j}},render:function(){var a=this,b=a.chart,c=b.renderer,d=a.options,e=
a.isLog,f=a.lin2log,g=a.isLinked,h=a.tickPositions,i=a.axisTitle,j=a.ticks,k=a.minorTicks,l=a.alternateBands,m=d.stackLabels,n=d.alternateGridColor,p=a.tickmarkOffset,r=d.lineWidth,s,q=b.hasRendered&&D(a.oldMin),u=a.showAxis,w=cb(c.globalAnimation),G,O;a.labelEdge.length=0;a.overlap=!1;o([j,k,l],function(a){for(var b in a)a[b].isActive=!1});if(a.hasData()||g){a.minorTickInterval&&!a.categories&&o(a.getMinorTickPositions(),function(b){k[b]||(k[b]=new eb(a,b,"minor"));q&&k[b].isNew&&k[b].render(null,
!0);k[b].render(null,!1,1)});if(h.length&&(o(h,function(b,c){if(!g||b>=a.min&&b<=a.max)j[b]||(j[b]=new eb(a,b)),q&&j[b].isNew&&j[b].render(c,!0,.1),j[b].render(c)}),p&&(a.min===0||a.single)))j[-1]||(j[-1]=new eb(a,-1,null,!0)),j[-1].render(-1);n&&o(h,function(c,d){O=h[d+1]!==v?h[d+1]+p:a.max-p;if(d%2===0&&c<a.max&&O<=a.max+(b.polar?-p:p))l[c]||(l[c]=new B.PlotLineOrBand(a)),G=c+p,l[c].options={from:e?f(G):G,to:e?f(O):O,color:n},l[c].render(),l[c].isActive=!0});if(!a._addedPlotLB)o((d.plotLines||[]).concat(d.plotBands||
[]),function(b){a.addPlotBandOrLine(b)}),a._addedPlotLB=!0}o([j,k,l],function(a){var c,d,e=[],f=w.duration;for(c in a)if(!a[c].isActive)a[c].render(c,!1,0),a[c].isActive=!1,e.push(c);bb(function(){for(d=e.length;d--;)a[e[d]]&&!a[e[d]].isActive&&(a[e[d]].destroy(),delete a[e[d]])},a===l||!b.hasRendered||!f?0:f)});if(r)s=a.getLinePath(r),a.axisLine?a.axisLine.animate({d:s}):a.axisLine=c.path(s).attr({stroke:d.lineColor,"stroke-width":r,zIndex:7}).add(a.axisGroup),a.axisLine[u?"show":"hide"](!0);if(i&&
u)i[i.isNew?"attr":"animate"](a.getTitlePosition()),i.isNew=!1;m&&m.enabled&&a.renderStackTotals();a.isDirty=!1},redraw:function(){this.visible&&(this.render(),o(this.plotLinesAndBands,function(a){a.render()}));o(this.series,function(a){a.isDirty=!0})},destroy:function(a){var b=this,c=b.stacks,d,e=b.plotLinesAndBands;a||V(b);for(d in c)Pa(c[d]),c[d]=null;o([b.ticks,b.minorTicks,b.alternateBands],function(a){Pa(a)});for(a=e.length;a--;)e[a].destroy();o("stackTotalGroup,axisLine,axisTitle,axisGroup,gridGroup,labelGroup,cross".split(","),
function(a){b[a]&&(b[a]=b[a].destroy())});this._addedPlotLB=this.chart._labelPanes=this.ordinalSlope=void 0},drawCrosshair:function(a,b){var c,d=this.crosshair,e,f;a||(a=this.cross&&this.cross.e);if(!this.crosshair||(t(b)||!q(d.snap,!0))===!1)this.hideCrosshair();else if(q(d.snap,!0)?t(b)&&(c=this.isXAxis?b.plotX:this.len-b.plotY):c=this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos,c=this.isRadial?this.getPlotLinePath(this.isXAxis?b.x:q(b.stackY,b.y))||null:this.getPlotLinePath(null,null,null,
null,c)||null,c===null)this.hideCrosshair();else{e=this.categories&&!this.isRadial;f=q(d.width,e?this.transA:1);if(this.cross)this.cross.attr({d:c,visibility:"visible","stroke-width":f});else{e={"pointer-events":"none","stroke-width":f,stroke:d.color||(e?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:q(d.zIndex,2)};if(d.dashStyle)e.dashstyle=d.dashStyle;this.cross=this.chart.renderer.path(c).attr(e).add()}this.cross.e=a}},hideCrosshair:function(){this.cross&&this.cross.hide()}};x(H.prototype,{getPlotBandPath:function(a,
b){var c=this.getPlotLinePath(b,null,null,!0),d=this.getPlotLinePath(a,null,null,!0);d&&c?(d.flat=d.toString()===c.toString(),d.push(c[4],c[5],c[1],c[2])):d=null;return d},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(a,b){var c=(new B.PlotLineOrBand(this,a)).render(),d=this.userOptions;c&&(b&&(d[b]=d[b]||[],d[b].push(a)),this.plotLinesAndBands.push(c));return c},removePlotBandOrLine:function(a){for(var b=
this.plotLinesAndBands,c=this.options,d=this.userOptions,e=b.length;e--;)b[e].id===a&&b[e].destroy();o([c.plotLines||[],d.plotLines||[],c.plotBands||[],d.plotBands||[]],function(b){for(e=b.length;e--;)b[e].id===a&&Ba(b,b[e])})}});H.prototype.getTimeTicks=function(a,b,c,d){var e=[],f={},g=Q.global.useUTC,h,i=new ea(b-gb(b)),j=a.unitRange,k=a.count;if(t(b)){i[Rb](j>=M.second?0:k*Z(i.getMilliseconds()/k));if(j>=M.second)i[Sb](j>=M.minute?0:k*Z(i.getSeconds()/k));if(j>=M.minute)i[Tb](j>=M.hour?0:k*Z(i[Eb]()/
k));if(j>=M.hour)i[Ub](j>=M.day?0:k*Z(i[Fb]()/k));if(j>=M.day)i[sb](j>=M.month?1:k*Z(i[db]()/k));j>=M.month&&(i[Hb](j>=M.year?0:k*Z(i[jb]()/k)),h=i[kb]());j>=M.year&&(h-=h%k,i[Ib](h));if(j===M.week)i[sb](i[db]()-i[Gb]()+q(d,1));b=1;if(Bb||hb)i=i.getTime(),i=new ea(i+gb(i));h=i[kb]();for(var d=i.getTime(),l=i[jb](),m=i[db](),n=!g||!!hb,p=(M.day+(g?gb(i):i.getTimezoneOffset()*6E4))%M.day;d<c;)e.push(d),j===M.year?d=rb(h+b*k,0):j===M.month?d=rb(h,l+b*k):n&&(j===M.day||j===M.week)?d=rb(h,l,m+b*k*(j===
M.day?1:7)):d+=j*k,b++;e.push(d);o(Ia(e,function(a){return j<=M.hour&&a%M.day===p}),function(a){f[a]="day"})}e.info=x(a,{higherRanks:f,totalRange:j*k});return e};H.prototype.normalizeTimeTickInterval=function(a,b){var c=b||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],d=c[c.length-1],e=M[d[0]],f=d[1],g;for(g=0;g<c.length;g++)if(d=c[g],e=M[d[0]],f=d[1],
c[g+1]&&a<=(e*f[f.length-1]+M[c[g+1][0]])/2)break;e===M.year&&a<5*e&&(f=[1,2,5]);c=Db(a/e,f,d[0]==="year"?y(Cb(a/e),1):1);return{unitRange:e,count:c,unitName:d[0]}};H.prototype.getLogTickPositions=function(a,b,c,d){var e=this.options,f=this.len,g=this.lin2log,h=this.log2lin,i=[];if(!d)this._minorAutoInterval=null;if(a>=.5)a=z(a),i=this.getLinearTickPositions(a,b,c);else if(a>=.08)for(var f=Z(b),j,k,l,m,n,e=a>.3?[1,2,4]:a>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];f<c+1&&!n;f++){k=e.length;for(j=0;j<k&&!n;j++)l=
h(g(f)*e[j]),l>b&&(!d||m<=c)&&m!==v&&i.push(m),m>c&&(n=!0),m=l}else if(b=g(b),c=g(c),a=e[d?"minorTickInterval":"tickInterval"],a=q(a==="auto"?null:a,this._minorAutoInterval,(c-b)*(e.tickPixelInterval/(d?5:1))/((d?f/this.tickPositions.length:f)||1)),a=Db(a,null,Cb(a)),i=va(this.getLinearTickPositions(a,b,c),h),!d)this._minorAutoInterval=a/5;if(!d)this.tickInterval=a;return i};H.prototype.log2lin=function(a){return ba.log(a)/ba.LN10};H.prototype.lin2log=function(a){return ba.pow(10,a)};var Nb=B.Tooltip=
function(){this.init.apply(this,arguments)};Nb.prototype={init:function(a,b){var c=b.borderWidth,d=b.style,e=I(d.padding);this.chart=a;this.options=b;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=a.renderer.label("",0,0,b.shape||"callout",null,null,b.useHTML,null,"tooltip").attr({padding:e,fill:b.backgroundColor,"stroke-width":c,r:b.borderRadius,zIndex:8,display:"none"}).css(d).css({padding:0}).add();ta||this.label.shadow(b.shadow);this.shared=b.shared},destroy:function(){if(this.label)this.label=
this.label.destroy();clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(a,b,c,d){var e=this,f=e.now,g=e.options.animation!==!1&&!e.isHidden&&(U(a-f.x)>1||U(b-f.y)>1),h=e.followPointer||e.len>1;x(f,{x:g?(2*f.x+a)/3:a,y:g?(f.y+b)/2:b,anchorX:h?v:g?(2*f.anchorX+c)/3:c,anchorY:h?v:g?(f.anchorY+d)/2:d});e.label.attr(f);if(g)clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){e&&e.move(a,b,c,d)},32)},hide:function(a){var b=this;clearTimeout(this.hideTimer);
a=q(a,this.options.hideDelay,500);if(!this.isHidden)this.hideTimer=bb(function(){b.label[a?"fadeOut":"hide"]();b.isHidden=!0},a)},getAnchor:function(a,b){var c,d=this.chart,e=d.inverted,f=d.plotTop,g=d.plotLeft,h=0,i=0,j,k,a=ra(a);c=a[0].tooltipPos;this.followPointer&&b&&(b.chartX===v&&(b=d.pointer.normalize(b)),c=[b.chartX-d.plotLeft,b.chartY-f]);c||(o(a,function(a){j=a.series.yAxis;k=a.series.xAxis;h+=a.plotX+(!e&&k?k.left-g:0);i+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!e&&j?j.top-f:0)}),
h/=a.length,i/=a.length,c=[e?d.plotWidth-i:h,this.shared&&!e&&a.length>1&&b?b.chartY-f:e?d.plotHeight-h:i]);return va(c,z)},getPosition:function(a,b,c){var d=this.chart,e=this.distance,f={},g=c.h||0,h,i=["y",d.chartHeight,b,c.plotY+d.plotTop,d.plotTop,d.plotTop+d.plotHeight],j=["x",d.chartWidth,a,c.plotX+d.plotLeft,d.plotLeft,d.plotLeft+d.plotWidth],k=!this.followPointer&&q(c.ttBelow,!d.inverted===!!c.negative),l=function(a,b,c,d,h,i){var j=c<d-e,m=d+e+c<b,l=d-e-c;d+=e;if(k&&m)f[a]=d;else if(!k&&
j)f[a]=l;else if(j)f[a]=F(i-c,l-g<0?l:l-g);else if(m)f[a]=y(h,d+g+c>b?d:d+g);else return!1},m=function(a,b,c,d){var g;d<e||d>b-e?g=!1:f[a]=d<c/2?1:d>b-c/2?b-c-2:d-c/2;return g},n=function(a){var b=i;i=j;j=b;h=a},p=function(){l.apply(0,i)!==!1?m.apply(0,j)===!1&&!h&&(n(!0),p()):h?f.x=f.y=0:(n(!0),p())};(d.inverted||this.len>1)&&n();p();return f},defaultFormatter:function(a){var b=this.points||ra(this),c;c=[a.tooltipFooterHeaderFormatter(b[0])];c=c.concat(a.bodyFormatter(b));c.push(a.tooltipFooterHeaderFormatter(b[0],
!0));return c.join("")},refresh:function(a,b){var c=this.chart,d=this.label,e=this.options,f,g,h,i={},j,k=[];j=e.formatter||this.defaultFormatter;var i=c.hoverPoints,l,m=this.shared;clearTimeout(this.hideTimer);this.followPointer=ra(a)[0].series.tooltipOptions.followPointer;h=this.getAnchor(a,b);f=h[0];g=h[1];m&&(!a.series||!a.series.noSharedTooltip)?(c.hoverPoints=a,i&&o(i,function(a){a.setState()}),o(a,function(a){a.setState("hover");k.push(a.getLabelConfig())}),i={x:a[0].category,y:a[0].y},i.points=
k,this.len=k.length,a=a[0]):i=a.getLabelConfig();j=j.call(i,this);i=a.series;this.distance=q(i.tooltipOptions.distance,16);j===!1?this.hide():(this.isHidden&&(Ra(d),d.attr({opacity:1,display:"block"}).show()),d.attr({text:j}),l=e.borderColor||a.color||i.color||"#606060",d.attr({stroke:l}),this.updatePosition({plotX:f,plotY:g,negative:a.negative,ttBelow:a.ttBelow,h:h[2]||0}),this.isHidden=!1);K(c,"tooltipRefresh",{text:j,x:f+c.plotLeft,y:g+c.plotTop,borderColor:l})},updatePosition:function(a){var b=
this.chart,c=this.label,c=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(z(c.x),z(c.y||0),a.plotX+b.plotLeft,a.plotY+b.plotTop)},getXDateFormat:function(a,b,c){var d,b=b.dateTimeLabelFormats,e=c&&c.closestPointRange,f,g={millisecond:15,second:12,minute:9,hour:6,day:3},h,i="millisecond";if(e){h=wa("%m-%d %H:%M:%S.%L",a.x);for(f in M){if(e===M.week&&+wa("%w",a.x)===c.options.startOfWeek&&h.substr(6)==="00:00:00.000"){f="week";break}if(M[f]>e){f=i;break}if(g[f]&&
h.substr(g[f])!=="01-01 00:00:00.000".substr(g[f]))break;f!=="week"&&(i=f)}f&&(d=b[f])}else d=b.day;return d||b.year},tooltipFooterHeaderFormatter:function(a,b){var c=b?"footer":"header",d=a.series,e=d.tooltipOptions,f=e.xDateFormat,g=d.xAxis,h=g&&g.options.type==="datetime"&&D(a.key),c=e[c+"Format"];h&&!f&&(f=this.getXDateFormat(a,e,g));h&&f&&(c=c.replace("{point.key}","{point.key:"+f+"}"));return Na(c,{point:a,series:d})},bodyFormatter:function(a){return va(a,function(a){var c=a.series.tooltipOptions;
return(c.pointFormatter||a.point.tooltipFormatter).call(a.point,c.pointFormat)})}};var qa;$a=A&&A.documentElement.ontouchstart!==v;var ab=B.Pointer=function(a,b){this.init(a,b)};ab.prototype={init:function(a,b){var c=b.chart,d=c.events,e=ta?"":c.zoomType,c=a.inverted,f;this.options=b;this.chart=a;this.zoomX=f=/x/.test(e);this.zoomY=e=/y/.test(e);this.zoomHor=f&&!c||e&&c;this.zoomVert=e&&!c||f&&c;this.hasZoom=f||e;this.runChartClick=d&&!!d.click;this.pinchDown=[];this.lastValidTouch={};if(B.Tooltip&&
b.tooltip.enabled)a.tooltip=new Nb(a,b.tooltip),this.followTouchMove=q(b.tooltip.followTouchMove,!0);this.setDOMEvents()},normalize:function(a,b){var c,d,a=a||L.event;if(!a.target)a.target=a.srcElement;d=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a;if(!b)this.chartPosition=b=Mb(this.chart.container);d.pageX===v?(c=y(a.x,a.clientX-b.left),d=a.y):(c=d.pageX-b.left,d=d.pageY-b.top);return x(a,{chartX:z(c),chartY:z(d)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};o(this.chart.axes,
function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})});return b},runPointActions:function(a){var b=this.chart,c=b.series,d=b.tooltip,e=d?d.shared:!1,f=!0,g=b.hoverPoint,h=b.hoverSeries,i,j,k,l=[],m;if(!e&&!h)for(i=0;i<c.length;i++)if(c[i].directTouch||!c[i].options.stickyTracking)c=[];h&&(e?h.noSharedTooltip:h.directTouch)&&g?l=[g]:(!e&&h&&!h.options.stickyTracking&&(c=[h]),o(c,function(b){j=b.noSharedTooltip&&e;k=!e&&b.directTouch;b.visible&&!j&&!k&&
q(b.options.enableMouseTracking,!0)&&(m=b.searchPoint(a,!j&&b.kdDimensions===1))&&m.series&&l.push(m)}),l.sort(function(a,b){var c=a.distX-b.distX,d=a.dist-b.dist,e=a.series.group.zIndex>b.series.group.zIndex?-1:1;return c!==0?c:d!==0?d:e}));if(e)for(i=l.length;i--;)(l[i].clientX!==l[0].clientX||l[i].series.noSharedTooltip)&&l.splice(i,1);if(l[0]&&(l[0]!==this.hoverPoint||d&&d.isHidden)){if(e&&!l[0].series.noSharedTooltip){for(i=0;i>=0;i--)l[i].onMouseOver(a,l[i]!==(h&&h.directTouch&&g||l[0]));if(h&&
h.directTouch&&g&&g!==l[0])g.onMouseOver(a,!1);l.length&&d&&d.refresh(l.sort(function(a,b){return a.series.index-b.series.index}),a)}else if(d&&d.refresh(l[0],a),!h||!h.directTouch)l[0].onMouseOver(a);this.prevKDPoint=l[0];f=!1}f&&(c=h&&h.tooltipOptions.followPointer,d&&c&&!d.isHidden&&(c=d.getAnchor([{}],a),d.updatePosition({plotX:c[0],plotY:c[1]})));if(!this._onDocumentMouseMove)this._onDocumentMouseMove=function(a){if(da[qa])da[qa].pointer.onDocumentMouseMove(a)},E(A,"mousemove",this._onDocumentMouseMove);
o(e?l:[q(g,l[0])],function(c){o(b.axes,function(b){(!c||c.series&&c.series[b.coll]===b)&&b.drawCrosshair(a,c)})})},reset:function(a,b){var c=this.chart,d=c.hoverSeries,e=c.hoverPoint,f=c.hoverPoints,g=c.tooltip,h=g&&g.shared?f:e;a&&h&&o(ra(h),function(b){b.series.isCartesian&&b.plotX===void 0&&(a=!1)});if(a)g&&h&&(g.refresh(h),e&&(e.setState(e.state,!0),o(c.axes,function(a){a.crosshair&&a.drawCrosshair(null,e)})));else{if(e)e.onMouseOut();f&&o(f,function(a){a.setState()});if(d)d.onMouseOut();g&&g.hide(b);
if(this._onDocumentMouseMove)V(A,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null;o(c.axes,function(a){a.hideCrosshair()});this.hoverX=this.prevKDPoint=c.hoverPoints=c.hoverPoint=null}},scaleGroups:function(a,b){var c=this.chart,d;o(c.series,function(e){d=a||e.getPlotBox();e.xAxis&&e.xAxis.zoomEnabled&&(e.group.attr(d),e.markerGroup&&(e.markerGroup.attr(d),e.markerGroup.clip(b?c.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(d))});c.clipRect.attr(b||c.clipBox)},dragStart:function(a){var b=
this.chart;b.mouseIsDown=a.type;b.cancelClick=!1;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var b=this.chart,c=b.options.chart,d=a.chartX,e=a.chartY,f=this.zoomHor,g=this.zoomVert,h=b.plotLeft,i=b.plotTop,j=b.plotWidth,k=b.plotHeight,l,m=this.selectionMarker,n=this.mouseDownX,p=this.mouseDownY,r=c.panKey&&a[c.panKey+"Key"];if(!m||!m.touch)if(d<h?d=h:d>h+j&&(d=h+j),e<i?e=i:e>i+k&&(e=i+k),this.hasDragged=Math.sqrt(Math.pow(n-d,2)+Math.pow(p-e,2)),this.hasDragged>
10){l=b.isInsidePlot(n-h,p-i);if(b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&l&&!r&&!m)this.selectionMarker=m=b.renderer.rect(h,i,f?1:j,g?1:k,0).attr({fill:c.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add();m&&f&&(d-=n,m.attr({width:U(d),x:(d>0?0:d)+n}));m&&g&&(d=e-p,m.attr({height:U(d),y:(d>0?0:d)+p}));l&&!m&&c.panning&&b.pan(a,c.panning)}},drop:function(a){var b=this,c=this.chart,d=this.hasPinched;if(this.selectionMarker){var e={originalEvent:a,xAxis:[],yAxis:[]},f=this.selectionMarker,
g=f.attr?f.attr("x"):f.x,h=f.attr?f.attr("y"):f.y,i=f.attr?f.attr("width"):f.width,j=f.attr?f.attr("height"):f.height,k;if(this.hasDragged||d)o(c.axes,function(c){if(c.zoomEnabled&&t(c.min)&&(d||b[{xAxis:"zoomX",yAxis:"zoomY"}[c.coll]])){var f=c.horiz,n=a.type==="touchend"?c.minPixelPadding:0,p=c.toValue((f?g:h)+n),f=c.toValue((f?g+i:h+j)-n);e[c.coll].push({axis:c,min:F(p,f),max:y(p,f)});k=!0}}),k&&K(c,"selection",e,function(a){c.zoom(x(a,d?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy();
d&&this.scaleGroups()}if(c)N(c.container,{cursor:c._cursor}),c.cancelClick=this.hasDragged>10,c.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]},onContainerMouseDown:function(a){a=this.normalize(a);a.preventDefault&&a.preventDefault();this.dragStart(a)},onDocumentMouseUp:function(a){da[qa]&&da[qa].pointer.drop(a)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition,a=this.normalize(a,c);c&&!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,
a.chartY-b.plotTop)&&this.reset()},onContainerMouseLeave:function(a){var b=da[qa];if(b&&(a.relatedTarget||a.toElement))b.pointer.reset(),b.pointer.chartPosition=null},onContainerMouseMove:function(a){var b=this.chart;if(!t(qa)||!da[qa]||!da[qa].mouseIsDown)qa=b.index;a=this.normalize(a);a.returnValue=!1;b.mouseIsDown==="mousedown"&&this.drag(a);(this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&!b.openMenu&&this.runPointActions(a)},inClass:function(a,
b){for(var c;a;){if(c=aa(a,"class")){if(c.indexOf(b)!==-1)return!0;if(c.indexOf("highcharts-container")!==-1)return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries,a=a.relatedTarget||a.toElement;if(b&&a&&!b.options.stickyTracking&&!this.inClass(a,"highcharts-tooltip")&&!this.inClass(a,"highcharts-series-"+b.index))b.onMouseOut()},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,d=b.plotLeft,e=b.plotTop,a=this.normalize(a);b.cancelClick||(c&&this.inClass(a.target,
"highcharts-tracker")?(K(c.series,"click",x(a,{point:c})),b.hoverPoint&&c.firePointEvent("click",a)):(x(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-d,a.chartY-e)&&K(b,"click",a)))},setDOMEvents:function(){var a=this,b=a.chart.container;b.onmousedown=function(b){a.onContainerMouseDown(b)};b.onmousemove=function(b){a.onContainerMouseMove(b)};b.onclick=function(b){a.onContainerClick(b)};E(b,"mouseleave",a.onContainerMouseLeave);mb===1&&E(A,"mouseup",a.onDocumentMouseUp);if($a)b.ontouchstart=function(b){a.onContainerTouchStart(b)},
b.ontouchmove=function(b){a.onContainerTouchMove(b)},mb===1&&E(A,"touchend",a.onDocumentTouchEnd)},destroy:function(){var a;V(this.chart.container,"mouseleave",this.onContainerMouseLeave);mb||(V(A,"mouseup",this.onDocumentMouseUp),V(A,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(a in this)this[a]=null}};x(B.Pointer.prototype,{pinchTranslate:function(a,b,c,d,e,f){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,a,b,c,d,e,f);(this.zoomVert||this.pinchVert)&&
this.pinchTranslateDirection(!1,a,b,c,d,e,f)},pinchTranslateDirection:function(a,b,c,d,e,f,g,h){var i=this.chart,j=a?"x":"y",k=a?"X":"Y",l="chart"+k,m=a?"width":"height",n=i["plot"+(a?"Left":"Top")],p,r,s=h||1,q=i.inverted,o=i.bounds[a?"h":"v"],w=b.length===1,G=b[0][l],t=c[0][l],y=!w&&b[1][l],z=!w&&c[1][l],v,c=function(){!w&&U(G-y)>20&&(s=h||U(t-z)/U(G-y));r=(n-t)/s+G;p=i["plot"+(a?"Width":"Height")]/s};c();b=r;b<o.min?(b=o.min,v=!0):b+p>o.max&&(b=o.max-p,v=!0);v?(t-=.8*(t-g[j][0]),w||(z-=.8*(z-g[j][1])),
c()):g[j]=[t,z];q||(f[j]=r-n,f[m]=p);f=q?1/s:s;e[m]=p;e[j]=b;d[q?a?"scaleY":"scaleX":"scale"+k]=s;d["translate"+k]=f*n+(t-f*G)},pinch:function(a){var b=this,c=b.chart,d=b.pinchDown,e=a.touches,f=e.length,g=b.lastValidTouch,h=b.hasZoom,i=b.selectionMarker,j={},k=f===1&&(b.inClass(a.target,"highcharts-tracker")&&c.runTrackerClick||b.runChartClick),l={};if(f>1)b.initiated=!0;h&&b.initiated&&!k&&a.preventDefault();va(e,function(a){return b.normalize(a)});if(a.type==="touchstart")o(e,function(a,b){d[b]=
{chartX:a.chartX,chartY:a.chartY}}),g.x=[d[0].chartX,d[1]&&d[1].chartX],g.y=[d[0].chartY,d[1]&&d[1].chartY],o(c.axes,function(a){if(a.zoomEnabled){var b=c.bounds[a.horiz?"h":"v"],d=a.minPixelPadding,e=a.toPixels(q(a.options.min,a.dataMin)),f=a.toPixels(q(a.options.max,a.dataMax)),g=F(e,f),e=y(e,f);b.min=F(a.pos,g-d);b.max=y(a.pos+a.len,e+d)}}),b.res=!0;else if(d.length){if(!i)b.selectionMarker=i=x({destroy:ua,touch:!0},c.plotBox);b.pinchTranslate(d,e,j,i,l,g);b.hasPinched=h;b.scaleGroups(j,l);if(!h&&
b.followTouchMove&&f===1)this.runPointActions(b.normalize(a));else if(b.res)b.res=!1,this.reset(!1,0)}},touch:function(a,b){var c=this.chart,d;qa=c.index;if(a.touches.length===1)if(a=this.normalize(a),c.isInsidePlot(a.chartX-c.plotLeft,a.chartY-c.plotTop)&&!c.openMenu){b&&this.runPointActions(a);if(a.type==="touchmove")c=this.pinchDown,d=c[0]?Math.sqrt(Math.pow(c[0].chartX-a.chartX,2)+Math.pow(c[0].chartY-a.chartY,2))>=4:!1;q(d,!0)&&this.pinch(a)}else b&&this.reset();else a.touches.length===2&&this.pinch(a)},
onContainerTouchStart:function(a){this.touch(a,!0)},onContainerTouchMove:function(a){this.touch(a)},onDocumentTouchEnd:function(a){da[qa]&&da[qa].pointer.drop(a)}});if(L.PointerEvent||L.MSPointerEvent){var Ja={},Ob=!!L.PointerEvent,dc=function(){var a,b=[];b.item=function(a){return this[a]};for(a in Ja)Ja.hasOwnProperty(a)&&b.push({pageX:Ja[a].pageX,pageY:Ja[a].pageY,target:Ja[a].target});return b},Pb=function(a,b,c,d){if((a.pointerType==="touch"||a.pointerType===a.MSPOINTER_TYPE_TOUCH)&&da[qa])d(a),
d=da[qa].pointer,d[b]({type:c,target:a.currentTarget,preventDefault:ua,touches:dc()})};x(ab.prototype,{onContainerPointerDown:function(a){Pb(a,"onContainerTouchStart","touchstart",function(a){Ja[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){Pb(a,"onContainerTouchMove","touchmove",function(a){Ja[a.pointerId]={pageX:a.pageX,pageY:a.pageY};if(!Ja[a.pointerId].target)Ja[a.pointerId].target=a.currentTarget})},onDocumentPointerUp:function(a){Pb(a,
"onDocumentTouchEnd","touchend",function(a){delete Ja[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,Ob?"pointerdown":"MSPointerDown",this.onContainerPointerDown);a(this.chart.container,Ob?"pointermove":"MSPointerMove",this.onContainerPointerMove);a(A,Ob?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});T(ab.prototype,"init",function(a,b,c){a.call(this,b,c);this.hasZoom&&N(b.container,{"-ms-touch-action":"none","touch-action":"none"})});T(ab.prototype,"setDOMEvents",function(a){a.apply(this);
(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(E)});T(ab.prototype,"destroy",function(a){this.batchMSEvents(V);a.call(this)})}var xb=B.Legend=function(a,b){this.init(a,b)};xb.prototype={init:function(a,b){var c=this,d=b.itemStyle,e=b.itemMarginTop||0;this.options=b;if(b.enabled)c.itemStyle=d,c.itemHiddenStyle=C(d,b.itemHiddenStyle),c.itemMarginTop=e,c.padding=d=q(b.padding,8),c.initialItemX=d,c.initialItemY=d-5,c.maxItemWidth=0,c.chart=a,c.itemHeight=0,c.symbolWidth=q(b.symbolWidth,16),
c.pages=[],c.render(),E(c.chart,"endResize",function(){c.positionCheckboxes()})},colorizeItem:function(a,b){var c=this.options,d=a.legendItem,e=a.legendLine,f=a.legendSymbol,g=this.itemHiddenStyle.color,c=b?c.itemStyle.color:g,h=b?a.legendColor||a.color||"#CCC":g,g=a.options&&a.options.marker,i={fill:h},j;d&&d.css({fill:c,color:c});e&&e.attr({stroke:h});if(f){if(g&&f.isMarker)for(j in i.stroke=h,g=a.convertAttribs(g),g)d=g[j],d!==v&&(i[j]=d);f.attr(i)}},positionItem:function(a){var b=this.options,
c=b.symbolPadding,b=!b.rtl,d=a._legendItemPos,e=d[0],d=d[1],f=a.checkbox;(a=a.legendGroup)&&a.element&&a.translate(b?e:this.legendWidth-e-2*c-4,d);if(f)f.x=e,f.y=d},destroyItem:function(a){var b=a.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())});b&&Wa(a.checkbox)},destroy:function(){var a=this.group,b=this.box;if(b)this.box=b.destroy();if(a)this.group=a.destroy()},positionCheckboxes:function(a){var b=this.group.alignAttr,c,d=this.clipHeight||
this.legendHeight,e=this.titleHeight;if(b)c=b.translateY,o(this.allItems,function(f){var g=f.checkbox,h;g&&(h=c+e+g.y+(a||0)+3,N(g,{left:b.translateX+f.checkboxOffset+g.x-20+"px",top:h+"px",display:h>c-6&&h<c+d-6?"":"none"}))})},renderTitle:function(){var a=this.padding,b=this.options.title,c=0;if(b.text){if(!this.title)this.title=this.chart.renderer.label(b.text,a-3,a-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group);a=this.title.getBBox();c=a.height;this.offsetWidth=
a.width;this.contentGroup.attr({translateY:c})}this.titleHeight=c},setText:function(a){var b=this.options;a.legendItem.attr({text:b.labelFormat?Na(b.labelFormat,a):b.labelFormatter.call(a)})},renderItem:function(a){var b=this.chart,c=b.renderer,d=this.options,e=d.layout==="horizontal",f=this.symbolWidth,g=d.symbolPadding,h=this.itemStyle,i=this.itemHiddenStyle,j=this.padding,k=e?q(d.itemDistance,20):0,l=!d.rtl,m=d.width,n=d.itemMarginBottom||0,p=this.itemMarginTop,r=this.initialItemX,s=a.legendItem,
o=a.series&&a.series.drawLegendSymbol?a.series:a,u=o.options,u=this.createCheckboxForItem&&u&&u.showCheckbox,w=d.useHTML;if(!s){a.legendGroup=c.g("legend-item").attr({zIndex:1}).add(this.scrollGroup);a.legendItem=s=c.text("",l?f+g:-g,this.baseline||0,w).css(C(a.visible?h:i)).attr({align:l?"left":"right",zIndex:2}).add(a.legendGroup);if(!this.baseline)this.fontMetrics=c.fontMetrics(h.fontSize,s),this.baseline=this.fontMetrics.f+3+p,s.attr("y",this.baseline);o.drawLegendSymbol(this,a);this.setItemEvents&&
this.setItemEvents(a,s,w,h,i);u&&this.createCheckboxForItem(a)}this.colorizeItem(a,a.visible);this.setText(a);c=s.getBBox();f=a.checkboxOffset=d.itemWidth||a.legendItemWidth||f+g+c.width+k+(u?20:0);this.itemHeight=g=z(a.legendItemHeight||c.height);if(e&&this.itemX-r+f>(m||b.chartWidth-2*j-r-d.x))this.itemX=r,this.itemY+=p+this.lastLineHeight+n,this.lastLineHeight=0;this.maxItemWidth=y(this.maxItemWidth,f);this.lastItemY=p+this.itemY+n;this.lastLineHeight=y(g,this.lastLineHeight);a._legendItemPos=
[this.itemX,this.itemY];e?this.itemX+=f:(this.itemY+=p+g+n,this.lastLineHeight=g);this.offsetWidth=m||y((e?this.itemX-r-k:f)+j,this.offsetWidth)},getAllItems:function(){var a=[];o(this.chart.series,function(b){var c=b.options;if(q(c.showInLegend,!t(c.linkedTo)?v:!1,!0))a=a.concat(b.legendItems||(c.legendType==="point"?b.data:b))});return a},adjustMargins:function(a,b){var c=this.chart,d=this.options,e=d.align.charAt(0)+d.verticalAlign.charAt(0)+d.layout.charAt(0);d.floating||o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,
/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(f,g){f.test(e)&&!t(a[g])&&(c[wb[g]]=y(c[wb[g]],c.legend[(g+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][g]*d[g%2?"x":"y"]+q(d.margin,12)+b[g]))})},render:function(){var a=this,b=a.chart,c=b.renderer,d=a.group,e,f,g,h,i=a.box,j=a.options,k=a.padding,l=j.borderWidth,m=j.backgroundColor;a.itemX=a.initialItemX;a.itemY=a.initialItemY;a.offsetWidth=0;a.lastItemY=0;if(!d)a.group=d=c.g("legend").attr({zIndex:7}).add(),a.contentGroup=c.g().attr({zIndex:1}).add(d),
a.scrollGroup=c.g().add(a.contentGroup);a.renderTitle();e=a.getAllItems();pb(e,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)});j.reversed&&e.reverse();a.allItems=e;a.display=f=!!e.length;a.lastLineHeight=0;o(e,function(b){a.renderItem(b)});g=(j.width||a.offsetWidth)+k;h=a.lastItemY+a.lastLineHeight+a.titleHeight;h=a.handleOverflow(h);h+=k;if(l||m){if(i){if(g>0&&h>0)i[i.isNew?"attr":"animate"](i.crisp({width:g,height:h})),i.isNew=!1}else a.box=i=c.rect(0,
0,g,h,j.borderRadius,l||0).attr({stroke:j.borderColor,"stroke-width":l||0,fill:m||"none"}).add(d).shadow(j.shadow),i.isNew=!0;i[f?"show":"hide"]()}a.legendWidth=g;a.legendHeight=h;o(e,function(b){a.positionItem(b)});f&&d.align(x({width:g,height:h},j),!0,"spacingBox");b.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b=this,c=this.chart,d=c.renderer,e=this.options,f=e.y,f=c.spacingBox.height+(e.verticalAlign==="top"?-f:f)-this.padding,g=e.maxHeight,h,i=this.clipRect,j=e.navigation,
k=q(j.animation,!0),l=j.arrowSize||12,m=this.nav,n=this.pages,p=this.padding,r,s=this.allItems,S=function(a){i.attr({height:a});if(b.contentGroup.div)b.contentGroup.div.style.clip="rect("+p+"px,9999px,"+(p+a)+"px,0)"};e.layout==="horizontal"&&(f/=2);g&&(f=F(f,g));n.length=0;if(a>f&&j.enabled!==!1){this.clipHeight=h=y(f-20-this.titleHeight-p,0);this.currentPage=q(this.currentPage,1);this.fullHeight=a;o(s,function(a,b){var c=a._legendItemPos[1],d=z(a.legendItem.getBBox().height),e=n.length;if(!e||c-
n[e-1]>h&&(r||c)!==n[e-1])n.push(r||c),e++;b===s.length-1&&c+d-n[e-1]>h&&n.push(c);c!==r&&(r=c)});if(!i)i=b.clipRect=d.clipRect(0,p,9999,0),b.contentGroup.clip(i);S(h);if(!m)this.nav=m=d.g().attr({zIndex:1}).add(this.group),this.up=d.symbol("triangle",0,0,l,l).on("click",function(){b.scroll(-1,k)}).add(m),this.pager=d.text("",15,10).css(j.style).add(m),this.down=d.symbol("triangle-down",0,0,l,l).on("click",function(){b.scroll(1,k)}).add(m);b.scroll(0);a=f}else if(m)S(c.chartHeight),m.hide(),this.scrollGroup.attr({translateY:1}),
this.clipHeight=0;return a},scroll:function(a,b){var c=this.pages,d=c.length,e=this.currentPage+a,f=this.clipHeight,g=this.options.navigation,h=g.activeColor,g=g.inactiveColor,i=this.pager,j=this.padding;e>d&&(e=d);if(e>0)b!==v&&ib(b,this.chart),this.nav.attr({translateX:j,translateY:f+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:e===1?g:h}).css({cursor:e===1?"default":"pointer"}),i.attr({text:e+"/"+d}),this.down.attr({x:18+this.pager.getBBox().width,fill:e===d?g:h}).css({cursor:e===
d?"default":"pointer"}),c=-c[e-1]+this.initialItemY,this.scrollGroup.animate({translateY:c}),this.currentPage=e,this.positionCheckboxes(c)}};ca=B.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.options.symbolHeight||a.fontMetrics.f;b.legendSymbol=this.chart.renderer.rect(0,a.baseline-c+1,a.symbolWidth,c,a.options.symbolRadius||0).attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var b=this.options,c=b.marker,d=a.symbolWidth,e=this.chart.renderer,f=this.legendGroup,a=a.baseline-
z(a.fontMetrics.b*.3),g;if(b.lineWidth){g={"stroke-width":b.lineWidth};if(b.dashStyle)g.dashstyle=b.dashStyle;this.legendLine=e.path([Y,0,a,R,d,a]).attr(g).add(f)}if(c&&c.enabled!==!1)b=c.radius,this.legendSymbol=c=e.symbol(this.symbol,d/2-b,a-b,2*b,2*b,c).add(f),c.isMarker=!0}};(/Trident\/7\.0/.test(Qa)||Ya)&&T(xb.prototype,"positionItem",function(a,b){var c=this,d=function(){b._legendItemPos&&a.call(c,b)};d();setTimeout(d)});var Da=B.Chart=function(){this.getArgs.apply(this,arguments)};B.chart=
function(a,b,c){return new Da(a,b,c)};Da.prototype={callbacks:[],getArgs:function(){var a=[].slice.call(arguments);if(Fa(a[0])||a[0].nodeName)this.renderTo=a.shift();this.init(a[0],a[1])},init:function(a,b){var c,d=a.series;a.series=null;c=C(Q,a);c.series=a.series=d;this.userOptions=a;d=c.chart;this.margin=this.splashArray("margin",d);this.spacing=this.splashArray("spacing",d);var e=d.events;this.bounds={h:{},v:{}};this.callback=b;this.isResizing=0;this.options=c;this.axes=[];this.series=[];this.hasCartesianSeries=
d.showAxes;var f=this,g;f.index=da.length;da.push(f);mb++;d.reflow!==!1&&E(f,"load",function(){f.initReflow()});if(e)for(g in e)E(f,g,e[g]);f.xAxis=[];f.yAxis=[];f.animation=ta?!1:q(d.animation,!0);f.pointCount=f.colorCounter=f.symbolCounter=0;f.firstRender()},initSeries:function(a){var b=this.options.chart;(b=J[a.type||b.type||b.defaultSeriesType])||ia(17,!0);b=new b;b.init(this,a);return b},isInsidePlot:function(a,b,c){var d=c?b:a,a=c?a:b;return d>=0&&d<=this.plotWidth&&a>=0&&a<=this.plotHeight},
redraw:function(a){var b=this.axes,c=this.series,d=this.pointer,e=this.legend,f=this.isDirtyLegend,g,h,i=this.hasCartesianSeries,j=this.isDirtyBox,k=c.length,l=k,m=this.renderer,n=m.isHidden(),p=[];ib(a,this);n&&this.cloneRenderTo();for(this.layOutTitles();l--;)if(a=c[l],a.options.stacking&&(g=!0,a.isDirty)){h=!0;break}if(h)for(l=k;l--;)if(a=c[l],a.options.stacking)a.isDirty=!0;o(c,function(a){a.isDirty&&a.options.legendType==="point"&&(a.updateTotals&&a.updateTotals(),f=!0);a.isDirtyData&&K(a,"updatedData")});
if(f&&e.options.enabled)e.render(),this.isDirtyLegend=!1;g&&this.getStacks();if(i&&!this.isResizing)this.maxTicks=null,o(b,function(a){a.updateNames();a.setScale()});this.getMargins();i&&(o(b,function(a){a.isDirty&&(j=!0)}),o(b,function(a){var b=a.min+","+a.max;if(a.extKey!==b)a.extKey=b,p.push(function(){K(a,"afterSetExtremes",x(a.eventArgs,a.getExtremes()));delete a.eventArgs});(j||g)&&a.redraw()}));j&&this.drawChartBox();o(c,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()});
d&&d.reset(!0);m.draw();K(this,"redraw");n&&this.cloneRenderTo(!0);o(p,function(a){a.call()})},get:function(a){var b=this.axes,c=this.series,d,e;for(d=0;d<b.length;d++)if(b[d].options.id===a)return b[d];for(d=0;d<c.length;d++)if(c[d].options.id===a)return c[d];for(d=0;d<c.length;d++){e=c[d].points||[];for(b=0;b<e.length;b++)if(e[b].id===a)return e[b]}return null},getAxes:function(){var a=this,b=this.options,c=b.xAxis=ra(b.xAxis||{}),b=b.yAxis=ra(b.yAxis||{});o(c,function(a,b){a.index=b;a.isX=!0});
o(b,function(a,b){a.index=b});c=c.concat(b);o(c,function(b){new H(a,b)})},getSelectedPoints:function(){var a=[];o(this.series,function(b){a=a.concat(Ia(b.points||[],function(a){return a.selected}))});return a},getSelectedSeries:function(){return Ia(this.series,function(a){return a.selected})},setTitle:function(a,b,c){var g;var d=this,e=d.options,f;f=e.title=C(e.title,a);g=e.subtitle=C(e.subtitle,b),e=g;o([["title",a,f],["subtitle",b,e]],function(a){var b=a[0],c=d[b],e=a[1],a=a[2];c&&e&&(d[b]=c=c.destroy());
a&&a.text&&!c&&(d[b]=d.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+b,zIndex:a.zIndex||4}).css(a.style).add())});d.layOutTitles(c)},layOutTitles:function(a){var b=0,c=this.title,d=this.subtitle,e=this.options,f=e.title,e=e.subtitle,g=this.renderer,h=this.spacingBox;if(c&&(c.css({width:(f.width||h.width+f.widthAdjust)+"px"}).align(x({y:g.fontMetrics(f.style.fontSize,c).b-3},f),!1,h),!f.floating&&!f.verticalAlign))b=c.getBBox().height;d&&(d.css({width:(e.width||h.width+
e.widthAdjust)+"px"}).align(x({y:b+(f.margin-13)+g.fontMetrics(e.style.fontSize,c).b},e),!1,h),!e.floating&&!e.verticalAlign&&(b=Ha(b+d.getBBox().height)));c=this.titleOffset!==b;this.titleOffset=b;if(!this.isDirtyBox&&c)this.isDirtyBox=c,this.hasRendered&&q(a,!0)&&this.isDirtyBox&&this.redraw()},getChartSize:function(){var a=this.options.chart,b=a.width,a=a.height,c=this.renderToClone||this.renderTo;if(!t(b))this.containerWidth=ya(c,"width");if(!t(a))this.containerHeight=ya(c,"height");this.chartWidth=
y(0,b||this.containerWidth||600);this.chartHeight=y(0,q(a,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;if(a){if(b){for(;b.childNodes.length;)this.renderTo.appendChild(b.firstChild);Wa(b);delete this.renderToClone}}else c&&c.parentNode===this.renderTo&&this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),N(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display",
"block","important"),A.body.appendChild(b),c&&b.appendChild(c)},getContainer:function(){var a,b=this.options,c=b.chart,d,e;a=this.renderTo;var f="highcharts-"+Lb++;if(!a)this.renderTo=a=c.renderTo;if(Fa(a))this.renderTo=a=A.getElementById(a);a||ia(13,!0);d=I(aa(a,"data-highcharts-chart"));D(d)&&da[d]&&da[d].hasRendered&&da[d].destroy();aa(a,"data-highcharts-chart",this.index);a.innerHTML="";!c.skipClone&&!a.offsetWidth&&this.cloneRenderTo();this.getChartSize();d=this.chartWidth;e=this.chartHeight;
this.container=a=ha(Xa,{className:"highcharts-container"+(c.className?" "+c.className:""),id:f},x({position:"relative",overflow:"hidden",width:d+"px",height:e+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},c.style),this.renderToClone||a);this._cursor=a.style.cursor;this.renderer=new (B[c.renderer]||Za)(a,d,e,c.style,c.forExport,b.exporting&&b.exporting.allowHTML);ta&&this.renderer.create(this,a,d,e);this.renderer.chartIndex=this.index},getMargins:function(a){var b=
this.spacing,c=this.margin,d=this.titleOffset;this.resetMargins();if(d&&!t(c[0]))this.plotTop=y(this.plotTop,d+this.options.title.margin+b[0]);this.legend.display&&this.legend.adjustMargins(c,b);this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);a||this.getAxisMargins()},getAxisMargins:function(){var a=this,b=a.axisOffset=[0,0,0,0],c=a.margin;a.hasCartesianSeries&&o(a.axes,function(a){a.visible&&a.getOffset()});o(wb,function(d,
e){t(c[e])||(a[d]+=b[e])});a.setChartSize()},reflow:function(a){var b=this,c=b.options.chart,d=b.renderTo,e=t(c.width),f=c.width||ya(d,"width"),c=c.height||ya(d,"height"),d=a?a.target:L;if(!e&&!b.isPrinting&&f&&c&&(d===L||d===A)){if(f!==b.containerWidth||c!==b.containerHeight)clearTimeout(b.reflowTimeout),b.reflowTimeout=bb(function(){b.container&&b.setSize(void 0,void 0,!1)},a?100:0);b.containerWidth=f;b.containerHeight=c}},initReflow:function(){var a=this,b=function(b){a.reflow(b)};E(L,"resize",
b);E(a,"destroy",function(){V(L,"resize",b)})},setSize:function(a,b,c){var d=this,e=d.renderer;d.isResizing+=1;ib(c,d);d.oldChartHeight=d.chartHeight;d.oldChartWidth=d.chartWidth;if(a!==void 0)d.options.chart.width=a;if(b!==void 0)d.options.chart.height=b;d.getChartSize();a=e.globalAnimation;(a?fb:N)(d.container,{width:d.chartWidth+"px",height:d.chartHeight+"px"},a);d.setChartSize(!0);e.setSize(d.chartWidth,d.chartHeight,c);d.maxTicks=null;o(d.axes,function(a){a.isDirty=!0;a.setScale()});o(d.series,
function(a){a.isDirty=!0});d.isDirtyLegend=!0;d.isDirtyBox=!0;d.layOutTitles();d.getMargins();d.redraw(c);d.oldChartHeight=null;K(d,"resize");bb(function(){d&&K(d,"endResize",null,function(){d.isResizing-=1})},cb(a).duration)},setChartSize:function(a){var b=this.inverted,c=this.renderer,d=this.chartWidth,e=this.chartHeight,f=this.options.chart,g=this.spacing,h=this.clipOffset,i,j,k,l;this.plotLeft=i=z(this.plotLeft);this.plotTop=j=z(this.plotTop);this.plotWidth=k=y(0,z(d-i-this.marginRight));this.plotHeight=
l=y(0,z(e-j-this.marginBottom));this.plotSizeX=b?l:k;this.plotSizeY=b?k:l;this.plotBorderWidth=f.plotBorderWidth||0;this.spacingBox=c.spacingBox={x:g[3],y:g[0],width:d-g[3]-g[1],height:e-g[0]-g[2]};this.plotBox=c.plotBox={x:i,y:j,width:k,height:l};d=2*Z(this.plotBorderWidth/2);b=Ha(y(d,h[3])/2);c=Ha(y(d,h[0])/2);this.clipBox={x:b,y:c,width:Z(this.plotSizeX-y(d,h[1])/2-b),height:y(0,Z(this.plotSizeY-y(d,h[2])/2-c))};a||o(this.axes,function(a){a.setAxisSize();a.setAxisTranslation()})},resetMargins:function(){var a=
this;o(wb,function(b,c){a[b]=q(a.margin[c],a.spacing[c])});a.axisOffset=[0,0,0,0];a.clipOffset=[0,0,0,0]},drawChartBox:function(){var a=this.options.chart,b=this.renderer,c=this.chartWidth,d=this.chartHeight,e=this.chartBackground,f=this.plotBackground,g=this.plotBorder,h=this.plotBGImage,i=a.borderWidth||0,j=a.backgroundColor,k=a.plotBackgroundColor,l=a.plotBackgroundImage,m=a.plotBorderWidth||0,n,p=this.plotLeft,r=this.plotTop,s=this.plotWidth,q=this.plotHeight,o=this.plotBox,w=this.clipRect,G=
this.clipBox;n=i+(a.shadow?8:0);if(i||j)if(e)e.animate(e.crisp({width:c-n,height:d-n}));else{e={fill:j||"none"};if(i)e.stroke=a.borderColor,e["stroke-width"]=i;this.chartBackground=b.rect(n/2,n/2,c-n,d-n,a.borderRadius,i).attr(e).addClass("highcharts-background").add().shadow(a.shadow)}if(k)f?f.animate(o):this.plotBackground=b.rect(p,r,s,q,0).attr({fill:k}).add().shadow(a.plotShadow);if(l)h?h.animate(o):this.plotBGImage=b.image(l,p,r,s,q).add();w?w.animate({width:G.width,height:G.height}):this.clipRect=
b.clipRect(G);if(m)g?(g.strokeWidth=-m,g.animate(g.crisp({x:p,y:r,width:s,height:q}))):this.plotBorder=b.rect(p,r,s,q,0,-m).attr({stroke:a.plotBorderColor,"stroke-width":m,fill:"none",zIndex:1}).add();this.isDirtyBox=!1},propFromSeries:function(){var a=this,b=a.options.chart,c,d=a.options.series,e,f;o(["inverted","angular","polar"],function(g){c=J[b.type||b.defaultSeriesType];f=a[g]||b[g]||c&&c.prototype[g];for(e=d&&d.length;!f&&e--;)(c=J[d[e].type])&&c.prototype[g]&&(f=!0);a[g]=f})},linkSeries:function(){var a=
this,b=a.series;o(b,function(a){a.linkedSeries.length=0});o(b,function(b){var d=b.options.linkedTo;if(Fa(d)&&(d=d===":previous"?a.series[b.index-1]:a.get(d))&&d.linkedParent!==b)d.linkedSeries.push(b),b.linkedParent=d,b.visible=q(b.options.visible,d.options.visible,b.visible)})},renderSeries:function(){o(this.series,function(a){a.translate();a.render()})},renderLabels:function(){var a=this,b=a.options.labels;b.items&&o(b.items,function(c){var d=x(b.style,c.style),e=I(d.left)+a.plotLeft,f=I(d.top)+
a.plotTop+12;delete d.left;delete d.top;a.renderer.text(c.html,e,f).attr({zIndex:2}).css(d).add()})},render:function(){var a=this.axes,b=this.renderer,c=this.options,d,e,f,g;this.setTitle();this.legend=new xb(this,c.legend);this.getStacks&&this.getStacks();this.getMargins(!0);this.setChartSize();d=this.plotWidth;e=this.plotHeight-=21;o(a,function(a){a.setScale()});this.getAxisMargins();f=d/this.plotWidth>1.1;g=e/this.plotHeight>1.05;if(f||g)this.maxTicks=null,o(a,function(a){(a.horiz&&f||!a.horiz&&
g)&&a.setTickInterval(!0)}),this.getMargins();this.drawChartBox();this.hasCartesianSeries&&o(a,function(a){a.visible&&a.render()});if(!this.seriesGroup)this.seriesGroup=b.g("series-group").attr({zIndex:3}).add();this.renderSeries();this.renderLabels();this.showCredits(c.credits);this.hasRendered=!0},showCredits:function(a){if(a.enabled&&!this.credits)this.credits=this.renderer.text(a.text,0,0).on("click",function(){if(a.href)L.location.href=a.href}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position)},
destroy:function(){var a=this,b=a.axes,c=a.series,d=a.container,e,f=d&&d.parentNode;K(a,"destroy");da[a.index]=v;mb--;a.renderTo.removeAttribute("data-highcharts-chart");V(a);for(e=b.length;e--;)b[e]=b[e].destroy();for(e=c.length;e--;)c[e]=c[e].destroy();o("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(b){var c=a[b];c&&c.destroy&&(a[b]=c.destroy())});if(d)d.innerHTML=
"",V(d),f&&Wa(d);for(e in a)delete a[e]},isReadyToRender:function(){var a=this;return!ma&&L==L.top&&A.readyState!=="complete"||ta&&!L.canvg?(ta?Zb.push(function(){a.firstRender()},a.options.global.canvasToolsURL):A.attachEvent("onreadystatechange",function(){A.detachEvent("onreadystatechange",a.firstRender);A.readyState==="complete"&&a.firstRender()}),!1):!0},firstRender:function(){var a=this,b=a.options;if(a.isReadyToRender()){a.getContainer();K(a,"init");a.resetMargins();a.setChartSize();a.propFromSeries();
a.getAxes();o(b.series||[],function(b){a.initSeries(b)});a.linkSeries();K(a,"beforeRender");if(B.Pointer)a.pointer=new ab(a,b);a.render();a.renderer.draw();if(!a.renderer.imgCount&&a.onload)a.onload();a.cloneRenderTo(!0)}},onload:function(){var a=this;o([this.callback].concat(this.callbacks),function(b){b&&a.index!==void 0&&b.apply(a,[a])});K(a,"load");this.onload=null},splashArray:function(a,b){var c=b[a],c=ja(c)?c:[c,c,c,c];return[q(b[a+"Top"],c[0]),q(b[a+"Right"],c[1]),q(b[a+"Bottom"],c[2]),q(b[a+
"Left"],c[3])]}};var ec=B.CenteredSeriesMixin={getCenter:function(){var a=this.options,b=this.chart,c=2*(a.slicedOffset||0),d=b.plotWidth-2*c,b=b.plotHeight-2*c,e=a.center,e=[q(e[0],"50%"),q(e[1],"50%"),a.size||"100%",a.innerSize||0],f=F(d,b),g,h;for(g=0;g<4;++g)h=e[g],a=g<2||g===2&&/%$/.test(h),e[g]=(/%$/.test(h)?[d,b,f,e[2]][g]*parseFloat(h)/100:parseFloat(h))+(a?c:0);e[3]>e[2]&&(e[3]=e[2]);return e}},Ea=function(){};Ea.prototype={init:function(a,b,c){this.series=a;this.color=a.color;this.applyOptions(b,
c);this.pointAttr={};if(a.options.colorByPoint&&(b=a.options.colors||a.chart.options.colors,this.color=this.color||b[a.colorCounter++],a.colorCounter===b.length))a.colorCounter=0;a.chart.pointCount++;return this},applyOptions:function(a,b){var c=this.series,d=c.options.pointValKey||c.pointValKey,a=Ea.prototype.optionsToObject.call(this,a);x(this,a);this.options=this.options?x(this.options,a):a;a.group&&delete this.group;if(d)this.y=this[d];this.isNull=q(this.isValid&&!this.isValid(),this.x===null||
!D(this.y,!0));if("name"in this&&b===void 0&&c.xAxis&&c.xAxis.hasNames)this.x=c.xAxis.nameToX(this);if(this.x===void 0&&c)this.x=b===void 0?c.autoIncrement(this):b;return this},optionsToObject:function(a){var b={},c=this.series,d=c.options.keys,e=d||c.pointArrayMap||["y"],f=e.length,g=0,h=0;if(D(a)||a===null)b[e[0]]=a;else if(La(a)){if(!d&&a.length>f){c=typeof a[0];if(c==="string")b.name=a[0];else if(c==="number")b.x=a[0];g++}for(;h<f;){if(!d||a[g]!==void 0)b[e[h]]=a[g];g++;h++}}else if(typeof a===
"object"){b=a;if(a.dataLabels)c._hasPointLabels=!0;if(a.marker)c._hasPointMarkers=!0}return b},destroy:function(){var a=this.series.chart,b=a.hoverPoints,c;a.pointCount--;if(b&&(this.setState(),Ba(b,this),!b.length))a.hoverPoints=null;if(this===a.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)V(this),this.destroyElements();this.legendItem&&a.legend.destroyItem(this);for(c in this)this[c]=null},destroyElements:function(){for(var a=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],
b,c=6;c--;)b=a[c],this[b]&&(this[b]=this[b].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var b=this.series,c=b.tooltipOptions,d=q(c.valueDecimals,""),e=c.valuePrefix||"",f=c.valueSuffix||"";o(b.pointArrayMap||["y"],function(b){b="{point."+b;if(e||f)a=a.replace(b+"}",e+b+"}"+f);a=a.replace(b+"}",b+":,."+d+"f}")});
return Na(a,{point:this,series:this.series})},firePointEvent:function(a,b,c){var d=this,e=this.series.options;(e.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents();a==="click"&&e.allowPointSelect&&(c=function(a){d.select&&d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)});K(this,a,b,c)},visible:!0};var P=B.Series=function(){};P.prototype={isCartesian:!0,type:"line",pointClass:Ea,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",
fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(a,b){var c=this,d,e,f=a.series,g=function(a,b){return q(a.options.index,a._i)-q(b.options.index,b._i)};c.chart=a;c.options=b=c.setOptions(b);c.linkedSeries=[];c.bindAxes();x(c,{name:b.name,state:"",pointAttr:{},visible:b.visible!==!1,selected:b.selected===!0});if(ta)b.animation=!1;e=b.events;for(d in e)E(c,d,e[d]);if(e&&e.click||b.point&&b.point.events&&b.point.events.click||
b.allowPointSelect)a.runTrackerClick=!0;c.getColor();c.getSymbol();o(c.parallelArrays,function(a){c[a+"Data"]=[]});c.setData(b.data,!1);if(c.isCartesian)a.hasCartesianSeries=!0;f.push(c);c._i=f.length-1;pb(f,g);this.yAxis&&pb(this.yAxis.series,g);o(f,function(a,b){a.index=b;a.name=a.name||"Series "+(b+1)})},bindAxes:function(){var a=this,b=a.options,c=a.chart,d;o(a.axisTypes||[],function(e){o(c[e],function(c){d=c.options;if(b[e]===d.index||b[e]!==v&&b[e]===d.id||b[e]===v&&d.index===0)c.series.push(a),
a[e]=c,c.isDirty=!0});!a[e]&&a.optionalAxis!==e&&ia(18,!0)})},updateParallelArrays:function(a,b){var c=a.series,d=arguments,e=D(b)?function(d){var e=d==="y"&&c.toYData?c.toYData(a):a[d];c[d+"Data"][b]=e}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(d,2))};o(c.parallelArrays,e)},autoIncrement:function(){var a=this.options,b=this.xIncrement,c,d=a.pointIntervalUnit,b=q(b,a.pointStart,0);this.pointInterval=c=q(this.pointInterval,a.pointInterval,1);d&&(a=new ea(b),d==="day"?
a=+a[sb](a[db]()+c):d==="month"?a=+a[Hb](a[jb]()+c):d==="year"&&(a=+a[Ib](a[kb]()+c)),c=a-b);this.xIncrement=b+c;return b},setOptions:function(a){var b=this.chart,c=b.options.plotOptions,b=b.userOptions||{},d=b.plotOptions||{},e=c[this.type];this.userOptions=a;c=C(e,c.series,a);this.tooltipOptions=C(Q.tooltip,Q.plotOptions[this.type].tooltip,b.tooltip,d.series&&d.series.tooltip,d[this.type]&&d[this.type].tooltip,a.tooltip);e.marker===null&&delete c.marker;this.zoneAxis=c.zoneAxis;a=this.zones=(c.zones||
[]).slice();if((c.negativeColor||c.negativeFillColor)&&!c.zones)a.push({value:c[this.zoneAxis+"Threshold"]||c.threshold||0,color:c.negativeColor,fillColor:c.negativeFillColor});a.length&&t(a[a.length-1].value)&&a.push({color:this.color,fillColor:this.fillColor});return c},getCyclic:function(a,b,c){var d=this.userOptions,e="_"+a+"Index",f=a+"Counter";b||(t(d[e])?b=d[e]:(d[e]=b=this.chart[f]%c.length,this.chart[f]+=1),b=c[b]);this[a]=b},getColor:function(){this.options.colorByPoint?this.options.color=
null:this.getCyclic("color",this.options.color||$[this.type].color,this.chart.options.colors)},getSymbol:function(){var a=this.options.marker;this.getCyclic("symbol",a.symbol,this.chart.options.symbols);if(/^url/.test(this.symbol))a.radius=0},drawLegendSymbol:ca.drawLineMarker,setData:function(a,b,c,d){var e=this,f=e.points,g=f&&f.length||0,h,i=e.options,j=e.chart,k=null,l=e.xAxis,m=i.turboThreshold,n=this.xData,p=this.yData,r=(h=e.pointArrayMap)&&h.length,a=a||[];h=a.length;b=q(b,!0);if(d!==!1&&
h&&g===h&&!e.cropped&&!e.hasGroupedData&&e.visible)o(a,function(a,b){f[b].update&&a!==i.data[b]&&f[b].update(a,!1,null,!1)});else{e.xIncrement=null;e.colorCounter=0;o(this.parallelArrays,function(a){e[a+"Data"].length=0});if(m&&h>m){for(c=0;k===null&&c<h;)k=a[c],c++;if(D(k))for(c=0;c<h;c++)n[c]=this.autoIncrement(),p[c]=a[c];else if(La(k))if(r)for(c=0;c<h;c++)k=a[c],n[c]=k[0],p[c]=k.slice(1,r+1);else for(c=0;c<h;c++)k=a[c],n[c]=k[0],p[c]=k[1];else ia(12)}else for(c=0;c<h;c++)a[c]!==v&&(k={series:e},
e.pointClass.prototype.applyOptions.apply(k,[a[c]]),e.updateParallelArrays(k,c));Fa(p[0])&&ia(14,!0);e.data=[];e.options.data=e.userOptions.data=a;for(c=g;c--;)f[c]&&f[c].destroy&&f[c].destroy();if(l)l.minRange=l.userMinRange;e.isDirty=e.isDirtyData=j.isDirtyBox=!0;c=!1}i.legendType==="point"&&(this.processData(),this.generatePoints());b&&j.redraw(c)},processData:function(a){var b=this.xData,c=this.yData,d=b.length,e;e=0;var f,g,h=this.xAxis,i,j=this.options;i=j.cropThreshold;var k=this.getExtremesFromAll||
j.getExtremesFromAll,l=this.isCartesian,j=h&&h.val2lin,m=h&&h.isLog,n,p;if(l&&!this.isDirty&&!h.isDirty&&!this.yAxis.isDirty&&!a)return!1;if(h)a=h.getExtremes(),n=a.min,p=a.max;if(l&&this.sorted&&!k&&(!i||d>i||this.forceCrop))if(b[d-1]<n||b[0]>p)b=[],c=[];else if(b[0]<n||b[d-1]>p)e=this.cropData(this.xData,this.yData,n,p),b=e.xData,c=e.yData,e=e.start,f=!0;for(i=b.length||1;--i;)d=m?j(b[i])-j(b[i-1]):b[i]-b[i-1],d>0&&(g===v||d<g)?g=d:d<0&&this.requireSorting&&ia(15);this.cropped=f;this.cropStart=
e;this.processedXData=b;this.processedYData=c;this.closestPointRange=g},cropData:function(a,b,c,d){var e=a.length,f=0,g=e,h=q(this.cropShoulder,1),i;for(i=0;i<e;i++)if(a[i]>=c){f=y(0,i-h);break}for(c=i;c<e;c++)if(a[c]>d){g=c+h;break}return{xData:a.slice(f,g),yData:b.slice(f,g),start:f,end:g}},generatePoints:function(){var a=this.options.data,b=this.data,c,d=this.processedXData,e=this.processedYData,f=this.pointClass,g=d.length,h=this.cropStart||0,i,j=this.hasGroupedData,k,l=[],m;if(!b&&!j)b=[],b.length=
a.length,b=this.data=b;for(m=0;m<g;m++)i=h+m,j?(l[m]=(new f).init(this,[d[m]].concat(ra(e[m]))),l[m].dataGroup=this.groupMap[m]):(b[i]?k=b[i]:a[i]!==v&&(b[i]=k=(new f).init(this,a[i],d[m])),l[m]=k),l[m].index=i;if(b&&(g!==(c=b.length)||j))for(m=0;m<c;m++)if(m===h&&!j&&(m+=g),b[m])b[m].destroyElements(),b[m].plotX=v;this.data=b;this.points=l},getExtremes:function(a){var b=this.yAxis,c=this.processedXData,d,e=[],f=0;d=this.xAxis.getExtremes();var g=d.min,h=d.max,i,j,k,l,a=a||this.stackedYData||this.processedYData||
[];d=a.length;for(l=0;l<d;l++)if(j=c[l],k=a[l],i=(D(k,!0)||La(k))&&(!b.isLog||k.length||k>0),j=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(c[l+1]||j)>=g&&(c[l-1]||j)<=h,i&&j)if(i=k.length)for(;i--;)k[i]!==null&&(e[f++]=k[i]);else e[f++]=k;this.dataMin=Oa(e);this.dataMax=Ga(e)},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var a=this.options,b=a.stacking,c=this.xAxis,d=c.categories,e=this.yAxis,f=this.points,g=f.length,h=!!this.modifyValue,
i=a.pointPlacement,j=i==="between"||D(i),k=a.threshold,l=a.startFromThreshold?k:0,m,n,p,r,s=Number.MAX_VALUE,a=0;a<g;a++){var o=f[a],u=o.x,w=o.y;n=o.low;var G=b&&e.stacks[(this.negStacks&&w<(l?0:k)?"-":"")+this.stackKey],O;if(e.isLog&&w!==null&&w<=0)o.isNull=!0;o.plotX=m=W(F(y(-1E5,c.translate(u,0,0,0,1,i,this.type==="flags")),1E5));if(b&&this.visible&&!o.isNull&&G&&G[u])r=this.getStackIndicator(r,u,this.index),O=G[u],w=O.points[r.key],n=w[0],w=w[1],n===l&&r.key===G[u].base&&(n=q(k,e.min)),e.isLog&&
n<=0&&(n=null),o.total=o.stackTotal=O.total,o.percentage=O.total&&o.y/O.total*100,o.stackY=w,O.setOffset(this.pointXOffset||0,this.barW||0);o.yBottom=t(n)?e.translate(n,0,1,0,1):null;h&&(w=this.modifyValue(w,o));o.plotY=n=typeof w==="number"&&w!==Infinity?F(y(-1E5,e.translate(w,0,1,0,1)),1E5):v;o.isInside=n!==v&&n>=0&&n<=e.len&&m>=0&&m<=c.len;o.clientX=j?W(c.translate(u,0,0,0,1,i)):m;o.negative=o.y<(k||0);o.category=d&&d[o.x]!==v?d[o.x]:o.x;o.isNull||(p!==void 0&&(s=F(s,U(m-p))),p=m)}this.closestPointRangePx=
s},getValidPoints:function(a,b){var c=this.chart;return Ia(a||this.points||[],function(a){return b&&!c.isInsidePlot(a.plotX,a.plotY,c.inverted)?!1:!a.isNull})},setClip:function(a){var b=this.chart,c=this.options,d=b.renderer,e=b.inverted,f=this.clipBox,g=f||b.clipBox,h=this.sharedClipKey||["_sharedClip",a&&a.duration,a&&a.easing,g.height,c.xAxis,c.yAxis].join(","),i=b[h],j=b[h+"m"];if(!i){if(a)g.width=0,b[h+"m"]=j=d.clipRect(-99,e?-b.plotLeft:-b.plotTop,99,e?b.chartWidth:b.chartHeight);b[h]=i=d.clipRect(g);
i.count={length:0}}a&&!i.count[this.index]&&(i.count[this.index]=!0,i.count.length+=1);if(c.clip!==!1)this.group.clip(a||f?i:b.clipRect),this.markerGroup.clip(j),this.sharedClipKey=h;a||(i.count[this.index]&&(delete i.count[this.index],i.count.length-=1),i.count.length===0&&h&&b[h]&&(f||(b[h]=b[h].destroy()),b[h+"m"]&&(b[h+"m"]=b[h+"m"].destroy())))},animate:function(a){var b=this.chart,c=cb(this.options.animation),d;a?this.setClip(c):(d=this.sharedClipKey,(a=b[d])&&a.animate({width:b.plotSizeX},
c),b[d+"m"]&&b[d+"m"].animate({width:b.plotSizeX+99},c),this.animate=null)},afterAnimate:function(){this.setClip();K(this,"afterAnimate")},drawPoints:function(){var a,b=this.points,c=this.chart,d,e,f,g,h,i,j,k,l=this.options.marker,m=this.pointAttr[""],n,p,r,s=this.markerGroup,o=q(l.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*l.radius);if(l.enabled!==!1||this._hasPointMarkers)for(f=b.length;f--;)if(g=b[f],d=Z(g.plotX),e=g.plotY,k=g.graphic,n=g.marker||{},p=!!g.marker,a=o&&n.enabled===v||
n.enabled,r=g.isInside,a&&D(e)&&g.y!==null)if(a=g.pointAttr[g.selected?"select":""]||m,h=a.r,i=q(n.symbol,this.symbol),j=i.indexOf("url")===0,k)k[r?"show":"hide"](!0).attr(a).animate(x({x:d-h,y:e-h},k.symbolName?{width:2*h,height:2*h}:{}));else{if(r&&(h>0||j))g.graphic=c.renderer.symbol(i,d-h,e-h,2*h,2*h,p?n:l).attr(a).add(s)}else if(k)g.graphic=k.destroy()},convertAttribs:function(a,b,c,d){var e=this.pointAttrToOptions,f,g,h={},a=a||{},b=b||{},c=c||{},d=d||{};for(f in e)g=e[f],h[f]=q(a[g],b[f],c[f],
d[f]);return h},getAttribs:function(){var a=this,b=a.options,c=$[a.type].marker?b.marker:b,d=c.states,e=d.hover,f,g=a.color,h=a.options.negativeColor,i={stroke:g,fill:g},j=a.points||[],k,l=[],m,n=a.pointAttrToOptions;f=a.hasPointSpecificOptions;var p=c.lineColor,r=c.fillColor;k=b.turboThreshold;var s=a.zones,S=a.zoneAxis||"y",u,w;b.marker?(e.radius=+e.radius||+c.radius+ +e.radiusPlus,e.lineWidth=e.lineWidth||c.lineWidth+e.lineWidthPlus):(e.color=e.color||xa(e.color||g).brighten(e.brightness).get(),
e.negativeColor=e.negativeColor||xa(e.negativeColor||h).brighten(e.brightness).get());l[""]=a.convertAttribs(c,i);o(["hover","select"],function(b){l[b]=a.convertAttribs(d[b],l[""])});a.pointAttr=l;g=j.length;if(!k||g<k||f)for(;g--;){k=j[g];if((c=k.options&&k.options.marker||k.options)&&c.enabled===!1)c.radius=0;i=null;if(s.length){f=0;for(i=s[f];k[S]>=i.value;)i=s[++f];k.color=k.fillColor=i=q(i.color,a.color)}f=b.colorByPoint||k.color;if(k.options)for(w in n)t(c[n[w]])&&(f=!0);if(f){c=c||{};m=[];
d=c.states||{};f=d.hover=d.hover||{};if(!b.marker||k.negative&&!f.fillColor&&!e.fillColor)f[a.pointAttrToOptions.fill]=f.color||!k.options.color&&e[k.negative&&h?"negativeColor":"color"]||xa(k.color).brighten(f.brightness||e.brightness).get();u={color:k.color};if(!r)u.fillColor=k.color;if(!p)u.lineColor=k.color;c.hasOwnProperty("color")&&!c.color&&delete c.color;if(i&&!e.fillColor)f.fillColor=i;m[""]=a.convertAttribs(x(u,c),l[""]);m.hover=a.convertAttribs(d.hover,l.hover,m[""]);m.select=a.convertAttribs(d.select,
l.select,m[""])}else m=l;k.pointAttr=m}},destroy:function(){var a=this,b=a.chart,c=/AppleWebKit\/533/.test(Qa),d,e=a.data||[],f,g,h;K(a,"destroy");V(a);o(a.axisTypes||[],function(b){if(h=a[b])Ba(h.series,a),h.isDirty=h.forceRedraw=!0});a.legendItem&&a.chart.legend.destroyItem(a);for(d=e.length;d--;)(f=e[d])&&f.destroy&&f.destroy();a.points=null;clearTimeout(a.animationTimeout);for(g in a)a[g]instanceof X&&!a[g].survive&&(d=c&&g==="group"?"hide":"destroy",a[g][d]());if(b.hoverSeries===a)b.hoverSeries=
null;Ba(b.series,a);for(g in a)delete a[g]},getGraphPath:function(a,b,c){var d=this,e=d.options,f=e.step,g,h=[],i=[],j,a=a||d.points;(g=a.reversed)&&a.reverse();(f={right:1,center:2}[f]||f&&3)&&g&&(f=4-f);e.connectNulls&&!b&&!c&&(a=this.getValidPoints(a));o(a,function(g,l){var m=g.plotX,n=g.plotY,p=a[l-1];if((g.leftCliff||p&&p.rightCliff)&&!c)j=!0;g.isNull&&!t(b)&&l>0?j=!e.connectNulls:g.isNull&&!b?j=!0:(l===0||j?p=[Y,g.plotX,g.plotY]:d.getPointSpline?p=d.getPointSpline(a,g,l):f?(p=f===1?[R,p.plotX,
n]:f===2?[R,(p.plotX+m)/2,p.plotY,R,(p.plotX+m)/2,n]:[R,m,p.plotY],p.push(R,m,n)):p=[R,m,n],i.push(g.x),f&&i.push(g.x),h.push.apply(h,p),j=!1)});h.xMap=i;return d.graphPath=h},drawGraph:function(){var a=this,b=this.options,c=[["graph",b.lineColor||this.color,b.dashStyle]],d=b.lineWidth,e=b.linecap!=="square",f=(this.gappedPath||this.getGraphPath).call(this);o(this.zones,function(d,e){c.push(["zoneGraph"+e,d.color||a.color,d.dashStyle||b.dashStyle])});o(c,function(c,h){var i=c[0],j=a[i];if(j)j.endX=
f.xMap,j.animate({d:f});else if(d&&f.length)j={stroke:c[1],"stroke-width":d,fill:"none",zIndex:1},c[2]?j.dashstyle=c[2]:e&&(j["stroke-linecap"]=j["stroke-linejoin"]="round"),j=a[i]=a.chart.renderer.path(f).attr(j).add(a.group).shadow(h<2&&b.shadow);if(j)j.startX=f.xMap,j.isArea=f.isArea})},applyZones:function(){var a=this,b=this.chart,c=b.renderer,d=this.zones,e,f,g=this.clips||[],h,i=this.graph,j=this.area,k=y(b.chartWidth,b.chartHeight),l=this[(this.zoneAxis||"y")+"Axis"],m,n,p=b.inverted,r,s,S,
u,w=!1;if(d.length&&(i||j)&&l&&l.min!==v)n=l.reversed,r=l.horiz,i&&i.hide(),j&&j.hide(),m=l.getExtremes(),o(d,function(d,o){e=n?r?b.plotWidth:0:r?0:l.toPixels(m.min);e=F(y(q(f,e),0),k);f=F(y(z(l.toPixels(q(d.value,m.max),!0)),0),k);w&&(e=f=l.toPixels(m.max));s=Math.abs(e-f);S=F(e,f);u=y(e,f);if(l.isXAxis){if(h={x:p?u:S,y:0,width:s,height:k},!r)h.x=b.plotHeight-h.x}else if(h={x:0,y:p?u:S,width:k,height:s},r)h.y=b.plotWidth-h.y;p&&c.isVML&&(h=l.isXAxis?{x:0,y:n?S:u,height:h.width,width:b.chartWidth}:
{x:h.y-b.plotLeft-b.spacingBox.x,y:0,width:h.height,height:b.chartHeight});g[o]?g[o].animate(h):(g[o]=c.clipRect(h),i&&a["zoneGraph"+o].clip(g[o]),j&&a["zoneArea"+o].clip(g[o]));w=d.value>m.max}),this.clips=g},invertGroups:function(){function a(){var a={width:b.yAxis.len,height:b.xAxis.len};o(["group","markerGroup"],function(c){b[c]&&b[c].attr(a).invert()})}var b=this,c=b.chart;if(b.xAxis)E(c,"resize",a),E(b,"destroy",function(){V(c,"resize",a)}),a(),b.invertGroups=a},plotGroup:function(a,b,c,d,e){var f=
this[a],g=!f;g&&(this[a]=f=this.chart.renderer.g(b).attr({zIndex:d||.1}).add(e),f.addClass("highcharts-series-"+this.index));f.attr({visibility:c})[g?"attr":"animate"](this.getPlotBox());return f},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;if(a.inverted)b=c,c=this.xAxis;return{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a=this,b=a.chart,c,d=a.options,e=!!a.animate&&b.renderer.isSVG&&cb(d.animation).duration,f=a.visible?
"inherit":"hidden",g=d.zIndex,h=a.hasRendered,i=b.seriesGroup;c=a.plotGroup("group","series",f,g,i);a.markerGroup=a.plotGroup("markerGroup","markers",f,g,i);e&&a.animate(!0);a.getAttribs();c.inverted=a.isCartesian?b.inverted:!1;a.drawGraph&&(a.drawGraph(),a.applyZones());o(a.points,function(a){a.redraw&&a.redraw()});a.drawDataLabels&&a.drawDataLabels();a.visible&&a.drawPoints();a.drawTracker&&a.options.enableMouseTracking!==!1&&a.drawTracker();b.inverted&&a.invertGroups();d.clip!==!1&&!a.sharedClipKey&&
!h&&c.clip(b.clipRect);e&&a.animate();if(!h)a.animationTimeout=bb(function(){a.afterAnimate()},e);a.isDirty=a.isDirtyData=!1;a.hasRendered=!0},redraw:function(){var a=this.chart,b=this.isDirty||this.isDirtyData,c=this.group,d=this.xAxis,e=this.yAxis;c&&(a.inverted&&c.attr({width:a.plotWidth,height:a.plotHeight}),c.animate({translateX:q(d&&d.left,a.plotLeft),translateY:q(e&&e.top,a.plotTop)}));this.translate();this.render();b&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(a,
b){var c=this.xAxis,d=this.yAxis,e=this.chart.inverted;return this.searchKDTree({clientX:e?c.len-a.chartY+c.pos:a.chartX-c.pos,plotY:e?d.len-a.chartX+d.pos:a.chartY-d.pos},b)},buildKDTree:function(){function a(c,e,f){var g,h;if(h=c&&c.length)return g=b.kdAxisArray[e%f],c.sort(function(a,b){return a[g]-b[g]}),h=Math.floor(h/2),{point:c[h],left:a(c.slice(0,h),e+1,f),right:a(c.slice(h+1),e+1,f)}}var b=this,c=b.kdDimensions;delete b.kdTree;bb(function(){b.kdTree=a(b.getValidPoints(null,!b.directTouch),
c,c)},b.options.kdNow?0:1)},searchKDTree:function(a,b){function c(a,b,j,k){var l=b.point,m=d.kdAxisArray[j%k],n,p,r=l;p=t(a[e])&&t(l[e])?Math.pow(a[e]-l[e],2):null;n=t(a[f])&&t(l[f])?Math.pow(a[f]-l[f],2):null;n=(p||0)+(n||0);l.dist=t(n)?Math.sqrt(n):Number.MAX_VALUE;l.distX=t(p)?Math.sqrt(p):Number.MAX_VALUE;m=a[m]-l[m];n=m<0?"left":"right";p=m<0?"right":"left";b[n]&&(n=c(a,b[n],j+1,k),r=n[g]<r[g]?n:l);b[p]&&Math.sqrt(m*m)<r[g]&&(a=c(a,b[p],j+1,k),r=a[g]<r[g]?a:r);return r}var d=this,e=this.kdAxisArray[0],
f=this.kdAxisArray[1],g=b?"distX":"dist";this.kdTree||this.buildKDTree();if(this.kdTree)return c(a,this.kdTree,this.kdDimensions,this.kdDimensions)}};Vb.prototype={destroy:function(){Pa(this,this.axis)},render:function(a){var b=this.options,c=b.format,c=c?Na(c,this):b.formatter.call(this);this.label?this.label.attr({text:c,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(c,null,null,b.useHTML).css(b.style).attr({align:this.textAlign,rotation:b.rotation,visibility:"hidden"}).add(a)},
setOffset:function(a,b){var c=this.axis,d=c.chart,e=d.inverted,f=c.reversed,f=this.isNegative&&!f||!this.isNegative&&f,g=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),c=U(g-c),h=d.xAxis[0].translate(this.x)+a,i=d.plotHeight,f={x:e?f?g:g-c:h,y:e?i-h-b:f?i-g-c:i-g,width:e?c:b,height:e?b:c};if(e=this.label)e.align(this.alignOptions,null,f),f=e.alignAttr,e[this.options.crop===!1||d.isInsidePlot(f.x,f.y)?"show":"hide"](!0)}};Da.prototype.getStacks=function(){var a=this;o(a.yAxis,
function(a){if(a.stacks&&a.hasVisibleSeries)a.oldStacks=a.stacks});o(a.series,function(b){if(b.options.stacking&&(b.visible===!0||a.options.chart.ignoreHiddenSeries===!1))b.stackKey=b.type+q(b.options.stack,"")})};H.prototype.buildStacks=function(){var a=this.series,b,c=q(this.options.reversedStacks,!0),d=a.length,e;if(!this.isXAxis){this.usePercentage=!1;for(e=d;e--;)a[c?e:d-e-1].setStackedPoints();for(e=d;e--;)b=a[c?e:d-e-1],b.setStackCliffs&&b.setStackCliffs();if(this.usePercentage)for(e=0;e<d;e++)a[e].setPercentStacks()}};
H.prototype.renderStackTotals=function(){var a=this.chart,b=a.renderer,c=this.stacks,d,e,f=this.stackTotalGroup;if(!f)this.stackTotalGroup=f=b.g("stack-labels").attr({visibility:"visible",zIndex:6}).add();f.translate(a.plotLeft,a.plotTop);for(d in c)for(e in a=c[d],a)a[e].render(f)};H.prototype.resetStacks=function(){var a=this.stacks,b,c;if(!this.isXAxis)for(b in a)for(c in a[b])a[b][c].touched<this.stacksTouched?(a[b][c].destroy(),delete a[b][c]):(a[b][c].total=null,a[b][c].cum=0)};H.prototype.cleanStacks=
function(){var a,b,c;if(!this.isXAxis){if(this.oldStacks)a=this.stacks=this.oldStacks;for(b in a)for(c in a[b])a[b][c].cum=a[b][c].total}};P.prototype.setStackedPoints=function(){if(this.options.stacking&&!(this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){var a=this.processedXData,b=this.processedYData,c=[],d=b.length,e=this.options,f=e.threshold,g=e.startFromThreshold?f:0,h=e.stack,e=e.stacking,i=this.stackKey,j="-"+i,k=this.negStacks,l=this.yAxis,m=l.stacks,n=l.oldStacks,p,
r,s,o,u,w,G;l.stacksTouched+=1;for(u=0;u<d;u++){w=a[u];G=b[u];p=this.getStackIndicator(p,w,this.index);o=p.key;s=(r=k&&G<(g?0:f))?j:i;m[s]||(m[s]={});if(!m[s][w])n[s]&&n[s][w]?(m[s][w]=n[s][w],m[s][w].total=null):m[s][w]=new Vb(l,l.options.stackLabels,r,w,h);s=m[s][w];if(G!==null){s.points[o]=s.points[this.index]=[q(s.cum,g)];if(!t(s.cum))s.base=o;s.touched=l.stacksTouched;p.index>0&&this.singleStacks===!1&&(s.points[o][0]=s.points[this.index+","+w+",0"][0])}e==="percent"?(r=r?i:j,k&&m[r]&&m[r][w]?
(r=m[r][w],s.total=r.total=y(r.total,s.total)+U(G)||0):s.total=W(s.total+(U(G)||0))):s.total=W(s.total+(G||0));s.cum=q(s.cum,g)+(G||0);if(G!==null)s.points[o].push(s.cum),c[u]=s.cum}if(e==="percent")l.usePercentage=!0;this.stackedYData=c;l.oldStacks={}}};P.prototype.setPercentStacks=function(){var a=this,b=a.stackKey,c=a.yAxis.stacks,d=a.processedXData,e;o([b,"-"+b],function(b){var f;for(var g=d.length,h,i;g--;)if(h=d[g],e=a.getStackIndicator(e,h,a.index),f=(i=c[b]&&c[b][h])&&i.points[e.key],h=f)i=
i.total?100/i.total:0,h[0]=W(h[0]*i),h[1]=W(h[1]*i),a.stackedYData[g]=h[1]})};P.prototype.getStackIndicator=function(a,b,c){!t(a)||a.x!==b?a={x:b,index:0}:a.index++;a.key=[c,b,a.index].join(",");return a};x(Da.prototype,{addSeries:function(a,b,c){var d,e=this;a&&(b=q(b,!0),K(e,"addSeries",{options:a},function(){d=e.initSeries(a);e.isDirtyLegend=!0;e.linkSeries();b&&e.redraw(c)}));return d},addAxis:function(a,b,c,d){var e=b?"xAxis":"yAxis",f=this.options,a=C(a,{index:this[e].length,isX:b});new H(this,
a);f[e]=ra(f[e]||{});f[e].push(a);q(c,!0)&&this.redraw(d)},showLoading:function(a){var b=this,c=b.options,d=b.loadingDiv,e=c.loading,f=function(){d&&N(d,{left:b.plotLeft+"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"})};if(!d)b.loadingDiv=d=ha(Xa,{className:"highcharts-loading"},x(e.style,{zIndex:10,display:"none"}),b.container),b.loadingSpan=ha("span",null,e.labelStyle,d),E(b,"redraw",f);b.loadingSpan.innerHTML=a||c.lang.loading;if(!b.loadingShown)N(d,{opacity:0,display:""}),
fb(d,{opacity:e.style.opacity},{duration:e.showDuration||0}),b.loadingShown=!0;f()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&fb(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){N(b,{display:"none"})}});this.loadingShown=!1}});x(Ea.prototype,{update:function(a,b,c,d){function e(){f.applyOptions(a);if(f.y===null&&h)f.graphic=h.destroy();if(ja(a,!0))f.redraw=function(){if(h&&h.element&&a&&a.marker&&a.marker.symbol)f.graphic=h.destroy();if(a&&a.dataLabels&&
f.dataLabel)f.dataLabel=f.dataLabel.destroy();f.redraw=null};i=f.index;g.updateParallelArrays(f,i);k.data[i]=ja(k.data[i],!0)?f.options:a;g.isDirty=g.isDirtyData=!0;if(!g.fixedBox&&g.hasCartesianSeries)j.isDirtyBox=!0;if(k.legendType==="point")j.isDirtyLegend=!0;b&&j.redraw(c)}var f=this,g=f.series,h=f.graphic,i,j=g.chart,k=g.options,b=q(b,!0);d===!1?e():f.firePointEvent("update",{options:a},e)},remove:function(a,b){this.series.removePoint(oa(this,this.series.data),a,b)}});x(P.prototype,{addPoint:function(a,
b,c,d){var e=this.options,f=this.data,g=this.chart,h=this.xAxis&&this.xAxis.names,i=e.data,j,k,l=this.xData,m,n,b=q(b,!0);j={series:this};this.pointClass.prototype.applyOptions.apply(j,[a]);n=j.x;m=l.length;if(this.requireSorting&&n<l[m-1])for(k=!0;m&&l[m-1]>n;)m--;this.updateParallelArrays(j,"splice",m,0,0);this.updateParallelArrays(j,m);if(h&&j.name)h[n]=j.name;i.splice(m,0,a);k&&(this.data.splice(m,0,null),this.processData());e.legendType==="point"&&this.generatePoints();c&&(f[0]&&f[0].remove?
f[0].remove(!1):(f.shift(),this.updateParallelArrays(j,"shift"),i.shift()));this.isDirtyData=this.isDirty=!0;b&&(this.getAttribs(),g.redraw(d))},removePoint:function(a,b,c){var d=this,e=d.data,f=e[a],g=d.points,h=d.chart,i=function(){g&&g.length===e.length&&g.splice(a,1);e.splice(a,1);d.options.data.splice(a,1);d.updateParallelArrays(f||{series:d},"splice",a,1);f&&f.destroy();d.isDirty=!0;d.isDirtyData=!0;b&&h.redraw()};ib(c,h);b=q(b,!0);f?f.firePointEvent("remove",null,i):i()},remove:function(a,
b,c){function d(){e.destroy();f.isDirtyLegend=f.isDirtyBox=!0;f.linkSeries();q(a,!0)&&f.redraw(b)}var e=this,f=e.chart;c!==!1?K(e,"remove",null,d):d()},update:function(a,b){var c=this,d=this.chart,e=this.userOptions,f=this.type,g=J[f].prototype,h=["group","markerGroup","dataLabelsGroup"],i;if(a.type&&a.type!==f||a.zIndex!==void 0)h.length=0;o(h,function(a){h[a]=c[a];delete c[a]});a=C(e,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},a);this.remove(!1,null,!1);for(i in g)this[i]=
v;x(this,J[a.type||f].prototype);o(h,function(a){c[a]=h[a]});this.init(d,a);d.linkSeries();q(b,!0)&&d.redraw(!1)}});x(H.prototype,{update:function(a,b){var c=this.chart,a=c.options[this.coll][this.options.index]=C(this.userOptions,a);this.destroy(!0);this.init(c,x(a,{events:v}));c.isDirtyBox=!0;q(b,!0)&&c.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,d=this.series,e=d.length;e--;)d[e]&&d[e].remove(!1);Ba(b.axes,this);Ba(b[c],this);b.options[c].splice(this.options.index,1);o(b[c],function(a,
b){a.options.index=b});this.destroy();b.isDirtyBox=!0;q(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}});var Ka=pa(P);J.line=Ka;$.area=C(ga,{softThreshold:!1,threshold:0});var Aa=pa(P,{type:"area",singleStacks:!1,getStackPoints:function(){var a=[],b=[],c=this.xAxis,d=this.yAxis,e=d.stacks[this.stackKey],f={},g=this.points,h=this.index,i=d.series,j=i.length,k,l=q(d.options.reversedStacks,!0)?1:-1,m,n;if(this.options.stacking){for(m=
0;m<g.length;m++)f[g[m].x]=g[m];for(n in e)e[n].total!==null&&b.push(n);b.sort(function(a,b){return a-b});k=va(i,function(){return this.visible});o(b,function(g,i){var n=0,q,u;if(f[g]&&!f[g].isNull)a.push(f[g]),o([-1,1],function(a){var c=a===1?"rightNull":"leftNull",d=0,n=e[b[i+a]];if(n)for(m=h;m>=0&&m<j;)q=n.points[m],q||(m===h?f[g][c]=!0:k[m]&&(u=e[g].points[m])&&(d-=u[1]-u[0])),m+=l;f[g][a===1?"rightCliff":"leftCliff"]=d});else{for(m=h;m>=0&&m<j;){if(q=e[g].points[m]){n=q[1];break}m+=l}n=d.toPixels(n,
!0);a.push({isNull:!0,plotX:c.toPixels(g,!0),plotY:n,yBottom:n})}})}return a},getGraphPath:function(a){var b=P.prototype.getGraphPath,c=this.options,d=c.stacking,e=this.yAxis,f,g,h=[],i=[],j=this.index,k,l=e.stacks[this.stackKey],m=c.threshold,n=e.getThreshold(c.threshold),p,c=c.connectNulls||d==="percent",r=function(b,c,f){var g=a[b],b=d&&l[g.x].points[j],p=g[f+"Null"]||0,f=g[f+"Cliff"]||0,r,o,g=!0;f||p?(r=(p?b[0]:b[1])+f,o=b[0]+f,g=!!p):!d&&a[c]&&a[c].isNull&&(r=o=m);r!==void 0&&(i.push({plotX:k,
plotY:r===null?n:e.getThreshold(r),isNull:g}),h.push({plotX:k,plotY:o===null?n:e.getThreshold(o),doCurve:!1}))},a=a||this.points;d&&(a=this.getStackPoints());for(f=0;f<a.length;f++)if(g=a[f].isNull,k=q(a[f].rectPlotX,a[f].plotX),p=q(a[f].yBottom,n),!g||c){c||r(f,f-1,"left");if(!g||d||!c)i.push(a[f]),h.push({x:f,plotX:k,plotY:p});c||r(f,f+1,"right")}f=b.call(this,i,!0,!0);h.reversed=!0;g=b.call(this,h,!0,!0);g.length&&(g[0]=R);g=f.concat(g);b=b.call(this,i,!1,c);g.xMap=f.xMap;this.areaPath=g;return b},
drawGraph:function(){this.areaPath=[];P.prototype.drawGraph.apply(this);var a=this,b=this.areaPath,c=this.options,d=[["area",this.color,c.fillColor]];o(this.zones,function(b,f){d.push(["zoneArea"+f,b.color||a.color,b.fillColor||c.fillColor])});o(d,function(d){var f=d[0],g=a[f];g?(g.endX=b.xMap,g.animate({d:b})):(g={fill:d[2]||d[1],zIndex:0},d[2]||(g["fill-opacity"]=q(c.fillOpacity,.75)),g=a[f]=a.chart.renderer.path(b).attr(g).add(a.group),g.isArea=!0);g.startX=b.xMap;g.shiftUnit=c.step?2:1})},drawLegendSymbol:ca.drawRectangle});
J.area=Aa;$.spline=C(ga);Ka=pa(P,{type:"spline",getPointSpline:function(a,b,c){var d=b.plotX,e=b.plotY,f=a[c-1],c=a[c+1],g,h,i,j;if(f&&!f.isNull&&f.doCurve!==!1&&c&&!c.isNull&&c.doCurve!==!1){a=f.plotY;i=c.plotX;var c=c.plotY,k=0;g=(1.5*d+f.plotX)/2.5;h=(1.5*e+a)/2.5;i=(1.5*d+i)/2.5;j=(1.5*e+c)/2.5;i!==g&&(k=(j-h)*(i-d)/(i-g)+e-j);h+=k;j+=k;h>a&&h>e?(h=y(a,e),j=2*e-h):h<a&&h<e&&(h=F(a,e),j=2*e-h);j>c&&j>e?(j=y(c,e),h=2*e-j):j<c&&j<e&&(j=F(c,e),h=2*e-j);b.rightContX=i;b.rightContY=j}b=["C",q(f.rightContX,
f.plotX),q(f.rightContY,f.plotY),q(g,d),q(h,e),d,e];f.rightContX=f.rightContY=null;return b}});J.spline=Ka;$.areaspline=C($.area);Aa=Aa.prototype;Ka=pa(Ka,{type:"areaspline",getStackPoints:Aa.getStackPoints,getGraphPath:Aa.getGraphPath,setStackCliffs:Aa.setStackCliffs,drawGraph:Aa.drawGraph,drawLegendSymbol:ca.drawRectangle});J.areaspline=Ka;$.column=C(ga,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,
shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0});Ka=pa(P,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){P.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&o(b.series,
function(b){if(b.type===a.type)b.isDirty=!0})},getColumnMetrics:function(){var a=this,b=a.options,c=a.xAxis,d=a.yAxis,e=c.reversed,f,g={},h=0;b.grouping===!1?h=1:o(a.chart.series,function(b){var c=b.options,e=b.yAxis,i;if(b.type===a.type&&b.visible&&d.len===e.len&&d.pos===e.pos)c.stacking?(f=b.stackKey,g[f]===v&&(g[f]=h++),i=g[f]):c.grouping!==!1&&(i=h++),b.columnIndex=i});var i=F(U(c.transA)*(c.ordinalSlope||b.pointRange||c.closestPointRange||c.tickInterval||1),c.len),j=i*b.groupPadding,k=(i-2*j)/
h,b=F(b.maxPointWidth||c.len,q(b.pointWidth,k*(1-2*b.pointPadding)));a.columnMetrics={width:b,offset:(k-b)/2+(j+((a.columnIndex||0)+(e?1:0))*k-i/2)*(e?-1:1)};return a.columnMetrics},crispCol:function(a,b,c,d){var e=this.chart,f=this.borderWidth,g=-(f%2?.5:0),f=f%2?.5:1;e.inverted&&e.renderer.isVML&&(f+=1);c=Math.round(a+c)+g;a=Math.round(a)+g;c-=a;d=Math.round(b+d)+f;g=U(b)<=.5&&d>.5;b=Math.round(b)+f;d-=b;g&&d&&(b-=1,d+=1);return{x:a,y:b,width:c,height:d}},translate:function(){var a=this,b=a.chart,
c=a.options,d=a.borderWidth=q(c.borderWidth,a.closestPointRange*a.xAxis.transA<2?0:1),e=a.yAxis,f=a.translatedThreshold=e.getThreshold(c.threshold),g=q(c.minPointLength,5),h=a.getColumnMetrics(),i=h.width,j=a.barW=y(i,1+2*d),k=a.pointXOffset=h.offset;b.inverted&&(f-=.5);c.pointPadding&&(j=Ha(j));P.prototype.translate.apply(a);o(a.points,function(c){var d=F(q(c.yBottom,f),9E4),h=999+U(d),h=F(y(-h,c.plotY),e.len+h),p=c.plotX+k,r=j,s=F(h,d),o,u=y(h,d)-s;U(u)<g&&g&&(u=g,o=!e.reversed&&!c.negative||e.reversed&&
c.negative,s=U(s-f)>g?d-g:f-(o?g:0));c.barX=p;c.pointWidth=i;c.tooltipPos=b.inverted?[e.len+e.pos-b.plotLeft-h,a.xAxis.len-p-r/2,u]:[p+r/2,h+e.pos-b.plotTop,u];c.shapeType="rect";c.shapeArgs=a.crispCol.apply(a,c.isNull?[c.plotX,e.len/2,0,0]:[p,s,r,u])})},getSymbol:ua,drawLegendSymbol:ca.drawRectangle,drawGraph:ua,drawPoints:function(){var a=this,b=this.chart,c=a.options,d=b.renderer,e=c.animationLimit||250,f,g;o(a.points,function(h){var i=h.graphic,j;if(D(h.plotY)&&h.y!==null)f=h.shapeArgs,j=t(a.borderWidth)?
{"stroke-width":a.borderWidth}:{},g=h.pointAttr[h.selected?"select":""]||a.pointAttr[""],i?(Ra(i),i.attr(j).attr(g)[b.pointCount<e?"animate":"attr"](C(f))):h.graphic=d[h.shapeType](f).attr(j).attr(g).add(h.group||a.group).shadow(c.shadow,null,c.stacking&&!c.borderRadius);else if(i)h.graphic=i.destroy()})},animate:function(a){var b=this,c=this.yAxis,d=b.options,e=this.chart.inverted,f={};if(ma)a?(f.scaleY=.001,a=F(c.pos+c.len,y(c.pos,c.toPixels(d.threshold))),e?f.translateX=a-c.len:f.translateY=a,
b.group.attr(f)):(f[e?"translateX":"translateY"]=c.pos,b.group.animate(f,x(cb(b.options.animation),{step:function(a,c){b.group.attr({scaleY:y(.001,c.pos)})}})),b.animate=null)},remove:function(){var a=this,b=a.chart;b.hasRendered&&o(b.series,function(b){if(b.type===a.type)b.isDirty=!0});P.prototype.remove.apply(a,arguments)}});J.column=Ka;$.bar=C($.column);Aa=pa(Ka,{type:"bar",inverted:!0});J.bar=Aa;$.scatter=C(ga,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px;"> {series.name}</span><br/>',
pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});Aa=pa(P,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&P.prototype.drawGraph.call(this)}});J.scatter=Aa;$.pie=C(ga,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.y===null?void 0:this.point.name},
x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});ga={type:"pie",isCartesian:!1,pointClass:pa(Ea,{init:function(){Ea.prototype.init.apply(this,arguments);var a=this,b;a.name=q(a.name,"Slice");b=function(b){a.slice(b.type==="select")};E(a,"select",b);E(a,"unselect",b);return a},setVisible:function(a,b){var c=this,d=c.series,e=d.chart,f=d.options.ignoreHiddenPoint,
b=q(b,f);if(a!==c.visible){c.visible=c.options.visible=a=a===v?!c.visible:a;d.options.data[oa(c,d.data)]=c.options;o(["graphic","dataLabel","connector","shadowGroup"],function(b){if(c[b])c[b][a?"show":"hide"](!0)});c.legendItem&&e.legend.colorizeItem(c,a);!a&&c.state==="hover"&&c.setState("");if(f)d.isDirty=!0;b&&e.redraw()}},slice:function(a,b,c){var d=this.series;ib(c,d.chart);q(b,!0);this.sliced=this.options.sliced=a=t(a)?a:!this.sliced;d.options.data[oa(this,d.data)]=this.options;a=a?this.slicedTranslation:
{translateX:0,translateY:0};this.graphic.animate(a);this.shadowGroup&&this.shadowGroup.animate(a)},haloPath:function(a){var b=this.shapeArgs,c=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.plotLeft+b.x,c.plotTop+b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",
fill:"color"},animate:function(a){var b=this,c=b.points,d=b.startAngleRad;if(!a)o(c,function(a){var c=a.graphic,g=a.shapeArgs;c&&(c.attr({r:a.startR||b.center[3]/2,start:d,end:d}),c.animate({r:g.r,start:g.start,end:g.end},b.options.animation))}),b.animate=null},updateTotals:function(){var a,b=0,c=this.points,d=c.length,e,f=this.options.ignoreHiddenPoint;for(a=0;a<d;a++){e=c[a];if(e.y<0)e.y=null;b+=f&&!e.visible?0:e.y}this.total=b;for(a=0;a<d;a++)e=c[a],e.percentage=b>0&&(e.visible||!f)?e.y/b*100:
0,e.total=b},generatePoints:function(){P.prototype.generatePoints.call(this);this.updateTotals()},translate:function(a){this.generatePoints();var b=0,c=this.options,d=c.slicedOffset,e=d+c.borderWidth,f,g,h,i=c.startAngle||0,j=this.startAngleRad=Ca/180*(i-90),i=(this.endAngleRad=Ca/180*(q(c.endAngle,i+360)-90))-j,k=this.points,l=c.dataLabels.distance,c=c.ignoreHiddenPoint,m,n=k.length,p;if(!a)this.center=a=this.getCenter();this.getX=function(b,c){h=ba.asin(F((b-a[1])/(a[2]/2+l),1));return a[0]+(c?
-1:1)*fa(h)*(a[2]/2+l)};for(m=0;m<n;m++){p=k[m];f=j+b*i;if(!c||p.visible)b+=p.percentage/100;g=j+b*i;p.shapeType="arc";p.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:z(f*1E3)/1E3,end:z(g*1E3)/1E3};h=(g+f)/2;h>1.5*Ca?h-=2*Ca:h<-Ca/2&&(h+=2*Ca);p.slicedTranslation={translateX:z(fa(h)*d),translateY:z(na(h)*d)};f=fa(h)*a[2]/2;g=na(h)*a[2]/2;p.tooltipPos=[a[0]+f*.7,a[1]+g*.7];p.half=h<-Ca/2||h>Ca/2?1:0;p.angle=h;e=F(e,l/2);p.labelPos=[a[0]+f+fa(h)*l,a[1]+g+na(h)*l,a[0]+f+fa(h)*e,a[1]+g+na(h)*
e,a[0]+f,a[1]+g,l<0?"center":p.half?"right":"left",h]}},drawGraph:null,drawPoints:function(){var a=this,b=a.chart.renderer,c,d,e=a.options.shadow,f,g,h,i;if(e&&!a.shadowGroup)a.shadowGroup=b.g("shadow").add(a.group);o(a.points,function(j){if(j.y!==null){d=j.graphic;h=j.shapeArgs;f=j.shadowGroup;g=j.pointAttr[j.selected?"select":""];if(!g.stroke)g.stroke=g.fill;if(e&&!f)f=j.shadowGroup=b.g("shadow").add(a.shadowGroup);c=j.sliced?j.slicedTranslation:{translateX:0,translateY:0};f&&f.attr(c);if(d)d.setRadialReference(a.center).attr(g).animate(x(h,
c));else{i={"stroke-linejoin":"round"};if(!j.visible)i.visibility="hidden";j.graphic=d=b[j.shapeType](h).setRadialReference(a.center).attr(g).attr(i).attr(c).add(a.group).shadow(e,f)}}})},searchPoint:ua,sortByAngle:function(a,b){a.sort(function(a,d){return a.angle!==void 0&&(d.angle-a.angle)*b})},drawLegendSymbol:ca.drawRectangle,getCenter:ec.getCenter,getSymbol:ua};ga=pa(P,ga);J.pie=ga;P.prototype.drawDataLabels=function(){var a=this,b=a.options,c=b.cursor,d=b.dataLabels,e=a.points,f,g,h=a.hasRendered||
0,i,j,k=q(d.defer,!0),l=a.chart.renderer;if(d.enabled||a._hasPointLabels)a.dlProcessOptions&&a.dlProcessOptions(d),j=a.plotGroup("dataLabelsGroup","data-labels",k&&!h?"hidden":"visible",d.zIndex||6),k&&(j.attr({opacity:+h}),h||E(a,"afterAnimate",function(){a.visible&&j.show(!0);j[b.animation?"animate":"attr"]({opacity:1},{duration:200})})),g=d,o(e,function(e){var h,k=e.dataLabel,r,o,S=e.connector,u=!0,w,G={};f=e.dlOptions||e.options&&e.options.dataLabels;h=q(f&&f.enabled,g.enabled)&&e.y!==null;if(k&&
!h)e.dataLabel=k.destroy();else if(h){d=C(g,f);w=d.style;h=d.rotation;r=e.getLabelConfig();i=d.format?Na(d.format,r):d.formatter.call(r,d);w.color=q(d.color,w.color,a.color,"black");if(k)if(t(i))k.attr({text:i}),u=!1;else{if(e.dataLabel=k=k.destroy(),S)e.connector=S.destroy()}else if(t(i)){k={fill:d.backgroundColor,stroke:d.borderColor,"stroke-width":d.borderWidth,r:d.borderRadius||0,rotation:h,padding:d.padding,zIndex:1};if(w.color==="contrast")G.color=d.inside||d.distance<0||b.stacking?l.getContrast(e.color||
a.color):"#000000";if(c)G.cursor=c;for(o in k)k[o]===v&&delete k[o];k=e.dataLabel=l[h?"text":"label"](i,0,-9999,d.shape,null,null,d.useHTML).attr(k).css(x(w,G)).add(j).shadow(d.shadow)}k&&a.alignDataLabel(e,k,d,null,u)}})};P.prototype.alignDataLabel=function(a,b,c,d,e){var f=this.chart,g=f.inverted,h=q(a.plotX,-9999),i=q(a.plotY,-9999),j=b.getBBox(),k=f.renderer.fontMetrics(c.style.fontSize).b,l=c.rotation,m=c.align,n=this.visible&&(a.series.forceDL||f.isInsidePlot(h,z(i),g)||d&&f.isInsidePlot(h,
g?d.x+1:d.y+d.height-1,g)),p=q(c.overflow,"justify")==="justify";if(n)d=x({x:g?f.plotWidth-i:h,y:z(g?f.plotHeight-h:i),width:0,height:0},d),x(c,{width:j.width,height:j.height}),l?(p=!1,g=f.renderer.rotCorr(k,l),g={x:d.x+c.x+d.width/2+g.x,y:d.y+c.y+{top:0,middle:.5,bottom:1}[c.verticalAlign]*d.height},b[e?"attr":"animate"](g).attr({align:m}),h=(l+720)%360,h=h>180&&h<360,m==="left"?g.y-=h?j.height:0:m==="center"?(g.x-=j.width/2,g.y-=j.height/2):m==="right"&&(g.x-=j.width,g.y-=h?0:j.height)):(b.align(c,
null,d),g=b.alignAttr),p?this.justifyDataLabel(b,c,g,j,d,e):q(c.crop,!0)&&(n=f.isInsidePlot(g.x,g.y)&&f.isInsidePlot(g.x+j.width,g.y+j.height)),c.shape&&!l&&b.attr({anchorX:a.plotX,anchorY:a.plotY});if(!n)Ra(b),b.attr({y:-9999}),b.placed=!1};P.prototype.justifyDataLabel=function(a,b,c,d,e,f){var g=this.chart,h=b.align,i=b.verticalAlign,j,k,l=a.box?0:a.padding||0;j=c.x+l;if(j<0)h==="right"?b.align="left":b.x=-j,k=!0;j=c.x+d.width-l;if(j>g.plotWidth)h==="left"?b.align="right":b.x=g.plotWidth-j,k=!0;
j=c.y+l;if(j<0)i==="bottom"?b.verticalAlign="top":b.y=-j,k=!0;j=c.y+d.height-l;if(j>g.plotHeight)i==="top"?b.verticalAlign="bottom":b.y=g.plotHeight-j,k=!0;if(k)a.placed=!f,a.align(b,null,e)};if(J.pie)J.pie.prototype.drawDataLabels=function(){var a=this,b=a.data,c,d=a.chart,e=a.options.dataLabels,f=q(e.connectorPadding,10),g=q(e.connectorWidth,1),h=d.plotWidth,i=d.plotHeight,j,k,l=q(e.softConnector,!0),m=e.distance,n=a.center,p=n[2]/2,r=n[1],s=m>0,t,u,w,G=[[],[]],v,x,B,C,A,D=[0,0,0,0],E=function(a,
b){return b.y-a.y};if(a.visible&&(e.enabled||a._hasPointLabels)){P.prototype.drawDataLabels.apply(a);o(b,function(a){if(a.dataLabel&&a.visible)G[a.half].push(a),a.dataLabel._pos=null});for(C=2;C--;){var H=[],L=[],I=G[C],K=I.length,J;if(K){a.sortByAngle(I,C-.5);for(A=b=0;!b&&I[A];)b=I[A]&&I[A].dataLabel&&(I[A].dataLabel.getBBox().height||21),A++;if(m>0){u=F(r+p+m,d.plotHeight);for(A=y(0,r-p-m);A<=u;A+=b)H.push(A);u=H.length;if(K>u){c=[].concat(I);c.sort(E);for(A=K;A--;)c[A].rank=A;for(A=K;A--;)I[A].rank>=
u&&I.splice(A,1);K=I.length}for(A=0;A<K;A++){c=I[A];w=c.labelPos;c=9999;var N,M;for(M=0;M<u;M++)N=U(H[M]-w[1]),N<c&&(c=N,J=M);if(J<A&&H[A]!==null)J=A;else for(u<K-A+J&&H[A]!==null&&(J=u-K+A);H[J]===null;)J++;L.push({i:J,y:H[J]});H[J]=null}L.sort(E)}for(A=0;A<K;A++){c=I[A];w=c.labelPos;t=c.dataLabel;B=c.visible===!1?"hidden":"inherit";c=w[1];if(m>0){if(u=L.pop(),J=u.i,x=u.y,c>x&&H[J+1]!==null||c<x&&H[J-1]!==null)x=F(y(0,c),d.plotHeight)}else x=c;v=e.justify?n[0]+(C?-1:1)*(p+m):a.getX(x===r-p-m||x===
r+p+m?c:x,C);t._attr={visibility:B,align:w[6]};t._pos={x:v+e.x+({left:f,right:-f}[w[6]]||0),y:x+e.y-10};t.connX=v;t.connY=x;if(this.options.size===null)u=t.width,v-u<f?D[3]=y(z(u-v+f),D[3]):v+u>h-f&&(D[1]=y(z(v+u-h+f),D[1])),x-b/2<0?D[0]=y(z(-x+b/2),D[0]):x+b/2>i&&(D[2]=y(z(x+b/2-i),D[2]))}}}if(Ga(D)===0||this.verifyDataLabelOverflow(D))this.placeDataLabels(),s&&g&&o(this.points,function(b){j=b.connector;w=b.labelPos;if((t=b.dataLabel)&&t._pos&&b.visible)B=t._attr.visibility,v=t.connX,x=t.connY,k=
l?[Y,v+(w[6]==="left"?5:-5),x,"C",v,x,2*w[2]-w[4],2*w[3]-w[5],w[2],w[3],R,w[4],w[5]]:[Y,v+(w[6]==="left"?5:-5),x,R,w[2],w[3],R,w[4],w[5]],j?(j.animate({d:k}),j.attr("visibility",B)):b.connector=j=a.chart.renderer.path(k).attr({"stroke-width":g,stroke:e.connectorColor||b.color||"#606060",visibility:B}).add(a.dataLabelsGroup);else if(j)b.connector=j.destroy()})}},J.pie.prototype.placeDataLabels=function(){o(this.points,function(a){var b=a.dataLabel;if(b&&a.visible)(a=b._pos)?(b.attr(b._attr),b[b.moved?
"animate":"attr"](a),b.moved=!0):b&&b.attr({y:-9999})})},J.pie.prototype.alignDataLabel=ua,J.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,c=this.options,d=c.center,e=c.minSize||80,f=e,g;d[0]!==null?f=y(b[2]-y(a[1],a[3]),e):(f=y(b[2]-a[1]-a[3],e),b[0]+=(a[3]-a[1])/2);d[1]!==null?f=y(F(f,b[2]-y(a[0],a[2])),e):(f=y(F(f,b[2]-a[0]-a[2]),e),b[1]+=(a[0]-a[2])/2);f<b[2]?(b[2]=f,b[3]=Math.min(/%$/.test(c.innerSize||0)?f*parseFloat(c.innerSize||0)/100:parseFloat(c.innerSize||0),f),this.translate(b),
this.drawDataLabels&&this.drawDataLabels()):g=!0;return g};if(J.column)J.column.prototype.alignDataLabel=function(a,b,c,d,e){var f=this.chart.inverted,g=a.series,h=a.dlBox||a.shapeArgs,i=q(a.below,a.plotY>q(this.translatedThreshold,g.yAxis.len)),j=q(c.inside,!!this.options.stacking);if(h){d=C(h);if(d.y<0)d.height+=d.y,d.y=0;h=d.y+d.height-g.yAxis.len;h>0&&(d.height-=h);f&&(d={x:g.yAxis.len-d.y-d.height,y:g.xAxis.len-d.x-d.width,width:d.height,height:d.width});if(!j)f?(d.x+=i?0:d.width,d.width=0):
(d.y+=i?d.height:0,d.height=0)}c.align=q(c.align,!f||j?"center":i?"right":"left");c.verticalAlign=q(c.verticalAlign,f||j?"middle":i?"top":"bottom");P.prototype.alignDataLabel.call(this,a,b,c,d,e)};(function(a){var b=a.Chart,c=a.each,d=a.pick,e=a.addEvent;b.prototype.callbacks.push(function(a){function b(){var e=[];c(a.series,function(a){var b=a.options.dataLabels,f=a.dataLabelCollections||["dataLabel"];(b.enabled||a._hasPointLabels)&&!b.allowOverlap&&a.visible&&c(f,function(b){c(a.points,function(a){if(a[b])a[b].labelrank=
d(a.labelrank,a.shapeArgs&&a.shapeArgs.height),e.push(a[b])})})});a.hideOverlappingLabels(e)}b();e(a,"redraw",b)});b.prototype.hideOverlappingLabels=function(a){var b=a.length,d,e,j,k,l,m,n,p,r;for(e=0;e<b;e++)if(d=a[e])d.oldOpacity=d.opacity,d.newOpacity=1;a.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)});for(e=0;e<b;e++){j=a[e];for(d=e+1;d<b;++d)if(k=a[d],j&&k&&j.placed&&k.placed&&j.newOpacity!==0&&k.newOpacity!==0&&(l=j.alignAttr,m=k.alignAttr,n=j.parentGroup,p=k.parentGroup,r=2*(j.box?
0:j.padding),l=!(m.x+p.translateX>l.x+n.translateX+(j.width-r)||m.x+p.translateX+(k.width-r)<l.x+n.translateX||m.y+p.translateY>l.y+n.translateY+(j.height-r)||m.y+p.translateY+(k.height-r)<l.y+n.translateY)))(j.labelrank<k.labelrank?j:k).newOpacity=0}c(a,function(a){var b,c;if(a){c=a.newOpacity;if(a.oldOpacity!==c&&a.placed)c?a.show(!0):b=function(){a.hide()},a.alignAttr.opacity=c,a[a.isOld?"animate":"attr"](a.alignAttr,null,b);a.isOld=!0}})}})(B);var ob=B.TrackerMixin={drawTrackerPoint:function(){var a=
this,b=a.chart,c=b.pointer,d=a.options.cursor,e=d&&{cursor:d},f=function(a){for(var c=a.target,d;c&&!d;)d=c.point,c=c.parentNode;if(d!==v&&d!==b.hoverPoint)d.onMouseOver(a)};o(a.points,function(a){if(a.graphic)a.graphic.element.point=a;if(a.dataLabel)a.dataLabel.element.point=a});if(!a._hasTracking)o(a.trackerGroups,function(b){if(a[b]&&(a[b].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(a){c.onTrackerMouseOut(a)}).css(e),$a))a[b].on("touchstart",f)}),a._hasTracking=!0},
drawTrackerGraph:function(){var a=this,b=a.options,c=b.trackByArea,d=[].concat(c?a.areaPath:a.graphPath),e=d.length,f=a.chart,g=f.pointer,h=f.renderer,i=f.options.tooltip.snap,j=a.tracker,k=b.cursor,l=k&&{cursor:k},m=function(){if(f.hoverSeries!==a)a.onMouseOver()},n="rgba(192,192,192,"+(ma?1E-4:.002)+")";if(e&&!c)for(k=e+1;k--;)d[k]===Y&&d.splice(k+1,0,d[k+1]-i,d[k+2],R),(k&&d[k]===Y||k===e)&&d.splice(k,0,R,d[k-2]+i,d[k-1]);j?j.attr({d:d}):(a.tracker=h.path(d).attr({"stroke-linejoin":"round",visibility:a.visible?
"visible":"hidden",stroke:n,fill:c?n:"none","stroke-width":b.lineWidth+(c?0:2*i),zIndex:2}).add(a.group),o([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",m).on("mouseout",function(a){g.onTrackerMouseOut(a)}).css(l);if($a)a.on("touchstart",m)}))}};if(J.column)Ka.prototype.drawTracker=ob.drawTrackerPoint;if(J.pie)J.pie.prototype.drawTracker=ob.drawTrackerPoint;if(J.scatter)Aa.prototype.drawTracker=ob.drawTrackerPoint;x(xb.prototype,{setItemEvents:function(a,b,
c,d,e){var f=this;(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover");b.css(f.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?d:e);a.setState()}).on("click",function(b){var c=function(){a.setVisible&&a.setVisible()},b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,c):K(a,"legendItemClick",b,c)})},createCheckboxForItem:function(a){a.checkbox=ha("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,
this.chart.container);E(a.checkbox,"click",function(b){K(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},function(){a.select()})})}});Q.legend.itemStyle.cursor="pointer";x(Da.prototype,{showResetZoom:function(){var a=this,b=Q.lang,c=a.options.chart.resetZoomButton,d=c.theme,e=d.states,f=c.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},d,e&&e.hover).attr({align:c.position.align,title:b.resetZoomTitle}).add().align(c.position,
!1,f)},zoomOut:function(){var a=this;K(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var b,c=this.pointer,d=!1,e;!a||a.resetSelection?o(this.axes,function(a){b=a.zoom()}):o(a.xAxis.concat(a.yAxis),function(a){var e=a.axis,h=e.isXAxis;if(c[h?"zoomX":"zoomY"]||c[h?"pinchX":"pinchY"])b=e.zoom(a.min,a.max),e.displayBtn&&(d=!0)});e=this.resetZoomButton;if(d&&!e)this.showResetZoom();else if(!d&&ja(e))this.resetZoomButton=e.destroy();b&&this.redraw(q(this.options.chart.animation,
a&&a.animation,this.pointCount<100))},pan:function(a,b){var c=this,d=c.hoverPoints,e;d&&o(d,function(a){a.setState()});o(b==="xy"?[1,0]:[1],function(b){var b=c[b?"xAxis":"yAxis"][0],d=b.horiz,h=a[d?"chartX":"chartY"],d=d?"mouseDownX":"mouseDownY",i=c[d],j=(b.pointRange||0)/2,k=b.getExtremes(),l=b.toValue(i-h,!0)+j,j=b.toValue(i+b.len-h,!0)-j,i=i>h;if(b.series.length&&(i||l>F(k.dataMin,k.min))&&(!i||j<y(k.dataMax,k.max)))b.setExtremes(l,j,!1,!1,{trigger:"pan"}),e=!0;c[d]=h});e&&c.redraw(!1);N(c.container,
{cursor:"move"})}});x(Ea.prototype,{select:function(a,b){var c=this,d=c.series,e=d.chart,a=q(a,!c.selected);c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a;d.options.data[oa(c,d.data)]=c.options;c.setState(a&&"select");b||o(e.getSelectedPoints(),function(a){if(a.selected&&a!==c)a.selected=a.options.selected=!1,d.options.data[oa(a,d.data)]=a.options,a.setState(""),a.firePointEvent("unselect")})})},onMouseOver:function(a,b){var c=this.series,d=c.chart,
e=d.tooltip,f=d.hoverPoint;if(d.hoverSeries!==c)c.onMouseOver();if(f&&f!==this)f.onMouseOut();if(this.series&&(this.firePointEvent("mouseOver"),e&&(!e.shared||c.noSharedTooltip)&&e.refresh(this,a),this.setState("hover"),!b))d.hoverPoint=this},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;this.firePointEvent("mouseOut");if(!b||oa(this,b)===-1)this.setState(),a.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var a=C(this.series.options.point,this.options).events,
b;this.events=a;for(b in a)E(this,b,a[b]);this.hasImportedEvents=!0}},setState:function(a,b){var c=Z(this.plotX),d=this.plotY,e=this.series,f=e.options.states,g=$[e.type].marker&&e.options.marker,h=g&&!g.enabled,i=g&&g.states[a],j=i&&i.enabled===!1,k=e.stateMarkerGraphic,l=this.marker||{},m=e.chart,n=e.halo,p,a=a||"";p=this.pointAttr[a]||e.pointAttr[a];if(!(a===this.state&&!b||this.selected&&a!=="select"||f[a]&&f[a].enabled===!1||a&&(j||h&&i.enabled===!1)||a&&l.states&&l.states[a]&&l.states[a].enabled===
!1)){if(this.graphic)g=g&&this.graphic.symbolName&&p.r,this.graphic.attr(C(p,g?{x:c-g,y:d-g,width:2*g,height:2*g}:{})),k&&k.hide();else{if(a&&i)if(g=i.radius,l=l.symbol||e.symbol,k&&k.currentSymbol!==l&&(k=k.destroy()),k)k[b?"animate":"attr"]({x:c-g,y:d-g});else if(l)e.stateMarkerGraphic=k=m.renderer.symbol(l,c-g,d-g,2*g,2*g).attr(p).add(e.markerGroup),k.currentSymbol=l;if(k)k[a&&m.isInsidePlot(c,d,m.inverted)?"show":"hide"](),k.element.point=this}if((c=f[a]&&f[a].halo)&&c.size){if(!n)e.halo=n=m.renderer.path().add(m.seriesGroup);
n.attr(x({fill:this.color||e.color,"fill-opacity":c.opacity,zIndex:-1},c.attributes))[b?"animate":"attr"]({d:this.haloPath(c.size)})}else n&&n.attr({d:[]});this.state=a}},haloPath:function(a){var b=this.series,c=b.chart,d=b.getPlotBox(),e=c.inverted,f=Math.floor(this.plotX);return c.renderer.symbols.circle(d.translateX+(e?b.yAxis.len-this.plotY:f)-a,d.translateY+(e?b.xAxis.len-f:this.plotY)-a,a*2,a*2)}});x(P.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this)b.onMouseOut();
this.options.events.mouseOver&&K(this,"mouseOver");this.setState("hover");a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,d=b.hoverPoint;b.hoverSeries=null;if(d)d.onMouseOut();this&&a.events.mouseOut&&K(this,"mouseOut");c&&!a.stickyTracking&&(!c.shared||this.noSharedTooltip)&&c.hide();this.setState()},setState:function(a){var b=this.options,c=this.graph,d=b.states,e=b.lineWidth,b=0,a=a||"";if(this.state!==a&&(this.state=a,!(d[a]&&d[a].enabled===!1)&&(a&&(e=d[a].lineWidth||
e+(d[a].lineWidthPlus||0)),c&&!c.dashstyle))){a={"stroke-width":e};for(c.attr(a);this["zoneGraph"+b];)this["zoneGraph"+b].attr(a),b+=1}},setVisible:function(a,b){var c=this,d=c.chart,e=c.legendItem,f,g=d.options.chart.ignoreHiddenSeries,h=c.visible;f=(c.visible=a=c.options.visible=c.userOptions.visible=a===void 0?!h:a)?"show":"hide";o(["group","dataLabelsGroup","markerGroup","tracker"],function(a){if(c[a])c[a][f]()});if(d.hoverSeries===c||(d.hoverPoint&&d.hoverPoint.series)===c)c.onMouseOut();e&&
d.legend.colorizeItem(c,a);c.isDirty=!0;c.options.stacking&&o(d.series,function(a){if(a.options.stacking&&a.visible)a.isDirty=!0});o(c.linkedSeries,function(b){b.setVisible(a,!1)});if(g)d.isDirtyBox=!0;b!==!1&&d.redraw();K(c,f)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===v?!this.selected:a;if(this.checkbox)this.checkbox.checked=a;K(this,a?"select":"unselect")},drawTracker:ob.drawTrackerGraph});T(P.prototype,"init",function(a){var b;
a.apply(this,Array.prototype.slice.call(arguments,1));(b=this.xAxis)&&b.options.ordinal&&E(this,"updatedData",function(){delete b.ordinalIndex})});T(H.prototype,"getTimeTicks",function(a,b,c,d,e,f,g,h){var i=0,j,k,l={},m,n,p,r=[],o=-Number.MAX_VALUE,q=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!f||f.length<3||c===v)return a.call(this,b,c,d,e);n=f.length;for(j=0;j<n;j++){p=j&&f[j-1]>d;f[j]<c&&(i=j);if(j===n-1||f[j+1]-f[j]>g*5||p){if(f[j]>o){for(k=a.call(this,b,f[i],
f[j],e);k.length&&k[0]<=o;)k.shift();k.length&&(o=k[k.length-1]);r=r.concat(k)}i=j+1}if(p)break}a=k.info;if(h&&a.unitRange<=M.hour){j=r.length-1;for(i=1;i<j;i++)wa("%d",r[i])!==wa("%d",r[i-1])&&(l[r[i]]="day",m=!0);m&&(l[r[0]]="day");a.higherRanks=l}r.info=a;if(h&&t(q)){h=a=r.length;j=[];var u;for(m=[];h--;)i=this.translate(r[h]),u&&(m[h]=u-i),j[h]=u=i;m.sort();m=m[Z(m.length/2)];m<q*.6&&(m=null);h=r[a-1]>d?a-1:a;for(u=void 0;h--;)i=j[h],d=u-i,u&&d<q*.8&&(m===null||d<m*.8)?(l[r[h]]&&!l[r[h+1]]?(d=
h+1,u=i):d=h,r.splice(d,1)):u=i}return r});x(H.prototype,{beforeSetTickPositions:function(){var a,b=[],c=!1,d,e=this.getExtremes(),f=e.min,g=e.max,h,i=this.isXAxis&&!!this.options.breaks,e=this.options.ordinal,j=this.chart.options.chart.ignoreHiddenSeries;if(e||i){o(this.series,function(c,d){if((!j||c.visible!==!1)&&(c.takeOrdinalPosition!==!1||i))if(b=b.concat(c.processedXData),a=b.length,b.sort(function(a,b){return a-b}),a)for(d=a-1;d--;)b[d]===b[d+1]&&b.splice(d,1)});a=b.length;if(a>2){d=b[1]-
b[0];for(h=a-1;h--&&!c;)b[h+1]-b[h]!==d&&(c=!0);if(!this.options.keepOrdinalPadding&&(b[0]-f>d||g-b[b.length-1]>d))c=!0}c?(this.ordinalPositions=b,d=this.val2lin(y(f,b[0]),!0),h=y(this.val2lin(F(g,b[b.length-1]),!0),1),this.ordinalSlope=g=(g-f)/(h-d),this.ordinalOffset=f-d*g):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=v}this.isOrdinal=e&&c;this.groupIntervalFactor=null},val2lin:function(a,b){var c=this.ordinalPositions,d;if(c){var e=c.length,f;for(d=e;d--;)if(c[d]===a){f=d;break}for(d=
e-1;d--;)if(a>c[d]||d===0){c=(a-c[d])/(c[d+1]-c[d]);f=d+c;break}d=b?f:this.ordinalSlope*(f||0)+this.ordinalOffset}else d=a;return d},lin2val:function(a,b){var c=this.ordinalPositions;if(c){var d=this.ordinalSlope,e=this.ordinalOffset,f=c.length-1,g,h;if(b)a<0?a=c[0]:a>f?a=c[f]:(f=Z(a),h=a-f);else for(;f--;)if(g=d*f+e,a>=g){d=d*(f+1)+e;h=(a-g)/(d-g);break}c=h!==v&&c[f]!==v?c[f]+(h?h*(c[f+1]-c[f]):0):a}else c=a;return c},getExtendedPositions:function(){var a=this.chart,b=this.series[0].currentDataGrouping,
c=this.ordinalIndex,d=b?b.count+b.unitName:"raw",e=this.getExtremes(),f,g;if(!c)c=this.ordinalIndex={};if(!c[d])f={series:[],chart:a,getExtremes:function(){return{min:e.dataMin,max:e.dataMax}},options:{ordinal:!0},val2lin:H.prototype.val2lin},o(this.series,function(c){g={xAxis:f,xData:c.xData,chart:a,destroyGroupedData:ua};g.options={dataGrouping:b?{enabled:!0,forced:!0,approximation:"open",units:[[b.unitName,[b.count]]]}:{enabled:!1}};c.processData.apply(g);f.series.push(g)}),this.beforeSetTickPositions.apply(f),
c[d]=f.ordinalPositions;return c[d]},getGroupIntervalFactor:function(a,b,c){var d,c=c.processedXData,e=c.length,f=[];d=this.groupIntervalFactor;if(!d){for(d=0;d<e-1;d++)f[d]=c[d+1]-c[d];f.sort(function(a,b){return a-b});f=f[Z(e/2)];a=y(a,c[0]);b=F(b,c[e-1]);this.groupIntervalFactor=d=e*f/(b-a)}return d},postProcessTickInterval:function(a){var b=this.ordinalSlope;return b?this.options.breaks?this.closestPointRange:a/(b/this.closestPointRange):a}});T(Da.prototype,"pan",function(a,b){var c=this.xAxis[0],
d=b.chartX,e=!1;if(c.options.ordinal&&c.series.length){var f=this.mouseDownX,g=c.getExtremes(),h=g.dataMax,i=g.min,j=g.max,k=this.hoverPoints,l=c.closestPointRange,f=(f-d)/(c.translationSlope*(c.ordinalSlope||l)),m={ordinalPositions:c.getExtendedPositions()},l=c.lin2val,n=c.val2lin,p;if(m.ordinalPositions){if(U(f)>1)k&&o(k,function(a){a.setState()}),f<0?(k=m,p=c.ordinalPositions?c:m):(k=c.ordinalPositions?c:m,p=m),m=p.ordinalPositions,h>m[m.length-1]&&m.push(h),this.fixedRange=j-i,f=c.toFixedRange(null,
null,l.apply(k,[n.apply(k,[i,!0])+f,!0]),l.apply(p,[n.apply(p,[j,!0])+f,!0])),f.min>=F(g.dataMin,i)&&f.max<=y(h,j)&&c.setExtremes(f.min,f.max,!0,!1,{trigger:"pan"}),this.mouseDownX=d,N(this.container,{cursor:"move"})}else e=!0}else e=!0;e&&a.apply(this,Array.prototype.slice.call(arguments,1))});P.prototype.gappedPath=function(){var a=this.options.gapSize,b=this.points.slice(),c=b.length-1;if(a&&c>0)for(;c--;)b[c+1].x-b[c].x>this.closestPointRange*a&&b.splice(c+1,0,{isNull:!0});return this.getGraphPath(b)};
(function(a){a(B)})(function(a){function b(){return Array.prototype.slice.call(arguments,1)}function c(a){a.apply(this);this.drawBreaks(this.xAxis,["x"]);this.drawBreaks(this.yAxis,d(this.pointArrayMap,["y"]))}var d=a.pick,e=a.wrap,f=a.each,g=a.extend,h=a.fireEvent,i=a.Axis,j=a.Series;g(i.prototype,{isInBreak:function(a,b){var c=a.repeat||Infinity,d=a.from,e=a.to-a.from,c=b>=d?(b-d)%c:c-(d-b)%c;return a.inclusive?c<=e:c<e&&c!==0},isInAnyBreak:function(a,b){var c=this.options.breaks,e=c&&c.length,
f,g,h;if(e){for(;e--;)this.isInBreak(c[e],a)&&(f=!0,g||(g=d(c[e].showPoints,this.isXAxis?!1:!0)));h=f&&b?f&&!g:f}return h}});e(i.prototype,"setTickPositions",function(a){a.apply(this,Array.prototype.slice.call(arguments,1));if(this.options.breaks){var b=this.tickPositions,c=this.tickPositions.info,d=[],e;for(e=0;e<b.length;e++)this.isInAnyBreak(b[e])||d.push(b[e]);this.tickPositions=d;this.tickPositions.info=c}});e(i.prototype,"init",function(a,b,c){if(c.breaks&&c.breaks.length)c.ordinal=!1;a.call(this,
b,c);if(this.options.breaks){var d=this;d.isBroken=!0;this.val2lin=function(a){var b=a,c,e;for(e=0;e<d.breakArray.length;e++)if(c=d.breakArray[e],c.to<=a)b-=c.len;else if(c.from>=a)break;else if(d.isInBreak(c,a)){b-=a-c.from;break}return b};this.lin2val=function(a){var b,c;for(c=0;c<d.breakArray.length;c++)if(b=d.breakArray[c],b.from>=a)break;else b.to<a?a+=b.len:d.isInBreak(b,a)&&(a+=b.len);return a};this.setExtremes=function(a,b,c,d,e){for(;this.isInAnyBreak(a);)a-=this.closestPointRange;for(;this.isInAnyBreak(b);)b-=
this.closestPointRange;i.prototype.setExtremes.call(this,a,b,c,d,e)};this.setAxisTranslation=function(a){i.prototype.setAxisTranslation.call(this,a);var b=d.options.breaks,a=[],c=[],e=0,f,g,j=d.userMin||d.min,k=d.userMax||d.max,m,l;for(l in b)g=b[l],f=g.repeat||Infinity,d.isInBreak(g,j)&&(j+=g.to%f-j%f),d.isInBreak(g,k)&&(k-=k%f-g.from%f);for(l in b){g=b[l];m=g.from;for(f=g.repeat||Infinity;m-f>j;)m-=f;for(;m<j;)m+=f;for(;m<k;m+=f)a.push({value:m,move:"in"}),a.push({value:m+(g.to-g.from),move:"out",
size:g.breakSize})}a.sort(function(a,b){return a.value===b.value?(a.move==="in"?0:1)-(b.move==="in"?0:1):a.value-b.value});b=0;m=j;for(l in a){g=a[l];b+=g.move==="in"?1:-1;if(b===1&&g.move==="in")m=g.value;b===0&&(c.push({from:m,to:g.value,len:g.value-m-(g.size||0)}),e+=g.value-m-(g.size||0))}d.breakArray=c;h(d,"afterBreaks");d.transA*=(k-d.min)/(k-j-e);d.min=j;d.max=k}}});e(j.prototype,"generatePoints",function(a){a.apply(this,b(arguments));var c=this.xAxis,d=this.yAxis,e=this.points,f,g=e.length,
h=this.options.connectNulls,i;if(c&&d&&(c.options.breaks||d.options.breaks))for(;g--;)if(f=e[g],i=f.y===null&&h===!1,!i&&(c.isInAnyBreak(f.x,!0)||d.isInAnyBreak(f.y,!0)))e.splice(g,1),this.data[g]&&this.data[g].destroyElements()});a.Series.prototype.drawBreaks=function(a,b){var c=this,e=c.points,g,i,j,o;f(b,function(b){g=a.breakArray||[];i=a.isXAxis?a.min:d(c.options.threshold,a.min);f(e,function(c){o=d(c["stack"+b.toUpperCase()],c[b]);f(g,function(b){j=!1;if(i<b.from&&o>b.to||i>b.from&&o<b.from)j=
"pointBreak";else if(i<b.from&&o>b.from&&o<b.to||i>b.from&&o>b.to&&o<b.from)j="pointInBreak";j&&h(a,j,{point:c,brk:b})})})})};e(a.seriesTypes.column.prototype,"drawPoints",c);e(a.Series.prototype,"drawPoints",c)});var la=P.prototype,fc=la.processData,gc=la.generatePoints,hc=la.destroy,ic={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M",
"%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},$b={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",
groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},ac=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],Va={sum:function(a){var b=a.length,c;if(!b&&a.hasNulls)c=null;else if(b)for(c=0;b--;)c+=a[b];return c},average:function(a){var b=a.length,a=Va.sum(a);D(a)&&b&&(a/=b);return a},open:function(a){return a.length?a[0]:a.hasNulls?null:v},high:function(a){return a.length?
Ga(a):a.hasNulls?null:v},low:function(a){return a.length?Oa(a):a.hasNulls?null:v},close:function(a){return a.length?a[a.length-1]:a.hasNulls?null:v},ohlc:function(a,b,c,d){a=Va.open(a);b=Va.high(b);c=Va.low(c);d=Va.close(d);if(D(a)||D(b)||D(c)||D(d))return[a,b,c,d]},range:function(a,b){a=Va.low(a);b=Va.high(b);if(D(a)||D(b))return[a,b]}};la.groupData=function(a,b,c,d){var e=this.data,f=this.options.data,g=[],h=[],i=[],j=a.length,k,l,m=!!b,n=[[],[],[],[]],d=typeof d==="function"?d:Va[d],p=this.pointArrayMap,
o=p&&p.length,q,t=0;for(q=l=0;q<=j;q++)if(a[q]>=c[0])break;for(;q<=j;q++){for(;c[t+1]!==void 0&&a[q]>=c[t+1]||q===j;)if(k=c[t],this.dataGroupInfo={start:l,length:n[0].length},l=d.apply(this,n),l!==v&&(g.push(k),h.push(l),i.push(this.dataGroupInfo)),l=q,n[0]=[],n[1]=[],n[2]=[],n[3]=[],t+=1,q===j)break;if(q===j)break;if(p){k=this.cropStart+q;k=e&&e[k]||this.pointClass.prototype.applyOptions.apply({series:this},[f[k]]);var u,w;for(u=0;u<o;u++)if(w=k[p[u]],D(w))n[u].push(w);else if(w===null)n[u].hasNulls=
!0}else if(k=m?b[q]:null,D(k))n[0].push(k);else if(k===null)n[0].hasNulls=!0}return[g,h,i]};la.processData=function(){var a=this.chart,b=this.options.dataGrouping,c=this.allowDG!==!1&&b&&q(b.enabled,a.options._stock),d;this.forceCrop=c;this.groupPixelWidth=null;this.hasProcessed=!0;if(!(fc.apply(this,arguments)===!1||!c||!this.visible)){this.destroyGroupedData();var e=this.processedXData,f=this.processedYData,g=a.plotSizeX,a=this.xAxis,h=a.options.ordinal,i=this.groupPixelWidth=a.getGroupPixelWidth&&
a.getGroupPixelWidth();if(i){this.isDirty=d=!0;var j=a.getExtremes(),c=j.min,j=j.max,h=h&&a.getGroupIntervalFactor(c,j,this)||1,g=i*(j-c)/g*h,i=a.getTimeTicks(a.normalizeTimeTickInterval(g,b.units||ac),Math.min(c,e[0]),Math.max(j,e[e.length-1]),a.options.startOfWeek,e,this.closestPointRange),e=la.groupData.apply(this,[e,f,i,b.approximation]),f=e[0],h=e[1];if(b.smoothed){b=f.length-1;for(f[b]=Math.min(f[b],j);b--&&b>0;)f[b]+=g/2;f[0]=Math.max(f[0],c)}this.currentDataGrouping=i.info;this.closestPointRange=
i.info.totalRange;this.groupMap=e[2];if(t(f[0])&&f[0]<a.dataMin){if(a.min===a.dataMin)a.min=f[0];a.dataMin=f[0]}this.processedXData=f;this.processedYData=h}else this.currentDataGrouping=this.groupMap=null;this.hasGroupedData=d}};la.destroyGroupedData=function(){var a=this.groupedData;o(a||[],function(b,c){b&&(a[c]=b.destroy?b.destroy():null)});this.groupedData=null};la.generatePoints=function(){gc.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};T(Ea.prototype,
"update",function(a){this.dataGroup?ia(24):a.apply(this,[].slice.call(arguments,1))});T(Nb.prototype,"tooltipFooterHeaderFormatter",function(a,b,c){var d=b.series,e=d.tooltipOptions,f=d.options.dataGrouping,g=e.xDateFormat,h,i=d.xAxis;return i&&i.options.type==="datetime"&&f&&D(b.key)?(a=d.currentDataGrouping,f=f.dateTimeLabelFormats,a?(i=f[a.unitName],a.count===1?g=i[0]:(g=i[1],h=i[2])):!g&&f&&(g=this.getXDateFormat(b,e,i)),g=wa(g,b.key),h&&(g+=wa(h,b.key+a.totalRange-1)),Na(e[(c?"footer":"header")+
"Format"],{point:x(b.point,{key:g}),series:d})):a.call(this,b,c)});la.destroy=function(){for(var a=this.groupedData||[],b=a.length;b--;)a[b]&&a[b].destroy();hc.apply(this)};T(la,"setOptions",function(a,b){var c=a.call(this,b),d=this.type,e=this.chart.options.plotOptions,f=$[d].dataGrouping;if($b[d])f||(f=C(ic,$b[d])),c.dataGrouping=C(f,e.series&&e.series.dataGrouping,e[d].dataGrouping,b.dataGrouping);if(this.chart.options._stock)this.requireSorting=!0;return c});T(H.prototype,"setScale",function(a){a.call(this);
o(this.series,function(a){a.hasProcessed=!1})});H.prototype.getGroupPixelWidth=function(){var a=this.series,b=a.length,c,d=0,e=!1,f;for(c=b;c--;)(f=a[c].options.dataGrouping)&&(d=y(d,f.groupPixelWidth));for(c=b;c--;)if((f=a[c].options.dataGrouping)&&a[c].hasProcessed)if(b=(a[c].processedXData||a[c].data).length,a[c].groupPixelWidth||b>this.chart.plotSizeX/d||b&&f.forced)e=!0;return e?d:0};H.prototype.setDataGrouping=function(a,b){var c,b=q(b,!0);a||(a={forced:!1,units:null});if(this instanceof H)for(c=
this.series.length;c--;)this.series[c].update({dataGrouping:a},!1);else o(this.chart.options.series,function(b){b.dataGrouping=a},!1);b&&this.chart.redraw()};$.ohlc=C($.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});ga=pa(J.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(a){return[a.open,
a.high,a.low,a.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){J.column.prototype.getAttribs.apply(this,arguments);var a=this.options,b=a.states,a=a.upColor||this.color,c=C(this.pointAttr),d=this.upColorProp;c[""][d]=a;c.hover[d]=b.hover.upColor||a;c.select[d]=b.select.upColor||a;o(this.points,function(a){if(a.open<a.close&&!a.options.color)a.pointAttr=c})},translate:function(){var a=this,b=a.yAxis,c=!!a.modifyValue,
d=["plotOpen","yBottom","plotClose"];J.column.prototype.translate.apply(a);o(a.points,function(e){o([e.open,e.low,e.close],function(f,g){f!==null&&(c&&(f=a.modifyValue(f)),e[d[g]]=b.toPixels(f,!0))})})},drawPoints:function(){var a=this,b=a.chart,c,d,e,f,g,h,i,j;o(a.points,function(k){if(k.plotY!==v)i=k.graphic,c=k.pointAttr[k.selected?"selected":""]||a.pointAttr[""],f=c["stroke-width"]%2/2,j=z(k.plotX)-f,g=z(k.shapeArgs.width/2),h=["M",j,z(k.yBottom),"L",j,z(k.plotY)],k.open!==null&&(d=z(k.plotOpen)+
f,h.push("M",j,d,"L",j-g,d)),k.close!==null&&(e=z(k.plotClose)+f,h.push("M",j,e,"L",j+g,e)),i?i.attr(c).animate({d:h}):k.graphic=b.renderer.path(h).attr(c).add(a.group)})},animate:null});J.ohlc=ga;$.candlestick=C($.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:$.ohlc.tooltip,threshold:null,upColor:"white"});ga=pa(ga,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){J.ohlc.prototype.getAttribs.apply(this,
arguments);var a=this.options,b=a.states,c=a.upLineColor||a.lineColor,d=b.hover.upLineColor||c,e=b.select.upLineColor||c;o(this.points,function(a){if(a.open<a.close){if(a.lineColor)a.pointAttr=C(a.pointAttr),c=a.lineColor;a.pointAttr[""].stroke=c;a.pointAttr.hover.stroke=d;a.pointAttr.select.stroke=e}})},drawPoints:function(){var a=this,b=a.chart,c,d=a.pointAttr[""],e,f,g,h,i,j,k,l,m,n,p;o(a.points,function(o){m=o.graphic;if(o.plotY!==v)c=o.pointAttr[o.selected?"selected":""]||d,k=c["stroke-width"]%
2/2,l=z(o.plotX)-k,e=o.plotOpen,f=o.plotClose,g=ba.min(e,f),h=ba.max(e,f),p=z(o.shapeArgs.width/2),i=z(g)!==z(o.plotY),j=h!==o.yBottom,g=z(g)+k,h=z(h)+k,n=[],n.push("M",l-p,h,"L",l-p,g,"L",l+p,g,"L",l+p,h,"Z","M",l,g,"L",l,i?z(o.plotY):g,"M",l,h,"L",l,j?z(o.yBottom):h),m?m.attr(c).animate({d:n}):o.graphic=b.renderer.path(n).attr(c).add(a.group).shadow(a.options.shadow)})}});J.candlestick=ga;var yb=za.prototype.symbols;$.flags=C($.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,
states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30});J.flags=pa(J.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:P.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){J.column.prototype.translate.apply(this);var a=
this.options,b=this.chart,c=this.points,d=c.length-1,e,f,g=a.onSeries;e=g&&b.get(g);var a=a.onKey||"y",g=e&&e.options.step,h=e&&e.points,i=h&&h.length,j=this.xAxis,k=j.getExtremes(),l=0,m,n,p;if(e&&e.visible&&i){l=(e.pointXOffset||0)+(e.barW||0)/2;e=e.currentDataGrouping;n=h[i-1].x+(e?e.totalRange:0);c.sort(function(a,b){return a.x-b.x});for(a="plot"+a[0].toUpperCase()+a.substr(1);i--&&c[d];)if(e=c[d],m=h[i],m.x<=e.x&&m[a]!==void 0){if(e.x<=n)e.plotY=m[a],m.x<e.x&&!g&&(p=h[i+1])&&p[a]!==v&&(e.plotY+=
(e.x-m.x)/(p.x-m.x)*(p[a]-m[a]));d--;i++;if(d<0)break}}o(c,function(a,d){var e;if(a.plotY===v)a.x>=k.min&&a.x<=k.max?a.plotY=b.chartHeight-j.bottom-(j.opposite?j.height:0)+j.offset-b.plotTop:a.shapeArgs={};a.plotX+=l;if((f=c[d-1])&&f.plotX===a.plotX){if(f.stackIndex===v)f.stackIndex=0;e=f.stackIndex+1}a.stackIndex=e})},drawPoints:function(){var a,b=this.pointAttr[""],c=this.points,d=this.chart,e=d.renderer,f,g,h=this.options,i=h.y,j,k,l,m,n,p,o=this.yAxis,s;for(k=c.length;k--;)if(l=c[k],a=l.plotX>
this.xAxis.len,f=l.plotX,f>0&&(f-=q(l.lineWidth,h.lineWidth)%2),m=l.stackIndex,j=l.options.shape||h.shape,g=l.plotY,g!==v&&(g=l.plotY+i-(m!==v&&m*h.stackDistance)),n=m?v:l.plotX,p=m?v:l.plotY,m=l.graphic,g!==v&&f>=0&&!a)a=l.pointAttr[l.selected?"select":""]||b,s=q(l.options.title,h.title,"A"),m?m.attr({text:s}).attr({x:f,y:g,r:a.r,anchorX:n,anchorY:p}):l.graphic=e.label(s,f,g,j,n,p,h.useHTML).css(C(h.style,l.style)).attr(a).attr({align:j==="flag"?"left":"center",width:h.width,height:h.height}).add(this.markerGroup).shadow(h.shadow),
l.tooltipPos=d.inverted?[o.len+o.pos-d.plotLeft-g,this.xAxis.len-f]:[f,g];else if(m)l.graphic=m.destroy()},drawTracker:function(){var a=this.points;ob.drawTrackerPoint.apply(this);o(a,function(b){var c=b.graphic;c&&E(c.element,"mouseover",function(){if(b.stackIndex>0&&!b.raised)b._y=c.y,c.attr({y:b._y-8}),b.raised=!0;o(a,function(a){if(a!==b&&a.raised&&a.graphic)a.graphic.attr({y:a._y}),a.raised=!1})})})},animate:ua,buildKDTree:ua,setClip:ua});yb.flag=function(a,b,c,d,e){return["M",e&&e.anchorX||
a,e&&e.anchorY||b,"L",a,b+d,a,b,a+c,b,a+c,b+d,a,b+d,"Z"]};o(["circle","square"],function(a){yb[a+"pin"]=function(b,c,d,e,f){var g=f&&f.anchorX,f=f&&f.anchorY;a==="circle"&&e>d&&(b-=z((e-d)/2),d=e);b=yb[a](b,c,d,e);g&&f&&b.push("M",g,c>f?c:c+e,"L",g,f);return b}});Za===B.VMLRenderer&&o(["flag","circlepin","squarepin"],function(a){nb.prototype.symbols[a]=yb[a]});var Wb={height:lb?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",
buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,margin:10,minWidth:6,rifleColor:"#666",zIndex:3,step:.2,trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:ma&&!lb};Q.scrollbar=C(!0,Wb,Q.scrollbar);tb.prototype={render:function(){var a=this.renderer,b=this.options,c=b.trackBorderWidth,d=b.barBorderWidth,e=this.size,f;this.group=f=a.g("highcharts-scrollbar").attr({zIndex:b.zIndex,translateY:-99999}).add();this.track=a.rect().attr({height:e,width:e,
y:-c%2/2,x:-c%2/2,"stroke-width":c,fill:b.trackBackgroundColor,stroke:b.trackBorderColor,r:b.trackBorderRadius||0}).add(f);this.scrollbarGroup=a.g().add(f);this.scrollbar=a.rect().attr({height:e,width:e,y:-d%2/2,x:-d%2/2,"stroke-width":d,fill:b.barBackgroundColor,stroke:b.barBorderColor,r:b.barBorderRadius||0}).add(this.scrollbarGroup);this.scrollbarRifles=a.path(this.swapXY([Y,-3,e/4,R,-3,2*e/3,Y,0,e/4,R,0,2*e/3,Y,3,e/4,R,3,2*e/3],b.vertical)).attr({stroke:b.rifleColor,"stroke-width":1}).add(this.scrollbarGroup);
this.drawScrollbarButton(0);this.drawScrollbarButton(1)},position:function(a,b,c,d){var e=this.options,f=e.vertical,g=0,h=this.rendered?"animate":"attr";this.x=a;this.y=b+e.trackBorderWidth;this.width=c;this.xOffset=this.height=d;this.yOffset=g;f?(this.width=this.yOffset=c=g=this.size,this.xOffset=b=0,this.barWidth=d-c*2,this.x=a+=this.options.margin):(this.height=this.xOffset=d=b=this.size,this.barWidth=c-d*2,this.y+=this.options.margin);this.group[h]({translateX:a,translateY:this.y});this.track[h]({width:c,
height:d});this.scrollbarButtons[1].attr({translateX:f?0:c-b,translateY:f?d-g:0})},drawScrollbarButton:function(a){var b=this.renderer,c=this.scrollbarButtons,d=this.options,e=this.size,f;f=b.g().add(this.group);c.push(f);b.rect(-.5,-.5,e+1,e+1,d.buttonBorderRadius,d.buttonBorderWidth).attr({stroke:d.buttonBorderColor,"stroke-width":d.buttonBorderWidth,fill:d.buttonBackgroundColor}).add(f);b.path(this.swapXY(["M",e/2+(a?-1:1),e/2-3,"L",e/2+(a?-1:1),e/2+3,"L",e/2+(a?2:-2),e/2],d.vertical)).attr({fill:d.buttonArrowColor}).add(f)},
swapXY:function(a,b){var c,d=a.length,e;if(b)for(c=0;c<d;c+=3)e=a[c+1],a[c+1]=a[c+2],a[c+2]=e;return a},setRange:function(a,b){var c=this.options,d=c.vertical,e=c.minWidth,f=this.barWidth,g,h,i=this.rendered&&!this.hasDragged?"animate":"attr";if(t(f))a=Math.max(a,0),g=f*a,h=f*Math.min(b,1),this.calculatedWidth=h=W(h-g),h<e&&(g=(f-e+h)*a,h=e),e=Math.floor(g+this.xOffset+this.yOffset),f=h/2-.5,this.from=a,this.to=b,d?(this.scrollbarGroup[i]({translateY:e}),this.scrollbar[i]({height:h}),this.scrollbarRifles[i]({translateY:f}),
this.scrollbarTop=e,this.scrollbarLeft=0):(this.scrollbarGroup[i]({translateX:e}),this.scrollbar[i]({width:h}),this.scrollbarRifles[i]({translateX:f}),this.scrollbarLeft=e,this.scrollbarTop=0),h<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),c.showFull===!1&&(a<=0&&b>=1?this.group.hide():this.group.show()),this.rendered=!0},initEvents:function(){var a=this;a.mouseMoveHandler=function(b){var c=a.chart.pointer.normalize(b),d=a.options.vertical?"chartY":"chartX",e=a.initPositions;if(a.grabbedCenter&&
(!b.touches||b.touches[0][d]!==0))c=a.cursorToScrollbarPosition(c)[d],d=a[d],d=c-d,a.hasDragged=!0,a.updatePosition(e[0]+d,e[1]+d),a.hasDragged&&K(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:b.type,DOMEvent:b})};a.mouseUpHandler=function(b){a.hasDragged&&K(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:b.type,DOMEvent:b});a.grabbedCenter=a.hasDragged=a.chartX=a.chartY=null};a.mouseDownHandler=function(b){b=a.chart.pointer.normalize(b);b=a.cursorToScrollbarPosition(b);
a.chartX=b.chartX;a.chartY=b.chartY;a.initPositions=[a.from,a.to];a.grabbedCenter=!0};a.buttonToMinClick=function(b){var c=W(a.to-a.from)*a.options.step;a.updatePosition(W(a.from-c),W(a.to-c));K(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:b})};a.buttonToMaxClick=function(b){var c=(a.to-a.from)*a.options.step;a.updatePosition(a.from+c,a.to+c);K(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:b})};a.trackClick=function(b){var c=a.chart.pointer.normalize(b),d=a.to-a.from,
e=a.y+a.scrollbarTop,f=a.x+a.scrollbarLeft;a.options.vertical&&c.chartY>e||!a.options.vertical&&c.chartX>f?a.updatePosition(a.from+d,a.to+d):a.updatePosition(a.from-d,a.to-d);K(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:b})}},cursorToScrollbarPosition:function(a){var b=this.options,b=b.minWidth>this.calculatedWidth?b.minWidth:0;return{chartX:(a.chartX-this.x-this.xOffset)/(this.barWidth-b),chartY:(a.chartY-this.y-this.yOffset)/(this.barWidth-b)}},updatePosition:function(a,b){b>
1&&(a=W(1-W(b-a)),b=1);a<0&&(b=W(b-a),a=0);this.from=a;this.to=b},addEvents:function(){var a=this.options.inverted?[1,0]:[0,1],b=this.scrollbarButtons,c=this.scrollbarGroup.element,d=this.mouseDownHandler,e=this.mouseMoveHandler,f=this.mouseUpHandler,a=[[b[a[0]].element,"click",this.buttonToMinClick],[b[a[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[c,"mousedown",d],[A,"mousemove",e],[A,"mouseup",f]];$a&&a.push([c,"touchstart",d],[A,"touchmove",e],[A,"touchend",
f]);o(a,function(a){E.apply(null,a)});this._events=a},removeEvents:function(){o(this._events,function(a){V.apply(null,a)});this._events=v},destroy:function(){this.removeEvents();o([this.track,this.scrollbarRifles,this.scrollbar,this.scrollbarGroup,this.group],function(a){a&&a.destroy&&a.destroy()});Pa(this.scrollbarButtons)}};T(H.prototype,"init",function(a){var b=this;a.apply(b,[].slice.call(arguments,1));if(b.options.scrollbar&&b.options.scrollbar.enabled)b.options.scrollbar.vertical=!b.horiz,b.options.startOnTick=
b.options.endOnTick=!1,b.scrollbar=new tb(b.chart.renderer,b.options.scrollbar,b.chart),E(b.scrollbar,"changed",function(a){var d=Math.min(q(b.options.min,b.min),b.min,b.dataMin),e=Math.max(q(b.options.max,b.max),b.max,b.dataMax)-d,f;b.horiz&&!b.reversed||!b.horiz&&b.reversed?(f=d+e*this.to,d+=e*this.from):(f=d+e*(1-this.from),d+=e*(1-this.to));b.setExtremes(d,f,!0,!1,a)})});T(H.prototype,"render",function(a){var b=Math.min(q(this.options.min,this.min),this.min,this.dataMin),c=Math.max(q(this.options.max,
this.max),this.max,this.dataMax),d=this.scrollbar,e;a.apply(this,[].slice.call(arguments,1));d&&(this.horiz?d.position(this.left,this.top+this.height+this.offset+2+(this.opposite?0:this.axisTitleMargin),this.width,this.height):d.position(this.left+this.width+2+this.offset+(this.opposite?this.axisTitleMargin:0),this.top,this.width,this.height),isNaN(b)||isNaN(c)||!t(this.min)||!t(this.max)?d.setRange(0,0):(e=(this.min-b)/(c-b),b=(this.max-b)/(c-b),this.horiz&&!this.reversed||!this.horiz&&this.reversed?
d.setRange(e,b):d.setRange(1-b,1-e)))});T(H.prototype,"getOffset",function(a){var b=this.horiz?2:1,c=this.scrollbar;a.apply(this,[].slice.call(arguments,1));c&&(this.chart.axisOffset[b]+=c.size+c.options.margin)});T(H.prototype,"destroy",function(a){if(this.scrollbar)this.scrollbar=this.scrollbar.destroy();a.apply(this,[].slice.call(arguments,1))});B.Scrollbar=tb;var ga=[].concat(ac),zb=function(a){var b=Ia(arguments,D);if(b.length)return Math[a].apply(0,b)};ga[4]=["day",[1,2,3,4]];ga[5]=["week",
[1,2,3]];x(Q,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:J.areaspline===v?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:ga},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:null,lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,
threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}}});Jb.prototype={drawHandle:function(a,b){var c=this.chart.renderer,d=this.elementsToDestroy,e=this.handles,f=this.navigatorOptions.handles,f={fill:f.backgroundColor,stroke:f.borderColor,
"stroke-width":1},g;this.rendered||(e[b]=c.g("navigator-handle-"+["left","right"][b]).css({cursor:"ew-resize"}).attr({zIndex:10-b}).add(),g=c.rect(-4.5,0,9,16,0,1).attr(f).add(e[b]),d.push(g),g=c.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(f).add(e[b]),d.push(g));e[b][this.rendered&&!this.hasDragged?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(a,10),translateY:this.top+this.height/2-8})},render:function(a,b,c,d){var e=this.chart,f=e.renderer,g,h,i,j,k=this.navigatorGroup;
j=this.scrollbarHeight;var k=this.xAxis,l=this.navigatorOptions,m=this.height,n=this.top,p=this.navigatorEnabled,o=l.outlineWidth,s=o/2,v=this.outlineHeight,u=n+s,w=this.rendered;if(D(a)&&D(b)&&(!this.hasDragged||t(c))){this.navigatorLeft=g=q(k.left,e.plotLeft+j);this.navigatorWidth=h=q(k.len,e.plotWidth-2*j);this.scrollerLeft=i=g-j;this.scrollerWidth=j=j=h+2*j;c=q(c,k.translate(a));d=q(d,k.translate(b));if(!D(c)||U(c)===Infinity)c=0,d=j;if(!(k.translate(d,!0)-k.translate(c,!0)<e.xAxis[0].minRange)){this.zoomedMax=
F(y(c,d,0),h);this.zoomedMin=F(y(this.fixedWidth?this.zoomedMax-this.fixedWidth:F(c,d),0),h);this.range=this.zoomedMax-this.zoomedMin;b=z(this.zoomedMax);a=z(this.zoomedMin);if(!w&&p)this.navigatorGroup=k=f.g("navigator").attr({zIndex:3}).add(),this.leftShade=f.rect().attr({fill:l.maskFill}).add(k),l.maskInside?this.leftShade.css({cursor:"ew-resize"}):this.rightShade=f.rect().attr({fill:l.maskFill}).add(k),this.outline=f.path().attr({"stroke-width":o,stroke:l.outlineColor}).add(k);f=w&&!this.hasDragged?
"animate":"attr";if(p){this.leftShade[f](l.maskInside?{x:g+a,y:n,width:b-a,height:m}:{x:g,y:n,width:a,height:m});if(this.rightShade)this.rightShade[f]({x:g+b,y:n,width:h-b,height:m});this.outline[f]({d:[Y,i,u,R,g+a-s,u,g+a-s,u+v,R,g+b-s,u+v,R,g+b-s,u,i+j,u].concat(l.maskInside?[Y,g+a+s,u,R,g+b-s,u]:[])});this.drawHandle(a+s,0);this.drawHandle(b+s,1)}if(this.scrollbar)this.scrollbar.hasDragged=this.hasDragged,this.scrollbar.position(this.scrollerLeft,this.top+(p?this.height:-this.scrollbarHeight),
this.scrollerWidth,this.scrollbarHeight),this.scrollbar.setRange(a/h,b/h);this.rendered=!0}}},addEvents:function(){var a=this.chart,b=a.container,c=this.mouseDownHandler,d=this.mouseMoveHandler,e=this.mouseUpHandler,f;f=[[b,"mousedown",c],[b,"mousemove",d],[A,"mouseup",e]];$a&&f.push([b,"touchstart",c],[b,"touchmove",d],[A,"touchend",e]);o(f,function(a){E.apply(null,a)});this._events=f;this.series&&E(this.series.xAxis,"foundExtremes",function(){a.scroller.modifyNavigatorAxisExtremes()});E(a,"redraw",
function(){var a=this.scroller,b=a&&a.baseSeries&&a.baseSeries.xAxis;b&&a.render(b.min,b.max)})},removeEvents:function(){o(this._events,function(a){V.apply(null,a)});this._events=v;this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){this.navigatorEnabled&&this.baseSeries&&this.baseSeries.xAxis&&this.navigatorOptions.adaptToUpdatedData!==!1&&(V(this.baseSeries,"updatedData",this.updatedDataHandler),V(this.baseSeries.xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(){var a=
this,b=a.chart,c,d,e=a.scrollbarHeight,f=a.navigatorOptions,g=a.height,h=a.top,i,j=a.baseSeries;a.mouseDownHandler=function(d){var d=b.pointer.normalize(d),e=a.zoomedMin,f=a.zoomedMax,h=a.top,j=a.scrollerLeft,k=a.scrollerWidth,l=a.navigatorLeft,o=a.navigatorWidth,q=a.scrollbarPad||0,t=a.range,v=d.chartX,x=d.chartY,d=b.xAxis[0],y,z=lb?10:7;if(x>h&&x<h+g)if(ba.abs(v-e-l)<z)a.grabbedLeft=!0,a.otherHandlePos=f,a.fixedExtreme=d.max,b.fixedRange=null;else if(ba.abs(v-f-l)<z)a.grabbedRight=!0,a.otherHandlePos=
e,a.fixedExtreme=d.min,b.fixedRange=null;else if(v>l+e-q&&v<l+f+q)a.grabbedCenter=v,a.fixedWidth=t,i=v-e;else if(v>j&&v<j+k){f=v-l-t/2;if(f<0)f=0;else if(f+t>=o)f=o-t,y=a.getUnionExtremes().dataMax;if(f!==e)a.fixedWidth=t,e=c.toFixedRange(f,f+t,null,y),d.setExtremes(e.min,e.max,!0,null,{trigger:"navigator"})}};a.mouseMoveHandler=function(c){var d=a.scrollbarHeight,e=a.navigatorLeft,f=a.navigatorWidth,g=a.scrollerLeft,h=a.scrollerWidth,j=a.range,k;if(!c.touches||c.touches[0].pageX!==0){c=b.pointer.normalize(c);
k=c.chartX;k<e?k=e:k>g+h-d&&(k=g+h-d);if(a.grabbedLeft)a.hasDragged=!0,a.render(0,0,k-e,a.otherHandlePos);else if(a.grabbedRight)a.hasDragged=!0,a.render(0,0,a.otherHandlePos,k-e);else if(a.grabbedCenter)a.hasDragged=!0,k<i?k=i:k>f+i-j&&(k=f+i-j),a.render(0,0,k-i,k-i+j);if(a.hasDragged&&a.scrollbar&&a.scrollbar.options.liveRedraw)c.DOMType=c.type,setTimeout(function(){a.mouseUpHandler(c)},0)}};a.mouseUpHandler=function(d){var e,f,g=d.DOMEvent||d;if(a.hasDragged||d.trigger==="scrollbar"){if(a.zoomedMin===
a.otherHandlePos)e=a.fixedExtreme;else if(a.zoomedMax===a.otherHandlePos)f=a.fixedExtreme;if(a.zoomedMax===a.navigatorWidth)f=a.getUnionExtremes().dataMax;e=c.toFixedRange(a.zoomedMin,a.zoomedMax,e,f);t(e.min)&&b.xAxis[0].setExtremes(e.min,e.max,!0,a.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:g})}if(d.DOMType!=="mousemove")a.grabbedLeft=a.grabbedRight=a.grabbedCenter=a.fixedWidth=a.fixedExtreme=a.otherHandlePos=a.hasDragged=i=null};var k=b.xAxis.length,l=b.yAxis.length;
b.extraBottomMargin=a.outlineHeight+f.margin;a.navigatorEnabled?(a.xAxis=c=new H(b,C({breaks:j&&j.xAxis.options.breaks,ordinal:j&&j.xAxis.options.ordinal},f.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:k,height:g,offset:0,offsetLeft:e,offsetRight:-e,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),a.yAxis=d=new H(b,C(f.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:g,offset:0,index:l,zoomEnabled:!1})),j||f.series.data?a.addBaseSeries():
b.series.length===0&&T(b,"redraw",function(c,d){if(b.series.length>0&&!a.series)a.setBaseSeries(),b.redraw=c;c.call(b,d)})):a.xAxis=c={translate:function(a,c){var d=b.xAxis[0],f=d.getExtremes(),g=b.plotWidth-2*e,h=zb("min",d.options.min,f.dataMin),d=zb("max",d.options.max,f.dataMax)-h;return c?a*d/g+h:g*(a-h)/d},toFixedRange:H.prototype.toFixedRange};if(b.options.scrollbar.enabled)a.scrollbar=new tb(b.renderer,C(b.options.scrollbar,{margin:a.navigatorEnabled?0:10}),b),E(a.scrollbar,"changed",function(c){var d=
a.navigatorWidth,e=d*this.to;d*=this.from;a.hasDragged=a.scrollbar.hasDragged;a.render(0,0,d,e);(b.options.scrollbar.liveRedraw||c.DOMType!=="mousemove")&&setTimeout(function(){a.mouseUpHandler(c)})});a.addBaseSeriesEvents();T(b,"getMargins",function(b){var e=this.legend,f=e.options;b.apply(this,[].slice.call(arguments,1));a.top=h=a.navigatorOptions.top||this.chartHeight-a.height-a.scrollbarHeight-this.spacing[2]-(f.verticalAlign==="bottom"&&f.enabled&&!f.floating?e.legendHeight+q(f.margin,10):0);
if(c&&d)c.options.top=d.options.top=h,c.setAxisSize(),d.setAxisSize()});a.addEvents()},getUnionExtremes:function(a){var b=this.chart.xAxis[0],c=this.xAxis,d=c.options,e=b.options,f;if(!a||b.dataMin!==null)f={dataMin:q(d&&d.min,zb("min",e.min,b.dataMin,c.dataMin,c.min)),dataMax:q(d&&d.max,zb("max",e.max,b.dataMax,c.dataMax,c.max))};return f},setBaseSeries:function(a){var b=this.chart,a=a||b.options.navigator.baseSeries;this.series&&(this.removeBaseSeriesEvents(),this.series.remove());this.baseSeries=
b.series[a]||typeof a==="string"&&b.get(a)||b.series[0];this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var a=this.baseSeries,b=a?a.options:{},a=b.data,c=this.navigatorOptions.series,d;d=c.data;this.hasNavigatorData=!!d;b=C(b,c,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0});b.data=d||a.slice(0);this.series=this.chart.initSeries(b);this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var a=
this.baseSeries;if(a&&a.xAxis&&this.navigatorOptions.adaptToUpdatedData!==!1)E(a,"updatedData",this.updatedDataHandler),E(a.xAxis,"foundExtremes",this.modifyBaseAxisExtremes),a.userOptions.events=x(a.userOptions.event,{updatedData:this.updatedDataHandler})},modifyNavigatorAxisExtremes:function(){var a=this.xAxis,b;if(a.getExtremes&&(b=this.getUnionExtremes(!0))&&(b.dataMin!==a.min||b.dataMax!==a.max))a.min=b.dataMin,a.max=b.dataMax},modifyBaseAxisExtremes:function(){if(this.chart.scroller.baseSeries&&
this.chart.scroller.baseSeries.xAxis){var a=this.chart.scroller,b=this.getExtremes(),c=b.dataMin,d=b.dataMax,b=b.max-b.min,e=a.stickToMin,f=a.stickToMax,g,h,i=a.series,j=!!this.setExtremes;if(!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(e&&(h=c,g=h+b),f&&(g=d,e||(h=y(g-b,i&&i.xData?i.xData[0]:-Number.MAX_VALUE))),j&&(e||f)&&D(h)))this.min=this.userMin=h,this.max=this.userMax=g;a.stickToMin=a.stickToMax=null}},updatedDataHandler:function(){var a=this.chart.scroller,b=a.baseSeries,
c=a.series;a.stickToMin=D(b.xAxis.min)&&b.xAxis.min<=b.xData[0];a.stickToMax=Math.round(a.zoomedMax)>=Math.round(a.navigatorWidth);if(c&&!a.hasNavigatorData)c.options.pointStart=b.xData[0],c.setData(b.options.data,!1,null,!1)},destroy:function(){this.removeEvents();o([this.scrollbar,this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline],function(a){a&&a.destroy&&a.destroy()});this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=null;o([this.handles,this.elementsToDestroy],
function(a){Pa(a)})}};B.Navigator=Jb;T(H.prototype,"zoom",function(a,b,c){var d=this.chart,e=d.options,f=e.chart.zoomType,g=e.navigator,e=e.rangeSelector,h;if(this.isXAxis&&(g&&g.enabled||e&&e.enabled))if(f==="x")d.resetZoomButton="blocked";else if(f==="y")h=!1;else if(f==="xy")d=this.previousZoom,t(b)?this.previousZoom=[this.min,this.max]:d&&(b=d[0],c=d[1],delete this.previousZoom);return h!==v?h:a.call(this,b,c)});T(Da.prototype,"init",function(a,b,c){E(this,"beforeRender",function(){var a=this.options;
if(a.navigator.enabled||a.scrollbar.enabled)this.scroller=new Jb(this)});a.call(this,b,c)});T(P.prototype,"addPoint",function(a,b,c,d,e){var f=this.options.turboThreshold;f&&this.xData.length>f&&ja(b,!0)&&this.chart.scroller&&ia(20,!0);a.call(this,b,c,d,e)});x(Q,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},
height:35,inputPosition:{align:"right"},labelStyle:{color:"#666"}}});Q.lang=C(Q.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});Kb.prototype={clickButton:function(a,b){var c=this,d=c.selected,e=c.chart,f=c.buttons,g=c.buttonOptions[a],h=e.xAxis[0],i=e.scroller&&e.scroller.getUnionExtremes()||h||{},j=i.dataMin,k=i.dataMax,l,m=h&&z(F(h.max,q(k,h.max))),n=g.type,p,i=g._range,r,s,t,u=g.dataGrouping;if(!(j===null||k===null||a===c.selected)){e.fixedRange=i;if(u)this.forcedDataGrouping=
!0,H.prototype.setDataGrouping.call(h||{chart:this.chart},u,!1);if(n==="month"||n==="year")if(h){if(n={range:g,max:m,dataMin:j,dataMax:k},l=h.minFromRange.call(n),D(n.newMax))m=n.newMax}else i=g;else if(i)l=y(m-i,j),m=F(l+i,k);else if(n==="ytd")if(h){if(k===v)j=Number.MAX_VALUE,k=Number.MIN_VALUE,o(e.series,function(a){a=a.xData;j=F(a[0],j);k=y(a[a.length-1],k)}),b=!1;m=new ea(k);l=m.getFullYear();l=r=y(j||0,ea.UTC(l,0,1));m=m.getTime();m=F(k||m,m)}else{E(e,"beforeRender",function(){c.clickButton(a)});
return}else n==="all"&&h&&(l=j,m=k);f[d]&&f[d].setState(0);if(f[a])f[a].setState(2),c.lastSelected=a;h?(h.setExtremes(l,m,q(b,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:g}),c.setSelected(a)):(p=ra(e.options.xAxis)[0],t=p.range,p.range=i,s=p.min,p.min=r,c.setSelected(a),E(e,"load",function(){p.range=t;p.min=s}))}},setSelected:function(a){this.selected=this.options.selected=a},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},
{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(a){var b=this,c=a.options.rangeSelector,d=c.buttons||[].concat(b.defaultButtons),e=c.selected,f=b.blurInputs=function(){var a=b.minInput,c=b.maxInput;a&&a.blur&&K(a,"blur");c&&c.blur&&K(c,"blur")};b.chart=a;b.options=c;b.buttons=[];a.extraTopMargin=c.height;b.buttonOptions=d;E(a.container,"mousedown",f);E(a,"resize",f);o(d,b.computeButtonRange);e!==v&&d[e]&&this.clickButton(e,!1);E(a,"load",function(){E(a.xAxis[0],
"setExtremes",function(c){this.max-this.min!==a.fixedRange&&c.trigger!=="rangeSelectorButton"&&c.trigger!=="updatedData"&&b.forcedDataGrouping&&this.setDataGrouping(!1,!1)});E(a.xAxis[0],"afterSetExtremes",function(){b.updateButtonStates(!0)})})},updateButtonStates:function(a){var b=this,c=this.chart,d=c.xAxis[0],e=c.scroller&&c.scroller.getUnionExtremes()||d,f=e.dataMin,g=e.dataMax,h=b.selected,i=b.options.allButtonsEnabled,j=b.buttons;a&&c.fixedRange!==z(d.max-d.min)&&(j[h]&&j[h].setState(0),b.setSelected(null));
o(b.buttonOptions,function(a,e){var m=z(d.max-d.min),n=a._range,p=a.type,o=a.count||1,q=n>g-f,t=n<d.minRange,u=a.type==="all"&&d.max-d.min>=g-f&&j[e].state!==2,w=c.renderer.forExport&&e===h,n=n===m,v=!d.hasVisibleSeries;if((p==="month"||p==="year")&&m>={month:28,year:365}[p]*864E5*o&&m<={month:31,year:366}[p]*864E5*o)n=!0;w||n&&e!==h&&e===b.lastSelected?(b.setSelected(e),j[e].setState(2)):!i&&(q||t||u||v)?j[e].setState(3):j[e].state===3&&j[e].setState(0)})},computeButtonRange:function(a){var b=a.type,
c=a.count||1,d={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5};if(d[b])a._range=d[b]*c;else if(b==="month"||b==="year")a._range={month:30,year:365}[b]*864E5*c},setInputValue:function(a,b){var c=this.chart.options.rangeSelector;if(t(b))this[a+"Input"].HCTime=b;this[a+"Input"].value=wa(c.inputEditDateFormat||"%Y-%m-%d",this[a+"Input"].HCTime);this[a+"DateBox"].attr({text:wa(c.inputDateFormat||"%b %e, %Y",this[a+"Input"].HCTime)})},showInput:function(a){var b=this.inputGroup,c=
this[a+"DateBox"];N(this[a+"Input"],{left:b.translateX+c.x+"px",top:b.translateY+"px",width:c.width-2+"px",height:c.height-2+"px",border:"2px solid silver"})},hideInput:function(a){N(this[a+"Input"],{border:0,width:"1px",height:"1px"});this.setInputValue(a)},drawInput:function(a){function b(){var a=j.value,b=(g.inputDateParser||ea.parse)(a),e=d.scroller&&d.scroller.xAxis?d.scroller.xAxis:d.xAxis[0],f=e.dataMin,h=e.dataMax;if(b!==j.previousValue)j.previousValue=b,D(b)||(b=a.split("-"),b=ea.UTC(I(b[0]),
I(b[1])-1,I(b[2]))),D(b)&&(Q.global.useUTC||(b+=(new ea).getTimezoneOffset()*6E4),i?b>c.maxInput.HCTime?b=v:b<f&&(b=f):b<c.minInput.HCTime?b=v:b>h&&(b=h),b!==v&&d.xAxis[0].setExtremes(i?b:e.min,i?e.max:b,v,v,{trigger:"rangeSelectorInput"}))}var c=this,d=c.chart,e=d.renderer.style,f=d.renderer,g=d.options.rangeSelector,h=c.div,i=a==="min",j,k,l=this.inputGroup;this[a+"Label"]=k=f.label(Q.lang[i?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(C(e,g.labelStyle)).add(l);
l.offset+=k.width+5;this[a+"DateBox"]=f=f.label("",l.offset).attr({padding:2,width:g.inputBoxWidth||90,height:g.inputBoxHeight||17,stroke:g.inputBoxBorderColor||"silver","stroke-width":1}).css(C({textAlign:"center",color:"#444"},e,g.inputStyle)).on("click",function(){c.showInput(a);c[a+"Input"].focus()}).add(l);l.offset+=f.width+(i?10:0);this[a+"Input"]=j=ha("input",{name:a,className:"highcharts-range-selector",type:"text"},x({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",
fontSize:e.fontSize,fontFamily:e.fontFamily,left:"-9em",top:d.plotTop+"px"},g.inputStyle),h);j.onfocus=function(){c.showInput(a)};j.onblur=function(){c.hideInput(a)};j.onchange=b;j.onkeypress=function(a){a.keyCode===13&&b()}},getPosition:function(){var a=this.chart,b=a.options.rangeSelector,a=q((b.buttonPosition||{}).y,a.plotTop-a.axisOffset[0]-b.height);return{buttonTop:a,inputTop:a-10}},render:function(a,b){var c=this,d=c.chart,e=d.renderer,f=d.container,g=d.options,h=g.exporting&&g.exporting.enabled!==
!1&&g.navigation&&g.navigation.buttonOptions,i=g.rangeSelector,j=c.buttons,g=Q.lang,k=c.div,k=c.inputGroup,l=i.buttonTheme,m=i.buttonPosition||{},n=i.inputEnabled,p=l&&l.states,r=d.plotLeft,s,v=this.getPosition(),u=c.group,w=c.rendered;if(!w&&(c.group=u=e.g("range-selector-buttons").add(),c.zoomText=e.text(g.rangeSelectorZoom,q(m.x,r),15).css(i.labelStyle).add(u),s=q(m.x,r)+c.zoomText.getBBox().width+5,o(c.buttonOptions,function(a,b){j[b]=e.button(a.text,s,0,function(){c.clickButton(b);c.isActive=
!0},l,p&&p.hover,p&&p.select,p&&p.disabled).css({textAlign:"center"}).add(u);s+=j[b].width+q(i.buttonSpacing,5);c.selected===b&&j[b].setState(2)}),c.updateButtonStates(),n!==!1))c.div=k=ha("div",null,{position:"relative",height:0,zIndex:1}),f.parentNode.insertBefore(k,f),c.inputGroup=k=e.g("input-group").add(),k.offset=0,c.drawInput("min"),c.drawInput("max");u[w?"animate":"attr"]({translateY:v.buttonTop});n!==!1&&(k.align(x({y:v.inputTop,width:k.offset,x:h&&v.inputTop<(h.y||0)+h.height-d.spacing[0]?
-40:0},i.inputPosition),!0,d.spacingBox),t(n)||(d=u.getBBox(),k[k.translateX<d.x+d.width+10?"hide":"show"]()),c.setInputValue("min",a),c.setInputValue("max",b));c.rendered=!0},destroy:function(){var a=this.minInput,b=this.maxInput,c=this.chart,d=this.blurInputs,e;V(c.container,"mousedown",d);V(c,"resize",d);Pa(this.buttons);if(a)a.onfocus=a.onblur=a.onchange=null;if(b)b.onfocus=b.onblur=b.onchange=null;for(e in this)this[e]&&e!=="chart"&&(this[e].destroy?this[e].destroy():this[e].nodeType&&Wa(this[e])),
this[e]=null}};H.prototype.toFixedRange=function(a,b,c,d){var e=this.chart&&this.chart.fixedRange,a=q(c,this.translate(a,!0)),b=q(d,this.translate(b,!0)),c=e&&(b-a)/e;c>.7&&c<1.3&&(d?a=b-e:b=a+e);D(a)||(a=b=void 0);return{min:a,max:b}};H.prototype.minFromRange=function(){var a=this.range,b={month:"Month",year:"FullYear"}[a.type],c,d=this.max,e,f,g=function(a,c){var d=new ea(a);d["set"+b](d["get"+b]()+c);return d.getTime()-a};D(a)?(c=this.max-a,f=a):c=d+g(d,-a.count);e=q(this.dataMin,Number.MIN_VALUE);
D(c)||(c=e);if(c<=e)c=e,f===void 0&&(f=g(c,a.count)),this.newMax=F(c+f,this.dataMax);D(d)||(c=void 0);return c};T(Da.prototype,"init",function(a,b,c){E(this,"init",function(){if(this.options.rangeSelector.enabled)this.rangeSelector=new Kb(this)});a.call(this,b,c)});B.RangeSelector=Kb;Da.prototype.callbacks.push(function(a){function b(){d=a.xAxis[0].getExtremes();D(d.min)&&f.render(d.min,d.max)}function c(a){f.render(a.min,a.max)}var d,e=a.scroller,f=a.rangeSelector;e&&(d=a.xAxis[0].getExtremes(),
e.render(d.min,d.max));f&&(E(a.xAxis[0],"afterSetExtremes",c),E(a,"resize",b),b());E(a,"destroy",function(){f&&(V(a,"resize",b),V(a.xAxis[0],"afterSetExtremes",c))})});B.StockChart=B.stockChart=function(a,b,c){var d=Fa(a)||a.nodeName,e=arguments[d?1:0],f=e.series,g,h=q(e.navigator&&e.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,i={marker:{enabled:!1,radius:2}},j={shadow:!1,borderWidth:0};e.xAxis=va(ra(e.xAxis||{}),function(a){return C({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},
labels:{overflow:"justify"},showLastLabel:!0},a,{type:"datetime",categories:null},h)});e.yAxis=va(ra(e.yAxis||{}),function(a){g=q(a.opposite,!0);return C({labels:{y:-2},opposite:g,showLastLabel:!1,title:{text:null}},a)});e.series=null;e=C({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:i,spline:i,area:i,areaspline:i,arearange:i,
areasplinerange:i,column:j,columnrange:j,candlestick:j,ohlc:j}},e,{_stock:!0,chart:{inverted:!1}});e.series=f;return d?new Da(a,e,c):new Da(e,b)};T(ab.prototype,"init",function(a,b,c){var d=c.chart.pinchType||"";a.call(this,b,c);this.pinchX=this.pinchHor=d.indexOf("x")!==-1;this.pinchY=this.pinchVert=d.indexOf("y")!==-1;this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert});T(H.prototype,"autoLabelAlign",function(a){var b=this.chart,c=this.options,b=b._labelPanes=b._labelPanes||{},d=this.options.labels;
if(this.chart.options._stock&&this.coll==="yAxis"&&(c=c.top+","+c.height,!b[c]&&d.enabled)){if(d.x===15)d.x=0;if(d.align===void 0)d.align="right";b[c]=1;return"right"}return a.call(this,[].slice.call(arguments,1))});T(H.prototype,"getPlotLinePath",function(a,b,c,d,e,f){var g=this,h=this.isLinked&&!this.series?this.linkedParent.series:this.series,i=g.chart,j=i.renderer,k=g.left,l=g.top,m,n,p,r,s=[],v=[],u,w;if(g.coll==="colorAxis")return a.apply(this,[].slice.call(arguments,1));v=g.isXAxis?t(g.options.yAxis)?
[i.yAxis[g.options.yAxis]]:va(h,function(a){return a.yAxis}):t(g.options.xAxis)?[i.xAxis[g.options.xAxis]]:va(h,function(a){return a.xAxis});o(g.isXAxis?i.yAxis:i.xAxis,function(a){if(t(a.options.id)?a.options.id.indexOf("navigator")===-1:1){var b=a.isXAxis?"yAxis":"xAxis",b=t(a.options[b])?i[b][a.options[b]]:i[b][0];g===b&&v.push(a)}});u=v.length?[]:[g.isXAxis?i.yAxis[0]:i.xAxis[0]];o(v,function(a){oa(a,u)===-1&&u.push(a)});w=q(f,g.translate(b,null,null,d));D(w)&&(g.horiz?o(u,function(a){var b;n=
a.pos;r=n+a.len;m=p=z(w+g.transB);if(m<k||m>k+g.width)e?m=p=F(y(k,m),k+g.width):b=!0;b||s.push("M",m,n,"L",p,r)}):o(u,function(a){var b;m=a.pos;p=m+a.len;n=r=z(l+g.height-w);if(n<l||n>l+g.height)e?n=r=F(y(l,n),g.top+g.height):b=!0;b||s.push("M",m,n,"L",p,r)}));return s.length>0?j.crispPolyLine(s,c||1):null});H.prototype.getPlotBandPath=function(a,b){var c=this.getPlotLinePath(b,null,null,!0),d=this.getPlotLinePath(a,null,null,!0),e=[],f;if(d&&c&&d.toString()!==c.toString())for(f=0;f<d.length;f+=6)e.push("M",
d[f+1],d[f+2],"L",d[f+4],d[f+5],c[f+4],c[f+5],c[f+1],c[f+2]);else e=null;return e};za.prototype.crispPolyLine=function(a,b){var c;for(c=0;c<a.length;c+=6)a[c+1]===a[c+4]&&(a[c+1]=a[c+4]=z(a[c+1])-b%2/2),a[c+2]===a[c+5]&&(a[c+2]=a[c+5]=z(a[c+2])+b%2/2);return a};if(Za===B.VMLRenderer)nb.prototype.crispPolyLine=za.prototype.crispPolyLine;T(H.prototype,"hideCrosshair",function(a,b){a.call(this,b);if(this.crossLabel)this.crossLabel=this.crossLabel.hide()});T(H.prototype,"drawCrosshair",function(a,b,c){var d,
e;a.call(this,b,c);if(t(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){var a=this.chart,f=this.options.crosshair.label,g=this.horiz,h=this.opposite,i=this.left,j=this.top,k=this.crossLabel,l,m=f.format,n="",p=this.options.tickPosition==="inside",o=this.crosshair.snap!==!1,s=0;b||(b=this.cross&&this.cross.e);l=g?"center":h?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center";if(!k)k=this.crossLabel=a.renderer.label(null,null,null,f.shape||"callout").attr({align:f.align||
l,zIndex:12,fill:f.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:q(f.padding,8),stroke:f.borderColor||"","stroke-width":f.borderWidth||0,r:q(f.borderRadius,3)}).css(x({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},f.style)).add();g?(l=o?c.plotX+i:b.chartX,j+=h?0:this.height):(l=h?this.width+i:0,j=o?c.plotY+j:b.chartY);!m&&!f.formatter&&(this.isDatetimeAxis&&(n="%b %d, %Y"),m="{value"+(n?":"+n:"")+"}");b=o?c[this.isXAxis?"x":"y"]:this.toValue(g?b.chartX:
b.chartY);k.attr({text:m?Na(m,{value:b}):f.formatter.call(this,b),x:l,y:j,visibility:"visible"});b=k.getBBox();if(g){if(p&&!h||!p&&h)j=k.y-b.height}else j=k.y-b.height/2;g?(d=i-b.x,e=i+this.width-b.x):(d=this.labelAlign==="left"?i:0,e=this.labelAlign==="right"?i+this.width:a.chartWidth);k.translateX<d&&(s=d-k.translateX);k.translateX+b.width>=e&&(s=-(k.translateX+b.width-e));k.attr({x:l+s,y:j,anchorX:g?l:this.opposite?0:a.chartWidth,anchorY:g?this.opposite?a.chartHeight:0:j+b.height/2})}});var jc=
la.init,kc=la.processData,lc=Ea.prototype.tooltipFormatter;la.init=function(){jc.apply(this,arguments);this.setCompare(this.options.compare)};la.setCompare=function(a){this.modifyValue=a==="value"||a==="percent"?function(b,c){var d=this.compareValue;if(b!==v&&(b=a==="value"?b-d:b=100*(b/d)-100,c))c.change=b;return b}:null;this.userOptions.compare=a;if(this.chart.hasRendered)this.isDirty=!0};la.processData=function(){var a,b=-1,c,d,e,f;kc.apply(this,arguments);if(this.xAxis&&this.processedYData){c=
this.processedXData;d=this.processedYData;e=d.length;this.pointArrayMap&&(b=oa("close",this.pointArrayMap),b===-1&&(b=oa(this.pointValKey||"y",this.pointArrayMap)));for(a=0;a<e-1;a++)if(f=b>-1?d[a][b]:d[a],D(f)&&c[a+1]>=this.xAxis.min&&f!==0){this.compareValue=f;break}}};T(la,"getExtremes",function(a){var b;a.apply(this,[].slice.call(arguments,1));if(this.modifyValue)b=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=Oa(b),this.dataMax=Ga(b)});H.prototype.setCompare=function(a,
b){this.isXAxis||(o(this.series,function(b){b.setCompare(a)}),q(b,!0)&&this.chart.redraw())};Ea.prototype.tooltipFormatter=function(a){a=a.replace("{point.change}",(this.change>0?"+":"")+B.numberFormat(this.change,q(this.series.tooltipOptions.changeDecimals,2)));return lc.apply(this,[a])};T(P.prototype,"render",function(a){if(this.chart.options._stock&&this.xAxis)if(!this.clipBox&&this.animate)this.clipBox=C(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len;
else if(this.chart[this.sharedClipKey])Ra(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len});else if(this.clipBox)this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len;a.call(this)});x(B,{Color:xa,Point:Ea,Tick:eb,Renderer:Za,SVGElement:X,SVGRenderer:za,arrayMin:Oa,arrayMax:Ga,charts:da,correctFloat:W,dateFormat:wa,error:ia,format:Na,pathAnim:void 0,getOptions:function(){return Q},hasBidiBug:bc,isTouchDevice:lb,setOptions:function(a){Q=
C(!0,Q,a);Qb();return Q},addEvent:E,removeEvent:V,createElement:ha,discardElement:Wa,css:N,each:o,map:va,merge:C,splat:ra,stableSort:pb,extendClass:pa,pInt:I,svg:ma,canvas:ta,vml:!ma&&!ta,product:"Highstock",version:"4.2.7"});return B});
(function(m){typeof module==="object"&&module.exports?module.exports=m:m(Highcharts)})(function(m){function M(a,b,c){this.init(a,b,c)}var R=m.arrayMin,S=m.arrayMax,s=m.each,J=m.extend,G=m.isNumber,v=m.merge,T=m.map,r=m.pick,B=m.pInt,H=m.correctFloat,p=m.getOptions().plotOptions,i=m.seriesTypes,t=m.extendClass,N=m.splat,w=m.wrap,O=m.Axis,z=m.Tick,I=m.Point,U=m.Pointer,V=m.CenteredSeriesMixin,C=m.TrackerMixin,x=m.Series,y=Math,F=y.round,D=y.floor,P=y.max,W=m.Color,n=function(){};J(M.prototype,{init:function(a,
b,c){var d=this,g=d.defaultOptions;d.chart=b;d.options=a=v(g,b.angular?{background:{}}:void 0,a);(a=a.background)&&s([].concat(N(a)).reverse(),function(a){var b=a.backgroundColor,g=c.userOptions,a=v(d.defaultBackgroundOptions,a);if(b)a.backgroundColor=b;a.color=a.backgroundColor;c.options.plotBands.unshift(a);g.plotBands=g.plotBands||[];g.plotBands!==c.options.plotBands&&g.plotBands.unshift(a)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",
borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var A=O.prototype,z=z.prototype,X={getOffset:n,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:n,setCategories:n,setTitle:n},Q={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",
minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(a){a=this.options=v(this.defaultOptions,this.defaultRadialOptions,a);if(!a.plotBands)a.plotBands=[]},getOffset:function(){A.getOffset.call(this);
this.chart.axisOffset[this.side]=0;this.center=this.pane.center=V.getCenter.call(this.pane)},getLinePath:function(a,b){var c=this.center,d,g=this.chart;d=r(b,c[2]/2-this.offset);this.isCircular||b!==void 0?c=this.chart.renderer.symbols.arc(this.left+c[0],this.top+c[1],d,d,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}):(d=this.postTranslate(this.angleRad,d),c=["M",c[0]+g.plotLeft,c[1]+g.plotTop,"L",d.x,d.y]);return c},setAxisTranslation:function(){A.setAxisTranslation.call(this);
if(this.center)this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0},beforeSetTickPositions:function(){(this.autoConnect=this.isCircular&&r(this.userMax,this.options.max)===void 0&&this.endAngleRad-this.startAngleRad===2*Math.PI)&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){A.setAxisSize.call(this);if(this.isRadial){this.center=
this.pane.center=m.CenteredSeriesMixin.getCenter.call(this.pane);if(this.isCircular)this.sector=this.endAngleRad-this.startAngleRad;this.len=this.width=this.height=this.center[2]*r(this.sector,1)/2}},getPosition:function(a,b){return this.postTranslate(this.isCircular?this.translate(a):this.angleRad,r(this.isCircular?b:this.translate(a),this.center[2]/2)-this.offset)},postTranslate:function(a,b){var c=this.chart,d=this.center,a=this.startAngleRad+a;return{x:c.plotLeft+d[0]+Math.cos(a)*b,y:c.plotTop+
d[1]+Math.sin(a)*b}},getPlotBandPath:function(a,b,c){var d=this.center,g=this.startAngleRad,e=d[2]/2,j=[r(c.outerRadius,"100%"),c.innerRadius,r(c.thickness,10)],l=Math.min(this.offset,0),h=/%$/,f,k=this.isCircular;this.options.gridLineInterpolation==="polygon"?d=this.getPlotLinePath(a).concat(this.getPlotLinePath(b,!0)):(a=Math.max(a,this.min),b=Math.min(b,this.max),k||(j[0]=this.translate(a),j[1]=this.translate(b)),j=T(j,function(a){h.test(a)&&(a=B(a,10)*e/100);return a}),c.shape==="circle"||!k?
(a=-Math.PI/2,b=Math.PI*1.5,f=!0):(a=g+this.translate(a),b=g+this.translate(b)),j[0]-=l,j[2]-=l,d=this.chart.renderer.symbols.arc(this.left+d[0],this.top+d[1],j[0],j[0],{start:Math.min(a,b),end:Math.max(a,b),innerR:r(j[1],j[0]-j[2]),open:f}));return d},getPlotLinePath:function(a,b){var c=this,d=c.center,g=c.chart,e=c.getPosition(a),j,l,h;c.isCircular?h=["M",d[0]+g.plotLeft,d[1]+g.plotTop,"L",e.x,e.y]:c.options.gridLineInterpolation==="circle"?(a=c.translate(a))&&(h=c.getLinePath(0,a)):(s(g.xAxis,
function(a){a.pane===c.pane&&(j=a)}),h=[],a=c.translate(a),d=j.tickPositions,j.autoConnect&&(d=d.concat([d[0]])),b&&(d=[].concat(d).reverse()),s(d,function(e,b){l=j.getPosition(e,a);h.push(b?"L":"M",l.x,l.y)}));return h},getTitlePosition:function(){var a=this.center,b=this.chart,c=this.options.title;return{x:b.plotLeft+a[0]+(c.x||0),y:b.plotTop+a[1]-{high:.5,middle:.25,low:0}[c.align]*a[2]+(c.y||0)}}};w(A,"init",function(a,b,c){var k;var d=b.angular,g=b.polar,e=c.isX,j=d&&e,l,h=b.options,f=c.pane||
0;if(d){if(J(this,j?X:Q),l=!e)this.defaultRadialOptions=this.defaultRadialGaugeOptions}else if(g)J(this,Q),this.defaultRadialOptions=(l=e)?this.defaultRadialXOptions:v(this.defaultYAxisOptions,this.defaultRadialYOptions);if(d||g)b.inverted=!1,h.chart.zoomType=null;a.call(this,b,c);if(!j&&(d||g)){a=this.options;if(!b.panes)b.panes=[];this.pane=(k=b.panes[f]=b.panes[f]||new M(N(h.pane)[f],b,this),b=k);b=b.options;this.angleRad=(a.angle||0)*Math.PI/180;this.startAngleRad=(b.startAngle-90)*Math.PI/180;
this.endAngleRad=(r(b.endAngle,b.startAngle+360)-90)*Math.PI/180;this.offset=a.offset||0;this.isCircular=l}});w(A,"autoLabelAlign",function(a){if(!this.isRadial)return a.apply(this,[].slice.call(arguments,1))});w(z,"getPosition",function(a,b,c,d,g){var e=this.axis;return e.getPosition?e.getPosition(c):a.call(this,b,c,d,g)});w(z,"getLabelPosition",function(a,b,c,d,g,e,j,l,h){var f=this.axis,k=e.y,o=20,u=e.align,i=(f.translate(this.pos)+f.startAngleRad+Math.PI/2)/Math.PI*180%360;f.isRadial?(a=f.getPosition(this.pos,
f.center[2]/2+r(e.distance,-25)),e.rotation==="auto"?d.attr({rotation:i}):k===null&&(k=f.chart.renderer.fontMetrics(d.styles.fontSize).b-d.getBBox().height/2),u===null&&(f.isCircular?(this.label.getBBox().width>f.len*f.tickInterval/(f.max-f.min)&&(o=0),u=i>o&&i<180-o?"left":i>180+o&&i<360-o?"right":"center"):u="center",d.attr({align:u})),a.x+=e.x,a.y+=k):a=a.call(this,b,c,d,g,e,j,l,h);return a});w(z,"getMarkPath",function(a,b,c,d,g,e,j){var l=this.axis;l.isRadial?(a=l.getPosition(this.pos,l.center[2]/
2+d),b=["M",b,c,"L",a.x,a.y]):b=a.call(this,b,c,d,g,e,j);return b});p.arearange=v(p.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}});i.arearange=t(i.area,{type:"arearange",pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(a){return[a.low,
a.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(a){var b=this.chart,c=this.xAxis.postTranslate(a.rectPlotX,this.yAxis.len-a.plotHigh);a.plotHighX=c.x-b.plotLeft;a.plotHigh=c.y-b.plotTop},translate:function(){var a=this,b=a.yAxis;i.area.prototype.translate.apply(a);s(a.points,function(a){var d=a.low,g=a.high,e=a.plotY;g===null||d===null?a.isNull=!0:(a.plotLow=e,a.plotHigh=b.translate(g,0,1,0,1))});this.chart.polar&&s(this.points,function(b){a.highToXY(b)})},getGraphPath:function(a){var b=
[],c=[],d,g=i.area.prototype.getGraphPath,e,j,l;l=this.options;var h=l.step,a=a||this.points;for(d=a.length;d--;)e=a[d],!e.isNull&&!l.connectEnds&&(!a[d+1]||a[d+1].isNull)&&c.push({plotX:e.plotX,plotY:e.plotY,doCurve:!1}),j={polarPlotY:e.polarPlotY,rectPlotX:e.rectPlotX,yBottom:e.yBottom,plotX:r(e.plotHighX,e.plotX),plotY:e.plotHigh,isNull:e.isNull},c.push(j),b.push(j),!e.isNull&&!l.connectEnds&&(!a[d-1]||a[d-1].isNull)&&c.push({plotX:e.plotX,plotY:e.plotY,doCurve:!1});a=g.call(this,a);if(h)h===!0&&
(h="left"),l.step={left:"right",center:"center",right:"left"}[h];b=g.call(this,b);c=g.call(this,c);l.step=h;l=[].concat(a,b);!this.chart.polar&&c[0]==="M"&&(c[0]="L");this.graphPath=l;this.areaPath=this.areaPath.concat(a,c);l.isArea=!0;l.xMap=a.xMap;this.areaPath.xMap=a.xMap;return l},drawDataLabels:function(){var a=this.data,b=a.length,c,d=[],g=x.prototype,e=this.options.dataLabels,j=e.align,l=e.verticalAlign,h=e.inside,f,k,o=this.chart.inverted;if(e.enabled||this._hasPointLabels){for(c=b;c--;)if(f=
a[c]){k=h?f.plotHigh<f.plotLow:f.plotHigh>f.plotLow;f.y=f.high;f._plotY=f.plotY;f.plotY=f.plotHigh;d[c]=f.dataLabel;f.dataLabel=f.dataLabelUpper;f.below=k;if(o){if(!j)e.align=k?"right":"left"}else if(!l)e.verticalAlign=k?"top":"bottom";e.x=e.xHigh;e.y=e.yHigh}g.drawDataLabels&&g.drawDataLabels.apply(this,arguments);for(c=b;c--;)if(f=a[c]){k=h?f.plotHigh<f.plotLow:f.plotHigh>f.plotLow;f.dataLabelUpper=f.dataLabel;f.dataLabel=d[c];f.y=f.low;f.plotY=f._plotY;f.below=!k;if(o){if(!j)e.align=k?"left":"right"}else if(!l)e.verticalAlign=
k?"bottom":"top";e.x=e.xLow;e.y=e.yLow}g.drawDataLabels&&g.drawDataLabels.apply(this,arguments)}e.align=j;e.verticalAlign=l},alignDataLabel:function(){i.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:n,getSymbol:n,drawPoints:n});p.areasplinerange=v(p.arearange);i.areasplinerange=t(i.arearange,{type:"areasplinerange",getPointSpline:i.spline.prototype.getPointSpline});(function(){var a=i.column.prototype;p.columnrange=v(p.column,p.arearange,{lineWidth:1,pointRange:null});i.columnrange=
t(i.arearange,{type:"columnrange",translate:function(){var b=this,c=b.yAxis,d=b.xAxis,g=d.startAngleRad,e,j=b.chart,l=b.xAxis.isRadial,h;a.translate.apply(b);s(b.points,function(a){var k=a.shapeArgs,o=b.options.minPointLength,u,i;a.plotHigh=h=c.translate(a.high,0,1,0,1);a.plotLow=a.plotY;i=h;u=r(a.rectPlotY,a.plotY)-h;Math.abs(u)<o?(o-=u,u+=o,i-=o/2):u<0&&(u*=-1,i-=u);l?(e=a.barX+g,a.shapeType="path",a.shapeArgs={d:b.polarArc(i+u,i,e,e+a.pointWidth)}):(k.height=u,k.y=i,a.tooltipPos=j.inverted?[c.len+
c.pos-j.plotLeft-i-u/2,d.len+d.pos-j.plotTop-k.x-k.width/2,u]:[d.left-j.plotLeft+k.x+k.width/2,c.pos-j.plotTop+i+u/2,u])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:n,crispCol:a.crispCol,pointAttrToOptions:a.pointAttrToOptions,drawPoints:a.drawPoints,drawTracker:a.drawTracker,getColumnMetrics:a.getColumnMetrics,animate:function(){return a.animate.apply(this,arguments)},polarArc:function(){return a.polarArc.apply(this,arguments)}})})();p.gauge=v(p.line,{dataLabels:{enabled:!0,
defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});C={type:"gauge",pointClass:t(I,{setState:function(a){this.state=a}}),angular:!0,directTouch:!0,drawGraph:n,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var a=this.yAxis,b=this.options,c=a.center;this.generatePoints();s(this.points,function(d){var g=v(b.dial,d.dial),e=B(r(g.radius,
80))*c[2]/200,j=B(r(g.baseLength,70))*e/100,l=B(r(g.rearLength,10))*e/100,h=g.baseWidth||3,f=g.topWidth||1,k=b.overshoot,o=a.startAngleRad+a.translate(d.y,null,null,null,!0);G(k)?(k=k/180*Math.PI,o=Math.max(a.startAngleRad-k,Math.min(a.endAngleRad+k,o))):b.wrap===!1&&(o=Math.max(a.startAngleRad,Math.min(a.endAngleRad,o)));o=o*180/Math.PI;d.shapeType="path";d.shapeArgs={d:g.path||["M",-l,-h/2,"L",j,-h/2,e,-f/2,e,f/2,j,h/2,-l,h/2,"z"],translateX:c[0],translateY:c[1],rotation:o};d.plotX=c[0];d.plotY=
c[1]})},drawPoints:function(){var a=this,b=a.yAxis.center,c=a.pivot,d=a.options,g=d.pivot,e=a.chart.renderer;s(a.points,function(b){var g=b.graphic,c=b.shapeArgs,f=c.d,k=v(d.dial,b.dial);g?(g.animate(c),c.d=f):b.graphic=e[b.shapeType](c).attr({stroke:k.borderColor||"none","stroke-width":k.borderWidth||0,fill:k.backgroundColor||"black",rotation:c.rotation,zIndex:1}).add(a.group)});c?c.animate({translateX:b[0],translateY:b[1]}):a.pivot=e.circle(0,0,r(g.radius,5)).attr({"stroke-width":g.borderWidth||
0,stroke:g.borderColor||"silver",fill:g.backgroundColor||"black",zIndex:2}).translate(b[0],b[1]).add(a.group)},animate:function(a){var b=this;if(!a)s(b.points,function(a){var d=a.graphic;d&&(d.attr({rotation:b.yAxis.startAngleRad*180/Math.PI}),d.animate({rotation:a.shapeArgs.rotation},b.options.animation))}),b.animate=null},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup);x.prototype.render.call(this);this.group.clip(this.chart.clipRect)},
setData:function(a,b){x.prototype.setData.call(this,a,!1);this.processData();this.generatePoints();r(b,!0)&&this.chart.redraw()},drawTracker:C&&C.drawTrackerPoint};i.gauge=t(i.line,C);p.boxplot=v(p.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},
whiskerLength:"50%",whiskerWidth:2});i.boxplot=t(i.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(a){return[a.low,a.q1,a.median,a.q3,a.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:n,translate:function(){var a=this.yAxis,b=this.pointArrayMap;i.column.prototype.translate.apply(this);s(this.points,function(c){s(b,function(b){c[b]!==null&&(c[b+"Plot"]=a.translate(c[b],0,1,0,1))})})},drawPoints:function(){var a=
this,b=a.options,c=a.chart.renderer,d,g,e,j,l,h,f,k,o,i,m,K,L,p,v,n,w,t,x,y,C,B,z=a.doQuartiles!==!1,A,E=a.options.whiskerLength;s(a.points,function(q){o=q.graphic;C=q.shapeArgs;m={};p={};n={};B=q.color||a.color;if(q.plotY!==void 0)if(d=q.pointAttr[q.selected?"selected":""],w=C.width,t=D(C.x),x=t+w,y=F(w/2),g=D(z?q.q1Plot:q.lowPlot),e=D(z?q.q3Plot:q.lowPlot),j=D(q.highPlot),l=D(q.lowPlot),m.stroke=q.stemColor||b.stemColor||B,m["stroke-width"]=r(q.stemWidth,b.stemWidth,b.lineWidth),m.dashstyle=q.stemDashStyle||
b.stemDashStyle,p.stroke=q.whiskerColor||b.whiskerColor||B,p["stroke-width"]=r(q.whiskerWidth,b.whiskerWidth,b.lineWidth),n.stroke=q.medianColor||b.medianColor||B,n["stroke-width"]=r(q.medianWidth,b.medianWidth,b.lineWidth),f=m["stroke-width"]%2/2,k=t+y+f,i=["M",k,e,"L",k,j,"M",k,g,"L",k,l],z&&(f=d["stroke-width"]%2/2,k=D(k)+f,g=D(g)+f,e=D(e)+f,t+=f,x+=f,K=["M",t,e,"L",t,g,"L",x,g,"L",x,e,"L",t,e,"z"]),E&&(f=p["stroke-width"]%2/2,j+=f,l+=f,A=/%$/.test(E)?y*parseFloat(E)/100:E/2,L=["M",k-A,j,"L",k+
A,j,"M",k-A,l,"L",k+A,l]),f=n["stroke-width"]%2/2,h=F(q.medianPlot)+f,v=["M",t,h,"L",x,h],o)q.stem.animate({d:i}),E&&q.whiskers.animate({d:L}),z&&q.box.animate({d:K}),q.medianShape.animate({d:v});else{q.graphic=o=c.g().add(a.group);q.stem=c.path(i).attr(m).add(o);if(E)q.whiskers=c.path(L).attr(p).add(o);if(z)q.box=c.path(K).attr(d).add(o);q.medianShape=c.path(v).attr(n).add(o)}})},setStackedPoints:n});p.errorbar=v(p.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},
whiskerWidth:null});i.errorbar=t(i.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(a){return[a.low,a.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:i.arearange?function(){var a=this.pointValKey;i.arearange.prototype.drawDataLabels.call(this);s(this.data,function(b){b.y=b[a]})}:n,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||i.column.prototype.getColumnMetrics.call(this)}});p.waterfall=v(p.column,{lineWidth:1,lineColor:"#333",
dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}});i.waterfall=t(i.column,{type:"waterfall",upColorProp:"fill",pointValKey:"y",pointClass:t(I,{isValid:function(){return G(this.y,!0)||this.isSum||this.isIntermediateSum}}),translate:function(){var a=this.options,b=this.yAxis,c,d,g,e,j,l,h,f,k,o=r(a.minPointLength,5),u=a.threshold,m=a.stacking;i.column.prototype.translate.apply(this);this.minPointLengthOffset=0;h=f=u;d=this.points;for(c=0,a=d.length;c<a;c++){g=
d[c];l=this.processedYData[c];e=g.shapeArgs;k=(j=m&&b.stacks[(this.negStacks&&l<u?"-":"")+this.stackKey])?j[g.x].points[this.index+","+c]:[0,l];if(g.isSum)g.y=H(l);else if(g.isIntermediateSum)g.y=H(l-f);j=P(h,h+g.y)+k[0];e.y=b.toPixels(j,!0);g.isSum?(e.y=b.toPixels(k[1],!0),e.height=Math.min(b.toPixels(k[0],!0),b.len)-e.y+this.minPointLengthOffset):g.isIntermediateSum?(e.y=b.toPixels(k[1],!0),e.height=Math.min(b.toPixels(f,!0),b.len)-e.y+this.minPointLengthOffset,f=k[1]):(e.height=l>0?b.toPixels(h,
!0)-e.y:b.toPixels(h,!0)-b.toPixels(h-l,!0),h+=l);e.height<0&&(e.y+=e.height,e.height*=-1);g.plotY=e.y=F(e.y)-this.borderWidth%2/2;e.height=P(F(e.height),.001);g.yBottom=e.y+e.height;if(e.height<=o)e.height=o,this.minPointLengthOffset+=o;e.y-=this.minPointLengthOffset;e=g.plotY+(g.negative?e.height:0)-this.minPointLengthOffset;this.chart.inverted?g.tooltipPos[0]=b.len-e:g.tooltipPos[1]=e}},processData:function(a){var b=this.yData,c=this.options.data,d,g=b.length,e,j,l,h,f,k;j=e=l=h=this.options.threshold||
0;for(k=0;k<g;k++)f=b[k],d=c&&c[k]?c[k]:{},f==="sum"||d.isSum?b[k]=H(j):f==="intermediateSum"||d.isIntermediateSum?b[k]=H(e):(j+=f,e+=f),l=Math.min(j,l),h=Math.max(j,h);x.prototype.processData.call(this,a);this.dataMin=l;this.dataMax=h},toYData:function(a){return a.isSum?a.x===0?null:"sum":a.isIntermediateSum?a.x===0?null:"intermediateSum":a.y},getAttribs:function(){i.column.prototype.getAttribs.apply(this,arguments);var a=this,b=a.options,c=b.states,d=b.upColor||a.color,b=m.Color(d).brighten(b.states.hover.brightness).get(),
g=v(a.pointAttr),e=a.upColorProp;g[""][e]=d;g.hover[e]=c.hover.upColor||b;g.select[e]=c.select.upColor||d;s(a.points,function(b){if(!b.options.color)b.y>0?(b.pointAttr=g,b.color=d):b.pointAttr=a.pointAttr})},getGraphPath:function(){var a=this.data,b=a.length,c=F(this.options.lineWidth+this.borderWidth)%2/2,d=[],g,e,j;for(j=1;j<b;j++)e=a[j].shapeArgs,g=a[j-1].shapeArgs,e=["M",g.x+g.width,g.y+c,"L",e.x,g.y+c],a[j-1].y<0&&(e[2]+=g.height,e[5]+=g.height),d=d.concat(e);return d},getExtremes:n,drawGraph:x.prototype.drawGraph});
p.polygon=v(p.scatter,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0});i.polygon=t(i.scatter,{type:"polygon",getGraphPath:function(){for(var a=x.prototype.getGraphPath.call(this),b=a.length+1;b--;)(b===a.length||a[b]==="M")&&b>0&&a.splice(b,0,"z");return this.areaPath=a},drawGraph:function(){this.options.fillColor=this.color;i.area.prototype.drawGraph.call(this)},drawLegendSymbol:m.LegendSymbolMixin.drawRectangle,drawTracker:x.prototype.drawTracker,
setStackedPoints:n});p.bubble=v(p.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});C=t(I,{haloPath:function(){return I.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1});i.bubble=t(i.scatter,
{type:"bubble",pointClass:C,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(a){var b=this.options.marker,c=r(b.fillOpacity,.5),a=a||b.fillColor||this.color;c!==1&&(a=W(a).setOpacity(c).get("rgba"));return a},convertAttribs:function(){var a=x.prototype.convertAttribs.apply(this,arguments);a.fill=this.applyOpacity(a.fill);
return a},getRadii:function(a,b,c,d){var g,e,j,l=this.zData,h=[],f=this.options,k=f.sizeBy!=="width",o=f.zThreshold,i=b-a;for(e=0,g=l.length;e<g;e++)j=l[e],f.sizeByAbsoluteValue&&j!==null&&(j=Math.abs(j-o),b=Math.max(b-o,Math.abs(a-o)),a=0),j===null?j=null:j<a?j=c/2-1:(j=i>0?(j-a)/i:.5,k&&j>=0&&(j=Math.sqrt(j)),j=y.ceil(c+j*(d-c))/2),h.push(j);this.radii=h},animate:function(a){var b=this.options.animation;if(!a)s(this.points,function(a){var d=a.graphic,a=a.shapeArgs;d&&a&&(d.attr("r",1),d.animate({r:a.r},
b))}),this.animate=null},translate:function(){var a,b=this.data,c,d,g=this.radii;i.scatter.prototype.translate.call(this);for(a=b.length;a--;)c=b[a],d=g?g[a]:0,G(d)&&d>=this.minPxSize/2?(c.shapeType="circle",c.shapeArgs={x:c.plotX,y:c.plotY,r:d},c.dlBox={x:c.plotX-d,y:c.plotY-d,width:2*d,height:2*d}):c.shapeArgs=c.plotY=c.dlBox=void 0},drawLegendSymbol:function(a,b){var c=this.chart.renderer,d=c.fontMetrics(a.itemStyle.fontSize).f/2;b.legendSymbol=c.circle(d,a.baseline-d,d).attr({zIndex:3}).add(b.legendGroup);
b.legendSymbol.isMarker=!0},drawPoints:i.column.prototype.drawPoints,alignDataLabel:i.column.prototype.alignDataLabel,buildKDTree:n,applyZones:n});O.prototype.beforePadding=function(){var a=this,b=this.len,c=this.chart,d=0,g=b,e=this.isXAxis,j=e?"xData":"yData",l=this.min,h={},f=y.min(c.plotWidth,c.plotHeight),k=Number.MAX_VALUE,i=-Number.MAX_VALUE,m=this.max-l,p=b/m,n=[];s(this.series,function(b){var g=b.options;if(b.bubblePadding&&(b.visible||!c.options.chart.ignoreHiddenSeries))if(a.allowZoomOutside=
!0,n.push(b),e)s(["minSize","maxSize"],function(a){var b=g[a],e=/%$/.test(b),b=B(b);h[a]=e?f*b/100:b}),b.minPxSize=h.minSize,b.maxPxSize=h.maxSize,b=b.zData,b.length&&(k=r(g.zMin,y.min(k,y.max(R(b),g.displayNegative===!1?g.zThreshold:-Number.MAX_VALUE))),i=r(g.zMax,y.max(i,S(b))))});s(n,function(b){var c=b[j],f=c.length,h;e&&b.getRadii(k,i,b.minPxSize,b.maxPxSize);if(m>0)for(;f--;)G(c[f])&&a.dataMin<=c[f]&&c[f]<=a.dataMax&&(h=b.radii[f],d=Math.min((c[f]-l)*p-h,d),g=Math.max((c[f]-l)*p+h,g))});n.length&&
m>0&&!this.isLog&&(g-=b,p*=(b+d-g)/b,s([["min","userMin",d],["max","userMax",g]],function(b){r(a.options[b[0]],a[b[1]])===void 0&&(a[b[0]]+=b[2]/p)}))};(function(){function a(a,b){var c=this.chart,d=this.options.animation,h=this.group,f=this.markerGroup,k=this.xAxis.center,i=c.plotLeft,m=c.plotTop;if(c.polar){if(c.renderer.isSVG)d===!0&&(d={}),b?(c={translateX:k[0]+i,translateY:k[1]+m,scaleX:.001,scaleY:.001},h.attr(c),f&&f.attr(c)):(c={translateX:i,translateY:m,scaleX:1,scaleY:1},h.animate(c,d),
f&&f.animate(c,d),this.animate=null)}else a.call(this,b)}var b=x.prototype,c=U.prototype,d;b.searchPointByAngle=function(a){var b=this.chart,c=this.xAxis.pane.center;return this.searchKDTree({clientX:180+Math.atan2(a.chartX-c[0]-b.plotLeft,a.chartY-c[1]-b.plotTop)*(-180/Math.PI)})};w(b,"buildKDTree",function(a){if(this.chart.polar)this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2;a.apply(this)});b.toXY=function(a){var b,c=this.chart,d=a.plotX;b=a.plotY;a.rectPlotX=d;a.rectPlotY=
b;b=this.xAxis.postTranslate(a.plotX,this.yAxis.len-b);a.plotX=a.polarPlotX=b.x-c.plotLeft;a.plotY=a.polarPlotY=b.y-c.plotTop;this.kdByAngle?(c=(d/Math.PI*180+this.xAxis.pane.options.startAngle)%360,c<0&&(c+=360),a.clientX=c):a.clientX=a.plotX};i.spline&&w(i.spline.prototype,"getPointSpline",function(a,b,c,d){var h,f,k,i,m,p,n;if(this.chart.polar){h=c.plotX;f=c.plotY;a=b[d-1];k=b[d+1];this.connectEnds&&(a||(a=b[b.length-2]),k||(k=b[1]));if(a&&k)i=a.plotX,m=a.plotY,b=k.plotX,p=k.plotY,i=(1.5*h+i)/
2.5,m=(1.5*f+m)/2.5,k=(1.5*h+b)/2.5,n=(1.5*f+p)/2.5,b=Math.sqrt(Math.pow(i-h,2)+Math.pow(m-f,2)),p=Math.sqrt(Math.pow(k-h,2)+Math.pow(n-f,2)),i=Math.atan2(m-f,i-h),m=Math.atan2(n-f,k-h),n=Math.PI/2+(i+m)/2,Math.abs(i-n)>Math.PI/2&&(n-=Math.PI),i=h+Math.cos(n)*b,m=f+Math.sin(n)*b,k=h+Math.cos(Math.PI+n)*p,n=f+Math.sin(Math.PI+n)*p,c.rightContX=k,c.rightContY=n;d?(c=["C",a.rightContX||a.plotX,a.rightContY||a.plotY,i||h,m||f,h,f],a.rightContX=a.rightContY=null):c=["M",h,f]}else c=a.call(this,b,c,d);
return c});w(b,"translate",function(a){var b=this.chart;a.call(this);if(b.polar&&(this.kdByAngle=b.tooltip&&b.tooltip.shared,!this.preventPostTranslate)){a=this.points;for(b=a.length;b--;)this.toXY(a[b])}});w(b,"getGraphPath",function(a,b){var c=this,d,h;if(this.chart.polar){b=b||this.points;for(d=0;d<b.length;d++)if(!b[d].isNull){h=d;break}if(this.options.connectEnds!==!1&&h!==void 0)this.connectEnds=!0,b.splice(b.length,0,b[h]);s(b,function(a){a.polarPlotY===void 0&&c.toXY(a)})}return a.apply(this,
[].slice.call(arguments,1))});w(b,"animate",a);if(i.column)d=i.column.prototype,d.polarArc=function(a,b,c,d){var h=this.xAxis.center,f=this.yAxis.len;return this.chart.renderer.symbols.arc(h[0],h[1],f-b,null,{start:c,end:d,innerR:f-r(a,f)})},w(d,"animate",a),w(d,"translate",function(a){var b=this.xAxis,c=b.startAngleRad,d,h,f;this.preventPostTranslate=!0;a.call(this);if(b.isRadial){d=this.points;for(f=d.length;f--;)h=d[f],a=h.barX+c,h.shapeType="path",h.shapeArgs={d:this.polarArc(h.yBottom,h.plotY,
a,a+h.pointWidth)},this.toXY(h),h.tooltipPos=[h.plotX,h.plotY],h.ttBelow=h.plotY>b.center[1]}}),w(d,"alignDataLabel",function(a,c,d,i,h,f){if(this.chart.polar){a=c.rectPlotX/Math.PI*180;if(i.align===null)i.align=a>20&&a<160?"left":a>200&&a<340?"right":"center";if(i.verticalAlign===null)i.verticalAlign=a<45||a>315?"bottom":a>135&&a<225?"top":"middle";b.alignDataLabel.call(this,c,d,i,h,f)}else a.call(this,c,d,i,h,f)});w(c,"getCoordinates",function(a,b){var c=this.chart,d={xAxis:[],yAxis:[]};c.polar?
s(c.axes,function(a){var f=a.isXAxis,g=a.center,i=b.chartX-g[0]-c.plotLeft,g=b.chartY-g[1]-c.plotTop;d[f?"xAxis":"yAxis"].push({axis:a,value:a.translate(f?Math.PI-Math.atan2(i,g):Math.sqrt(Math.pow(i,2)+Math.pow(g,2)),!0)})}):d=a.call(this,b);return d})})()});
(function(d){typeof module==="object"&&module.exports?module.exports=d:d(Highcharts)})(function(d){function C(c){return c!==void 0&&c!==null}function H(c){var b=0,a,f;for(a=0;a<c.length;a++)f=(a+1)%c.length,b+=c[a].x*c[f].y-c[f].x*c[a].y;return b/2}function D(c){var b=0,a;for(a=0;a<c.length;a++)b+=c[a].z;return c.length?b/c.length:0}function u(c,b,a,f,e,g,d,j){var k=[];g>e&&g-e>n/2+1E-4?(k=k.concat(u(c,b,a,f,e,e+n/2,d,j)),k=k.concat(u(c,b,a,f,e+n/2,g,d,j))):g<e&&e-g>n/2+1E-4?(k=k.concat(u(c,b,a,f,
e,e-n/2,d,j)),k=k.concat(u(c,b,a,f,e-n/2,g,d,j))):(k=g-e,k=["C",c+a*l(e)-a*E*k*q(e)+d,b+f*q(e)+f*E*k*l(e)+j,c+a*l(g)+a*E*k*q(g)+d,b+f*q(g)-f*E*k*l(g)+j,c+a*l(g)+d,b+f*q(g)+j]);return k}function L(c,b){var a=c.plotLeft,f=c.plotWidth+a,e=c.plotTop,g=c.plotHeight+e,d=a+c.plotWidth/2,j=e+c.plotHeight/2,k=Number.MAX_VALUE,h=-Number.MAX_VALUE,m=Number.MAX_VALUE,s=-Number.MAX_VALUE,l,p=1;l=[{x:a,y:e,z:0},{x:a,y:e,z:b}];t([0,1],function(a){l.push({x:f,y:l[a].y,z:l[a].z})});t([0,1,2,3],function(a){l.push({x:l[a].x,
y:g,z:l[a].z})});l=r(l,c,!1);t(l,function(a){k=Math.min(k,a.x);h=Math.max(h,a.x);m=Math.min(m,a.y);s=Math.max(s,a.y)});a>k&&(p=Math.min(p,1-Math.abs((a+d)/(k+d))%1));f<h&&(p=Math.min(p,(f-d)/(h-d)));e>m&&(p=m<0?Math.min(p,(e+j)/(-m+e+j)):Math.min(p,1-(e+j)/(m+j)%1));g<s&&(p=Math.min(p,Math.abs((g-j)/(s-j))));return p}function I(c){if(this.chart.is3d()){var b=this.chart.options.plotOptions.column.grouping;if(b!==void 0&&!b&&this.group.zIndex!==void 0&&!this.zIndexSet)this.group.attr({zIndex:this.group.zIndex*
10}),this.zIndexSet=!0;var a=this.options,f=this.options.states;this.borderWidth=a.borderWidth=C(a.edgeWidth)?a.edgeWidth:1;d.each(this.data,function(b){if(b.y!==null)b=b.pointAttr,this.borderColor=d.pick(a.edgeColor,b[""].fill),b[""].stroke=this.borderColor,b.hover.stroke=d.pick(f.hover.edgeColor,this.borderColor),b.select.stroke=d.pick(f.select.edgeColor,this.borderColor)})}c.apply(this,[].slice.call(arguments,1))}var M=d.animObject,t=d.each,N=d.extend,O=d.inArray,F=d.merge,A=d.pick,J=d.wrap,n=
Math.PI,B=n/180,q=Math.sin,l=Math.cos,K=Math.round,r=d.perspective=function(c,b,a){var f=b.options.chart.options3d,e=a?b.inverted:!1,g=b.plotWidth/2,i=b.plotHeight/2,j=f.depth/2,k=A(f.depth,1)*A(f.viewDistance,0),h=b.scale3d||1,m=B*f.beta*(e?-1:1),f=B*f.alpha*(e?-1:1),s=l(f),n=l(-m),p=q(f),o=q(-m);a||(g+=b.plotLeft,i+=b.plotTop);return d.map(c,function(a){var b;b=-p*o*((e?a.y:a.x)-g)+s*((e?a.x:a.y)-i)-n*p*((a.z||0)-j);var c=s*o*((e?a.y:a.x)-g)+p*((e?a.x:a.y)-i)+s*n*((a.z||0)-j),f=k>0&&k<Number.POSITIVE_INFINITY?
k/(c+j+k):1;a=(n*((e?a.y:a.x)-g)-o*((a.z||0)-j))*f;b*=f;a=a*h+g;b=b*h+i;return{x:e?b:a,y:e?a:b,z:c*h+j}})},E=4*(Math.sqrt(2)-1)/3/(n/2);d.SVGRenderer.prototype.toLinePath=function(c,b){var a=[];d.each(c,function(b){a.push("L",b.x,b.y)});c.length&&(a[0]="M",b&&a.push("Z"));return a};d.SVGRenderer.prototype.cuboid=function(c){var b=this.g(),c=this.cuboidPath(c);b.front=this.path(c[0]).attr({zIndex:c[3],"stroke-linejoin":"round"}).add(b);b.top=this.path(c[1]).attr({zIndex:c[4],"stroke-linejoin":"round"}).add(b);
b.side=this.path(c[2]).attr({zIndex:c[5],"stroke-linejoin":"round"}).add(b);b.fillSetter=function(a){var b=d.Color(a).brighten(.1).get(),c=d.Color(a).brighten(-.1).get();this.front.attr({fill:a});this.top.attr({fill:b});this.side.attr({fill:c});this.color=a;return this};b.opacitySetter=function(a){this.front.attr({opacity:a});this.top.attr({opacity:a});this.side.attr({opacity:a});return this};b.attr=function(a){if(a.shapeArgs||C(a.x))a=this.renderer.cuboidPath(a.shapeArgs||a),this.front.attr({d:a[0],
zIndex:a[3]}),this.top.attr({d:a[1],zIndex:a[4]}),this.side.attr({d:a[2],zIndex:a[5]});else return d.SVGElement.prototype.attr.call(this,a);return this};b.animate=function(a,b,c){C(a.x)&&C(a.y)?(a=this.renderer.cuboidPath(a),this.front.attr({zIndex:a[3]}).animate({d:a[0]},b,c),this.top.attr({zIndex:a[4]}).animate({d:a[1]},b,c),this.side.attr({zIndex:a[5]}).animate({d:a[2]},b,c),this.attr({zIndex:-a[6]})):a.opacity?(this.front.animate(a,b,c),this.top.animate(a,b,c),this.side.animate(a,b,c)):d.SVGElement.prototype.animate.call(this,
a,b,c);return this};b.destroy=function(){this.front.destroy();this.top.destroy();this.side.destroy();return null};b.attr({zIndex:-c[6]});return b};d.SVGRenderer.prototype.cuboidPath=function(c){function b(a){return h[a]}var a=c.x,f=c.y,e=c.z,g=c.height,i=c.width,j=c.depth,k=d.map,h=[{x:a,y:f,z:e},{x:a+i,y:f,z:e},{x:a+i,y:f+g,z:e},{x:a,y:f+g,z:e},{x:a,y:f+g,z:e+j},{x:a+i,y:f+g,z:e+j},{x:a+i,y:f,z:e+j},{x:a,y:f,z:e+j}],h=r(h,d.charts[this.chartIndex],c.insidePlotArea),e=function(a,c){var f=[],a=k(a,
b),c=k(c,b);H(a)<0?f=a:H(c)<0&&(f=c);return f},c=e([3,2,1,0],[7,6,5,4]),a=[4,5,2,3],f=e([1,6,7,0],a),e=e([1,2,5,6],[0,7,4,3]);return[this.toLinePath(c,!0),this.toLinePath(f,!0),this.toLinePath(e,!0),D(c),D(f),D(e),D(k(a,b))*9E9]};d.SVGRenderer.prototype.arc3d=function(c){function b(a){var b=!1,c={},f;for(f in a)O(f,e)!==-1&&(c[f]=a[f],delete a[f],b=!0);return b?c:!1}var a=this.g(),f=a.renderer,e="x,y,r,innerR,start,end".split(","),c=F(c);c.alpha*=B;c.beta*=B;a.top=f.path();a.side1=f.path();a.side2=
f.path();a.inn=f.path();a.out=f.path();a.onAdd=function(){var b=a.parentGroup;a.top.add(a);a.out.add(b);a.inn.add(b);a.side1.add(b);a.side2.add(b)};a.setPaths=function(b){var c=a.renderer.arc3dPath(b),f=c.zTop*100;a.attribs=b;a.top.attr({d:c.top,zIndex:c.zTop});a.inn.attr({d:c.inn,zIndex:c.zInn});a.out.attr({d:c.out,zIndex:c.zOut});a.side1.attr({d:c.side1,zIndex:c.zSide1});a.side2.attr({d:c.side2,zIndex:c.zSide2});a.zIndex=f;a.attr({zIndex:f});b.center&&(a.top.setRadialReference(b.center),delete b.center)};
a.setPaths(c);a.fillSetter=function(a){var b=d.Color(a).brighten(-.1).get();this.fill=a;this.side1.attr({fill:b});this.side2.attr({fill:b});this.inn.attr({fill:b});this.out.attr({fill:b});this.top.attr({fill:a});return this};t(["opacity","translateX","translateY","visibility"],function(b){a[b+"Setter"]=function(b,c){a[c]=b;t(["out","inn","side1","side2","top"],function(f){a[f].attr(c,b)})}});J(a,"attr",function(c,f,e){var d;if(typeof f==="object"&&(d=b(f)))N(a.attribs,d),a.setPaths(a.attribs);return c.call(this,
f,e)});J(a,"animate",function(a,c,f,e){var d=this.attribs,m,l;delete c.center;delete c.z;delete c.depth;delete c.alpha;delete c.beta;l=M(A(f,this.renderer.globalAnimation));if(l.duration){c=F(c);if(f=b(c))m=f,l.step=function(a,b){function c(a){return d[a]+(A(m[a],d[a])-d[a])*b.pos}b.elem.setPaths(F(d,{x:c("x"),y:c("y"),r:c("r"),innerR:c("innerR"),start:c("start"),end:c("end")}))};f=l}return a.call(this,c,f,e)});a.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();
this.side2.destroy();d.SVGElement.prototype.destroy.call(this)};a.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};a.show=function(){this.top.show();this.out.show();this.inn.show();this.side1.show();this.side2.show()};return a};d.SVGRenderer.prototype.arc3dPath=function(c){function b(a){a%=2*n;a>n&&(a=2*n-a);return a}var a=c.x,f=c.y,e=c.start,d=c.end-1E-5,i=c.r,j=c.innerR,k=c.depth,h=c.alpha,m=c.beta,s=l(e),t=q(e),c=l(d),p=q(d),o=i*l(m);i*=l(h);
var x=j*l(m),y=j*l(h),j=k*q(m),v=k*q(h),k=["M",a+o*s,f+i*t],k=k.concat(u(a,f,o,i,e,d,0,0)),k=k.concat(["L",a+x*c,f+y*p]),k=k.concat(u(a,f,x,y,d,e,0,0)),k=k.concat(["Z"]),r=m>0?n/2:0,m=h>0?0:n/2,r=e>-r?e:d>-r?-r:e,w=d<n-m?d:e<n-m?n-m:d,z=2*n-m,h=["M",a+o*l(r),f+i*q(r)],h=h.concat(u(a,f,o,i,r,w,0,0));d>z&&e<z?(h=h.concat(["L",a+o*l(w)+j,f+i*q(w)+v]),h=h.concat(u(a,f,o,i,w,z,j,v)),h=h.concat(["L",a+o*l(z),f+i*q(z)]),h=h.concat(u(a,f,o,i,z,d,0,0)),h=h.concat(["L",a+o*l(d)+j,f+i*q(d)+v]),h=h.concat(u(a,
f,o,i,d,z,j,v)),h=h.concat(["L",a+o*l(z),f+i*q(z)]),h=h.concat(u(a,f,o,i,z,w,0,0))):d>n-m&&e<n-m&&(h=h.concat(["L",a+o*l(w)+j,f+i*q(w)+v]),h=h.concat(u(a,f,o,i,w,d,j,v)),h=h.concat(["L",a+o*l(d),f+i*q(d)]),h=h.concat(u(a,f,o,i,d,w,0,0)));h=h.concat(["L",a+o*l(w)+j,f+i*q(w)+v]);h=h.concat(u(a,f,o,i,w,r,j,v));h=h.concat(["Z"]);m=["M",a+x*s,f+y*t];m=m.concat(u(a,f,x,y,e,d,0,0));m=m.concat(["L",a+x*l(d)+j,f+y*q(d)+v]);m=m.concat(u(a,f,x,y,d,e,j,v));m=m.concat(["Z"]);s=["M",a+o*s,f+i*t,"L",a+o*s+j,f+i*
t+v,"L",a+x*s+j,f+y*t+v,"L",a+x*s,f+y*t,"Z"];a=["M",a+o*c,f+i*p,"L",a+o*c+j,f+i*p+v,"L",a+x*c+j,f+y*p+v,"L",a+x*c,f+y*p,"Z"];p=Math.atan2(v,-j);f=Math.abs(d+p);c=Math.abs(e+p);e=Math.abs((e+d)/2+p);f=b(f);c=b(c);e=b(e);e*=1E5;d=c*1E5;f*=1E5;return{top:k,zTop:n*1E5+1,out:h,zOut:Math.max(e,d,f),inn:m,zInn:Math.max(e,d,f),side1:s,zSide1:f*.99,side2:a,zSide2:d*.99}};d.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled};d.wrap(d.Chart.prototype,"isInsidePlot",
function(c){return this.is3d()||c.apply(this,[].slice.call(arguments,1))});d.getOptions().chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}};d.wrap(d.Chart.prototype,"init",function(c){var b=[].slice.call(arguments,1),a;if(b[0].chart&&b[0].chart.options3d&&b[0].chart.options3d.enabled)b[0].chart.options3d.alpha=(b[0].chart.options3d.alpha||
0)%360,b[0].chart.options3d.beta=(b[0].chart.options3d.beta||0)%360,a=b[0].plotOptions||{},a=a.pie||{},a.borderColor=d.pick(a.borderColor,void 0);c.apply(this,b)});d.wrap(d.Chart.prototype,"setChartSize",function(c){var b=this.options.chart.options3d;c.apply(this,[].slice.call(arguments,1));if(this.is3d()){var a=this.inverted,f=this.clipBox,d=this.margin;f[a?"y":"x"]=-(d[3]||0);f[a?"x":"y"]=-(d[0]||0);f[a?"height":"width"]=this.chartWidth+(d[3]||0)+(d[1]||0);f[a?"width":"height"]=this.chartHeight+
(d[0]||0)+(d[2]||0);this.scale3d=1;if(b.fitToPlot===!0)this.scale3d=L(this,b.depth)}});d.wrap(d.Chart.prototype,"redraw",function(c){if(this.is3d())this.isDirtyBox=!0;c.apply(this,[].slice.call(arguments,1))});d.wrap(d.Chart.prototype,"renderSeries",function(c){var b=this.series.length;if(this.is3d())for(;b--;)c=this.series[b],c.translate(),c.render();else c.call(this)});d.Chart.prototype.retrieveStacks=function(c){var b=this.series,a={},f,e=1;d.each(this.series,function(d){f=A(d.options.stack,c?
0:b.length-1-d.index);a[f]?a[f].series.push(d):(a[f]={series:[d],position:e},e++)});a.totalStacks=e+1;return a};d.wrap(d.Axis.prototype,"setOptions",function(c,b){var a;c.call(this,b);if(this.chart.is3d())a=this.options,a.tickWidth=d.pick(a.tickWidth,0),a.gridLineWidth=d.pick(a.gridLineWidth,1)});d.wrap(d.Axis.prototype,"render",function(c){c.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var b=this.chart,a=b.renderer,d=b.options.chart.options3d,e=d.frame,g=e.bottom,i=e.back,e=e.side,
j=d.depth,k=this.height,h=this.width,l=this.left,n=this.top;if(!this.isZAxis)this.horiz?(i={x:l,y:n+(b.xAxis[0].opposite?-g.size:k),z:0,width:h,height:g.size,depth:j,insidePlotArea:!1},this.bottomFrame?this.bottomFrame.animate(i):this.bottomFrame=a.cuboid(i).attr({fill:g.color,zIndex:b.yAxis[0].reversed&&d.alpha>0?4:-1}).css({stroke:g.color}).add()):(d={x:l+(b.yAxis[0].opposite?0:-e.size),y:n+(b.xAxis[0].opposite?-g.size:0),z:j,width:h+e.size,height:k+g.size,depth:i.size,insidePlotArea:!1},this.backFrame?
this.backFrame.animate(d):this.backFrame=a.cuboid(d).attr({fill:i.color,zIndex:-3}).css({stroke:i.color}).add(),b={x:l+(b.yAxis[0].opposite?h:-e.size),y:n+(b.xAxis[0].opposite?-g.size:0),z:0,width:e.size,height:k+g.size,depth:j,insidePlotArea:!1},this.sideFrame?this.sideFrame.animate(b):this.sideFrame=a.cuboid(b).attr({fill:e.color,zIndex:-2}).css({stroke:e.color}).add())}});d.wrap(d.Axis.prototype,"getPlotLinePath",function(c){var b=c.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return b;
if(b===null)return b;var a=this.chart,d=a.options.chart.options3d,a=this.isZAxis?a.plotWidth:d.depth,d=this.opposite;this.horiz&&(d=!d);b=[this.swapZ({x:b[1],y:b[2],z:d?a:0}),this.swapZ({x:b[1],y:b[2],z:a}),this.swapZ({x:b[4],y:b[5],z:a}),this.swapZ({x:b[4],y:b[5],z:d?0:a})];b=r(b,this.chart,!1);return b=this.chart.renderer.toLinePath(b,!1)});d.wrap(d.Axis.prototype,"getLinePath",function(c){return this.chart.is3d()?[]:c.apply(this,[].slice.call(arguments,1))});d.wrap(d.Axis.prototype,"getPlotBandPath",
function(c){if(!this.chart.is3d())return c.apply(this,[].slice.call(arguments,1));var b=arguments,a=b[1],b=this.getPlotLinePath(b[2]);(a=this.getPlotLinePath(a))&&b?a.push("L",b[10],b[11],"L",b[7],b[8],"L",b[4],b[5],"L",b[1],b[2]):a=null;return a});d.wrap(d.Tick.prototype,"getMarkPath",function(c){var b=c.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return b;b=[this.axis.swapZ({x:b[1],y:b[2],z:0}),this.axis.swapZ({x:b[4],y:b[5],z:0})];b=r(b,this.axis.chart,!1);return b=["M",b[0].x,
b[0].y,"L",b[1].x,b[1].y]});d.wrap(d.Tick.prototype,"getLabelPosition",function(c){var b=c.apply(this,[].slice.call(arguments,1));this.axis.chart.is3d()&&(b=r([this.axis.swapZ({x:b.x,y:b.y,z:0})],this.axis.chart,!1)[0]);return b});d.wrap(d.Axis.prototype,"getTitlePosition",function(c){var b=this.chart.is3d(),a,d;if(b)d=this.axisTitleMargin,this.axisTitleMargin=0;a=c.apply(this,[].slice.call(arguments,1));if(b)a=r([this.swapZ({x:a.x,y:a.y,z:0})],this.chart,!1)[0],a[this.horiz?"y":"x"]+=(this.horiz?
1:-1)*(this.opposite?-1:1)*d,this.axisTitleMargin=d;return a});d.wrap(d.Axis.prototype,"drawCrosshair",function(c){var b=arguments;this.chart.is3d()&&b[2]&&(b[2]={plotX:b[2].plotXold||b[2].plotX,plotY:b[2].plotYold||b[2].plotY});c.apply(this,[].slice.call(b,1))});d.Axis.prototype.swapZ=function(c,b){if(this.isZAxis){var a=b?0:this.chart.plotLeft,d=this.chart;return{x:a+(d.yAxis[0].opposite?c.z:d.xAxis[0].width-c.z),y:c.y,z:c.x-a}}return c};var G=d.ZAxis=function(){this.isZAxis=!0;this.init.apply(this,
arguments)};d.extend(G.prototype,d.Axis.prototype);d.extend(G.prototype,{setOptions:function(c){c=d.merge({offset:0,lineWidth:0},c);d.Axis.prototype.setOptions.call(this,c);this.coll="zAxis"},setAxisSize:function(){d.Axis.prototype.setAxisSize.call(this);this.width=this.len=this.chart.options.chart.options3d.depth;this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var c=this,b=c.chart;c.hasVisibleSeries=!1;c.dataMin=c.dataMax=c.ignoreMinPadding=c.ignoreMaxPadding=
null;c.buildStacks&&c.buildStacks();d.each(c.series,function(a){if(a.visible||!b.options.chart.ignoreHiddenSeries)if(c.hasVisibleSeries=!0,a=a.zData,a.length)c.dataMin=Math.min(A(c.dataMin,a[0]),Math.min.apply(null,a)),c.dataMax=Math.max(A(c.dataMax,a[0]),Math.max.apply(null,a))})}});d.wrap(d.Chart.prototype,"getAxes",function(c){var b=this,a=this.options,a=a.zAxis=d.splat(a.zAxis||{});c.call(this);if(b.is3d())this.zAxis=[],d.each(a,function(a,c){a.index=c;a.isX=!0;(new G(b,a)).setScale()})});d.wrap(d.seriesTypes.column.prototype,
"translate",function(c){c.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var b=this.chart,a=this.options,f=a.depth||25,e=(a.stacking?a.stack||0:this._i)*(f+(a.groupZPadding||1));a.grouping!==!1&&(e=0);e+=a.groupZPadding||1;d.each(this.data,function(a){if(a.y!==null){var c=a.shapeArgs,d=a.tooltipPos;a.shapeType="cuboid";c.z=e;c.depth=f;c.insidePlotArea=!0;d=r([{x:d[0],y:d[1],z:e}],b,!0)[0];a.tooltipPos=[d.x,d.y]}});this.z=e}});d.wrap(d.seriesTypes.column.prototype,"animate",function(c){if(this.chart.is3d()){var b=
arguments[1],a=this.yAxis,f=this,e=this.yAxis.reversed;if(d.svg)b?d.each(f.data,function(b){if(b.y!==null&&(b.height=b.shapeArgs.height,b.shapey=b.shapeArgs.y,b.shapeArgs.height=1,!e))b.shapeArgs.y=b.stackY?b.plotY+a.translate(b.stackY):b.plotY+(b.negative?-b.height:b.height)}):(d.each(f.data,function(a){if(a.y!==null)a.shapeArgs.height=a.height,a.shapeArgs.y=a.shapey,a.graphic&&a.graphic.animate(a.shapeArgs,f.options.animation)}),this.drawDataLabels(),f.animate=null)}else c.apply(this,[].slice.call(arguments,
1))});d.wrap(d.seriesTypes.column.prototype,"init",function(c){c.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var b=this.options,a=b.grouping,d=b.stacking,e=A(this.yAxis.options.reversedStacks,!0),g=0;if(a===void 0||a){a=this.chart.retrieveStacks(d);g=b.stack||0;for(d=0;d<a[g].series.length;d++)if(a[g].series[d]===this)break;g=10*(a.totalStacks-a[g].position)+(e?d:-d);this.xAxis.reversed||(g=a.totalStacks*10-g)}b.zIndex=g}});d.wrap(d.Series.prototype,"alignDataLabel",function(c){if(this.chart.is3d()&&
(this.type==="column"||this.type==="columnrange")){var b=arguments[4],a={x:b.x,y:b.y,z:this.z},a=r([a],this.chart,!0)[0];b.x=a.x;b.y=a.y}c.apply(this,[].slice.call(arguments,1))});d.seriesTypes.columnrange&&d.wrap(d.seriesTypes.columnrange.prototype,"drawPoints",I);d.wrap(d.seriesTypes.column.prototype,"drawPoints",I);d.wrap(d.seriesTypes.pie.prototype,"translate",function(c){c.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var b=this,a=b.options,d=a.depth||0,e=b.chart.options.chart.options3d,
g=e.alpha,i=e.beta,j=a.stacking?(a.stack||0)*d:b._i*d;j+=d/2;a.grouping!==!1&&(j=0);t(b.data,function(c){var e=c.shapeArgs;c.shapeType="arc3d";e.z=j;e.depth=d*.75;e.alpha=g;e.beta=i;e.center=b.center;e=(e.end+e.start)/2;c.slicedTranslation={translateX:K(l(e)*a.slicedOffset*l(g*B)),translateY:K(q(e)*a.slicedOffset*l(g*B))}})}});d.wrap(d.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(c){var b=arguments;return this.series.chart.is3d()?[]:c.call(this,b[1])});d.wrap(d.seriesTypes.pie.prototype,
"drawPoints",function(c){var b=this.options,a=b.states;if(this.chart.is3d())this.borderWidth=b.borderWidth=b.edgeWidth||1,this.borderColor=b.edgeColor=d.pick(b.edgeColor,b.borderColor,void 0),a.hover.borderColor=d.pick(a.hover.edgeColor,this.borderColor),a.hover.borderWidth=d.pick(a.hover.edgeWidth,this.borderWidth),a.select.borderColor=d.pick(a.select.edgeColor,this.borderColor),a.select.borderWidth=d.pick(a.select.edgeWidth,this.borderWidth),t(this.data,function(b){var c=b.pointAttr;c[""].stroke=
b.series.borderColor||b.color;c[""]["stroke-width"]=b.series.borderWidth;c.hover.stroke=a.hover.borderColor;c.hover["stroke-width"]=a.hover.borderWidth;c.select.stroke=a.select.borderColor;c.select["stroke-width"]=a.select.borderWidth});c.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&t(this.points,function(a){var b=a.graphic;if(b)b[a.y&&a.visible?"show":"hide"]()})});d.wrap(d.seriesTypes.pie.prototype,"drawDataLabels",function(c){if(this.chart.is3d()){var b=this.chart.options.chart.options3d;
t(this.data,function(a){var c=a.shapeArgs,d=c.r,g=(c.beta||b.beta)*B,i=(c.start+c.end)/2,j=a.labelPos,k=-d*(1-l((c.alpha||b.alpha)*B))*q(i),h=d*(l(g)-1)*l(i);t([0,2,4],function(a){j[a]+=h;j[a+1]+=k})})}c.apply(this,[].slice.call(arguments,1))});d.wrap(d.seriesTypes.pie.prototype,"addPoint",function(c){c.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.update(this.userOptions,!0)});d.wrap(d.seriesTypes.pie.prototype,"animate",function(c){if(this.chart.is3d()){var b=arguments[1],a=this.options.animation,
f=this.center,e=this.group,g=this.markerGroup;if(d.svg)if(a===!0&&(a={}),b){if(e.oldtranslateX=e.translateX,e.oldtranslateY=e.translateY,b={translateX:f[0],translateY:f[1],scaleX:.001,scaleY:.001},e.attr(b),g)g.attrSetters=e.attrSetters,g.attr(b)}else b={translateX:e.oldtranslateX,translateY:e.oldtranslateY,scaleX:1,scaleY:1},e.animate(b,a),g&&g.animate(b,a),this.animate=null}else c.apply(this,[].slice.call(arguments,1))});d.wrap(d.seriesTypes.scatter.prototype,"translate",function(c){c.apply(this,
[].slice.call(arguments,1));if(this.chart.is3d()){var b=this.chart,a=d.pick(this.zAxis,b.options.zAxis[0]),f=[],e,g,i;for(i=0;i<this.data.length;i++)e=this.data[i],g=a.isLog&&a.val2lin?a.val2lin(e.z):e.z,e.plotZ=a.translate(g),e.isInside=e.isInside?g>=a.min&&g<=a.max:!1,f.push({x:e.plotX,y:e.plotY,z:e.plotZ});b=r(f,b,!0);for(i=0;i<this.data.length;i++)e=this.data[i],a=b[i],e.plotXold=e.plotX,e.plotYold=e.plotY,e.plotZold=e.plotZ,e.plotX=a.x,e.plotY=a.y,e.plotZ=a.z}});d.wrap(d.seriesTypes.scatter.prototype,
"init",function(c,b,a){if(b.is3d())this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"],this.directTouch=!0;c=c.apply(this,[b,a]);if(this.chart.is3d())this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>":"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>";return c});if(d.VMLRenderer)d.setOptions({animate:!1}),
d.VMLRenderer.prototype.cuboid=d.SVGRenderer.prototype.cuboid,d.VMLRenderer.prototype.cuboidPath=d.SVGRenderer.prototype.cuboidPath,d.VMLRenderer.prototype.toLinePath=d.SVGRenderer.prototype.toLinePath,d.VMLRenderer.prototype.createElement3D=d.SVGRenderer.prototype.createElement3D,d.VMLRenderer.prototype.arc3d=function(c){c=d.SVGRenderer.prototype.arc3d.call(this,c);c.css({zIndex:c.zIndex});return c},d.VMLRenderer.prototype.arc3dPath=d.SVGRenderer.prototype.arc3dPath,d.wrap(d.Axis.prototype,"render",
function(c){c.apply(this,[].slice.call(arguments,1));this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color}));this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color}));this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))})});
(function(f){typeof module==="object"&&module.exports?module.exports=f:f(Highcharts)})(function(f){var s=f.win,j=s.document,B=f.Chart,u=f.addEvent,C=f.removeEvent,D=f.fireEvent,r=f.createElement,t=f.discardElement,w=f.css,l=f.merge,m=f.each,q=f.extend,F=f.splat,G=Math.max,H=f.isTouchDevice,I=f.Renderer.prototype.symbols,z=f.getOptions(),A;q(z.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",
contextButtonTitle:"Chart context menu"});z.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:H?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}};
z.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},
{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};f.post=function(a,b,e){var c,a=r("form",l({method:"post",action:a,enctype:"multipart/form-data"},e),{display:"none"},j.body);for(c in b)r("input",{type:"hidden",name:c,value:b[c]},null,a);a.submit();t(a)};q(B.prototype,{sanitizeSVG:function(a){return a.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,
"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad").replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,
'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(a){return a.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(a){var b=this,e,c,g,k,h,d=l(b.options,a),n=d.exporting.allowHTML;if(!j.createElementNS)j.createElementNS=function(a,b){return j.createElement(b)};c=r("div",null,
{position:"absolute",top:"-9999em",width:b.chartWidth+"px",height:b.chartHeight+"px"},j.body);g=b.renderTo.style.width;h=b.renderTo.style.height;g=d.exporting.sourceWidth||d.chart.width||/px$/.test(g)&&parseInt(g,10)||600;h=d.exporting.sourceHeight||d.chart.height||/px$/.test(h)&&parseInt(h,10)||400;q(d.chart,{animation:!1,renderTo:c,forExport:!0,renderer:"SVGRenderer",width:g,height:h});d.exporting.enabled=!1;delete d.data;d.series=[];m(b.series,function(a){k=l(a.userOptions,{animation:!1,enableMouseTracking:!1,
showCheckbox:!1,visible:a.visible});k.isInternal||d.series.push(k)});a&&m(["xAxis","yAxis"],function(b){m(F(a[b]),function(a,c){d[b][c]=l(d[b][c],a)})});e=new f.Chart(d,b.callback);m(["xAxis","yAxis"],function(a){m(b[a],function(b,c){var d=e[a][c],f=b.getExtremes(),g=f.userMin,f=f.userMax;d&&(g!==void 0||f!==void 0)&&d.setExtremes(g,f,!0,!1)})});g=e.getChartHTML();d=null;e.destroy();t(c);if(n&&(c=g.match(/<\/svg>(.*?$)/)))c='<foreignObject x="0" y="0" width="200" height="200"><body xmlns="http://www.w3.org/1999/xhtml">'+
c[1]+"</body></foreignObject>",g=g.replace("</svg>",c+"</svg>");g=this.sanitizeSVG(g);return g=g.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(a,b){var e=this.options.exporting;return this.getSVG(l({chart:{borderRadius:0}},e.chartOptions,b,{exporting:{sourceWidth:a&&a.sourceWidth||e.sourceWidth,sourceHeight:a&&a.sourceHeight||e.sourceHeight}}))},exportChart:function(a,b){var e=this.getSVGForExport(a,b),a=l(this.options.exporting,a);f.post(a.url,
{filename:a.filename||"chart",type:a.type,width:a.width||0,scale:a.scale,svg:e},a.formAttributes)},print:function(){var a=this,b=a.container,e=[],c=b.parentNode,f=j.body,k=f.childNodes,h=a.options.exporting.printMaxWidth,d,n;if(!a.isPrinting){a.isPrinting=!0;a.pointer.reset(null,0);D(a,"beforePrint");if(n=h&&a.chartWidth>h)d=[a.options.chart.width,void 0,!1],a.setSize(h,void 0,!1);m(k,function(a,b){if(a.nodeType===1)e[b]=a.style.display,a.style.display="none"});f.appendChild(b);s.focus();s.print();
setTimeout(function(){c.appendChild(b);m(k,function(a,b){if(a.nodeType===1)a.style.display=e[b]});a.isPrinting=!1;n&&a.setSize.apply(a,d);D(a,"afterPrint")},1E3)}},contextMenu:function(a,b,e,c,f,k,h){var d=this,n=d.options.navigation,l=n.menuItemStyle,o=d.chartWidth,p=d.chartHeight,E="cache-"+a,i=d[E],v=G(f,k),x,y,s,t=function(b){d.pointer.inClass(b.target,a)||y()};if(!i)d[E]=i=r("div",{className:a},{position:"absolute",zIndex:1E3,padding:v+"px"},d.container),x=r("div",null,q({MozBoxShadow:"3px 3px 10px #888",
WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},n.menuStyle),i),y=function(){w(i,{display:"none"});h&&h.setState(0);d.openMenu=!1},u(i,"mouseleave",function(){s=setTimeout(y,500)}),u(i,"mouseenter",function(){clearTimeout(s)}),u(j,"mouseup",t),u(d,"destroy",function(){C(j,"mouseup",t)}),m(b,function(a){if(a){var b=a.separator?r("hr",null,null,x):r("div",{onmouseover:function(){w(this,n.menuItemHoverStyle)},onmouseout:function(){w(this,l)},onclick:function(b){b&&b.stopPropagation();
y();a.onclick&&a.onclick.apply(d,arguments)},innerHTML:a.text||d.options.lang[a.textKey]},q({cursor:"pointer"},l),x);d.exportDivElements.push(b)}}),d.exportDivElements.push(x,i),d.exportMenuWidth=i.offsetWidth,d.exportMenuHeight=i.offsetHeight;b={display:"block"};e+d.exportMenuWidth>o?b.right=o-e-f-v+"px":b.left=e-v+"px";c+k+d.exportMenuHeight>p&&h.alignOptions.verticalAlign!=="top"?b.bottom=p-c-v+"px":b.top=c+k-v+"px";w(i,b);d.openMenu=!0},addButton:function(a){var b=this,e=b.renderer,c=l(b.options.navigation.buttonOptions,
a),g=c.onclick,k=c.menuItems,h,d,n={stroke:c.symbolStroke,fill:c.symbolFill},j=c.symbolSize||12;if(!b.btnCount)b.btnCount=0;if(!b.exportDivElements)b.exportDivElements=[],b.exportSVGElements=[];if(c.enabled!==!1){var o=c.theme,p=o.states,m=p&&p.hover,p=p&&p.select,i;delete o.states;g?i=function(a){a.stopPropagation();g.call(b,a)}:k&&(i=function(){b.contextMenu(d.menuClassName,k,d.translateX,d.translateY,d.width,d.height,d);d.setState(2)});c.text&&c.symbol?o.paddingLeft=f.pick(o.paddingLeft,25):c.text||
q(o,{width:c.width,height:c.height,padding:0});d=e.button(c.text,0,0,i,o,m,p).attr({title:b.options.lang[c._titleKey],"stroke-linecap":"round",zIndex:3});d.menuClassName=a.menuClassName||"highcharts-menu-"+b.btnCount++;c.symbol&&(h=e.symbol(c.symbol,c.symbolX-j/2,c.symbolY-j/2,j,j).attr(q(n,{"stroke-width":c.symbolStrokeWidth||1,zIndex:1})).add(d));d.add().align(q(c,{width:d.width,x:f.pick(c.x,A)}),!0,"spacingBox");A+=(d.width+c.buttonSpacing)*(c.align==="right"?-1:1);b.exportSVGElements.push(d,h)}},
destroyExport:function(a){var a=a.target,b,e;for(b=0;b<a.exportSVGElements.length;b++)if(e=a.exportSVGElements[b])e.onclick=e.ontouchstart=null,a.exportSVGElements[b]=e.destroy();for(b=0;b<a.exportDivElements.length;b++)e=a.exportDivElements[b],C(e,"mouseleave"),a.exportDivElements[b]=e.onmouseout=e.onmouseover=e.ontouchstart=e.onclick=null,t(e)}});I.menu=function(a,b,e,c){return["M",a,b+2.5,"L",a+e,b+2.5,"M",a,b+c/2+.5,"L",a+e,b+c/2+.5,"M",a,b+c-1.5,"L",a+e,b+c-1.5]};B.prototype.callbacks.push(function(a){var b,
e=a.options.exporting,c=e.buttons;A=0;if(e.enabled!==!1){for(b in c)a.addButton(c[b]);u(a,"destroy",a.destroyExport)}})});
(function(a){typeof module==="object"&&module.exports?module.exports=a:a(Highcharts)})(function(a){var q=a.getOptions().plotOptions,r=a.pInt,s=a.pick,k=a.each,t=a.isNumber,l;q.solidgauge=a.merge(q.gauge,{colorByPoint:!0});l={initDataClasses:function(b){var e=this,i=this.chart,c,g=0,d=this.options;this.dataClasses=c=[];k(b.dataClasses,function(f,h){var p,f=a.merge(f);c.push(f);if(!f.color)d.dataClassColor==="category"?(p=i.options.colors,f.color=p[g++],g===p.length&&(g=0)):f.color=e.tweenColors(a.Color(d.minColor),
a.Color(d.maxColor),h/(b.dataClasses.length-1))})},initStops:function(b){this.stops=b.stops||[[0,this.options.minColor],[1,this.options.maxColor]];k(this.stops,function(b){b.color=a.Color(b[1])})},toColor:function(b,e){var a,c=this.stops,g,d=this.dataClasses,f,h;if(d)for(h=d.length;h--;){if(f=d[h],g=f.from,c=f.to,(g===void 0||b>=g)&&(c===void 0||b<=c)){a=f.color;if(e)e.dataClass=h;break}}else{this.isLog&&(b=this.val2lin(b));a=1-(this.max-b)/(this.max-this.min);for(h=c.length;h--;)if(a>c[h][0])break;
g=c[h]||c[h+1];c=c[h+1]||g;a=1-(c[0]-a)/(c[0]-g[0]||1);a=this.tweenColors(g.color,c.color,a)}return a},tweenColors:function(b,a,i){var c;!a.rgba.length||!b.rgba.length?b=a.input||"none":(b=b.rgba,a=a.rgba,c=a[3]!==1||b[3]!==1,b=(c?"rgba(":"rgb(")+Math.round(a[0]+(b[0]-a[0])*(1-i))+","+Math.round(a[1]+(b[1]-a[1])*(1-i))+","+Math.round(a[2]+(b[2]-a[2])*(1-i))+(c?","+(a[3]+(b[3]-a[3])*(1-i)):"")+")");return b}};k(["fill","stroke"],function(b){a.Fx.prototype[b+"Setter"]=function(){this.elem.attr(b,l.tweenColors(a.Color(this.start),
a.Color(this.end),this.pos))}});a.seriesTypes.solidgauge=a.extendClass(a.seriesTypes.gauge,{type:"solidgauge",pointAttrToOptions:{},bindAxes:function(){var b;a.seriesTypes.gauge.prototype.bindAxes.call(this);b=this.yAxis;a.extend(b,l);b.options.dataClasses&&b.initDataClasses(b.options);b.initStops(b.options)},drawPoints:function(){var b=this,e=b.yAxis,i=e.center,c=b.options,g=b.chart.renderer,d=c.overshoot,f=t(d)?d/180*Math.PI:0;a.each(b.points,function(a){var d=a.graphic,j=e.startAngleRad+e.translate(a.y,
null,null,null,!0),k=r(s(a.options.radius,c.radius,100))*i[2]/200,m=r(s(a.options.innerRadius,c.innerRadius,60))*i[2]/200,n=e.toColor(a.y,a),o=Math.min(e.startAngleRad,e.endAngleRad),l=Math.max(e.startAngleRad,e.endAngleRad);n==="none"&&(n=a.color||b.color||"none");if(n!=="none")a.color=n;j=Math.max(o-f,Math.min(l+f,j));c.wrap===!1&&(j=Math.max(o,Math.min(l,j)));o=Math.min(j,e.startAngleRad);j=Math.max(j,e.startAngleRad);j-o>2*Math.PI&&(j=o+2*Math.PI);a.shapeArgs=m={x:i[0],y:i[1],r:k,innerR:m,start:o,
end:j,fill:n};a.startR=k;if(d){if(a=m.d,d.animate(m),a)m.d=a}else d={stroke:c.borderColor||"none","stroke-width":c.borderWidth||0,fill:n,"sweep-flag":0},c.linecap!=="square"&&(d["stroke-linecap"]=d["stroke-linejoin"]="round"),a.graphic=g.arc(m).attr(d).add(b.group)})},animate:function(b){if(!b)this.startAngleRad=this.yAxis.startAngleRad,a.seriesTypes.pie.prototype.animate.call(this,b)}})});
(function(b){typeof module==="object"&&module.exports?module.exports=b:b(Highcharts)})(function(b){var r=b.getOptions(),x=r.plotOptions,s=b.seriesTypes,F=b.merge,E=function(){},B=b.each;x.funnel=F(x.pie,{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,dataLabels:{connectorWidth:1,connectorColor:"#606060"},size:!0,states:{select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}}});s.funnel=b.extendClass(s.pie,{type:"funnel",animate:E,translate:function(){var a=
function(i,a){return/%$/.test(i)?a*parseInt(i,10)/100:parseInt(i,10)},b=0,d=this.chart,c=this.options,e=c.reversed,f=c.ignoreHiddenPoint,p=d.plotWidth,d=d.plotHeight,n=0,r=c.center,g=a(r[0],p),o=a(r[1],d),s=a(c.width,p),j,t,k=a(c.height,d),u=a(c.neckWidth,p),C=a(c.neckHeight,d),v=o-k/2+k-C,a=this.data,y,z,x=c.dataLabels.position==="left"?1:0,A,l,D,q,h,w,m;this.getWidthAt=t=function(i){var a=o-k/2;return i>v||k===C?u:u+(s-u)*(1-(i-a)/(k-C))};this.getX=function(i,a){return g+(a?-1:1)*(t(e?2*o-i:i)/
2+c.dataLabels.distance)};this.center=[g,o,k];this.centerX=g;B(a,function(a){if(!f||a.visible!==!1)b+=a.y});B(a,function(a){m=null;z=b?a.y/b:0;l=o-k/2+n*k;h=l+z*k;j=t(l);A=g-j/2;D=A+j;j=t(h);q=g-j/2;w=q+j;l>v?(A=q=g-u/2,D=w=g+u/2):h>v&&(m=h,j=t(v),q=g-j/2,w=q+j,h=v);e&&(l=2*o-l,h=2*o-h,m=m?2*o-m:null);y=["M",A,l,"L",D,l,w,h];m&&y.push(w,m,q,m);y.push(q,h,"Z");a.shapeType="path";a.shapeArgs={d:y};a.percentage=z*100;a.plotX=g;a.plotY=(l+(m||h))/2;a.tooltipPos=[g,a.plotY];a.slice=E;a.half=x;if(!f||a.visible!==
!1)n+=z})},drawPoints:function(){var a=this,b=a.chart.renderer,d,c,e;B(a.data,function(f){e=f.graphic;c=f.shapeArgs;d=f.pointAttr[f.selected?"select":""];e?e.attr(d).animate(c):f.graphic=b.path(c).attr(d).add(a.group)})},sortByAngle:function(a){a.sort(function(a,b){return a.plotY-b.plotY})},drawDataLabels:function(){var a=this.data,b=this.options.dataLabels.distance,d,c,e,f=a.length,p,n;for(this.center[2]-=2*b;f--;)e=a[f],c=(d=e.half)?1:-1,n=e.plotY,p=this.getX(n,d),e.labelPos=[0,n,p+(b-5)*c,n,p+
b*c,n,d?"right":"left",0];s.pie.prototype.drawDataLabels.call(this)}});r.plotOptions.pyramid=b.merge(r.plotOptions.funnel,{neckWidth:"0%",neckHeight:"0%",reversed:!0});b.seriesTypes.pyramid=b.extendClass(b.seriesTypes.funnel,{type:"pyramid"})});
(function(a){typeof module==="object"&&module.exports?module.exports=a:a(Highcharts)})(function(a){function h(){return!!this.points.length}function d(){this.hasData()?this.hideNoData():this.showNoData()}var e=a.seriesTypes,c=a.Chart.prototype,f=a.getOptions(),g=a.extend,i=a.each;g(f.lang,{noData:"No data to display"});f.noData={position:{x:0,y:0,align:"center",verticalAlign:"middle"},attr:{},style:{fontWeight:"bold",fontSize:"12px",color:"#60606a"}};i(["pie","gauge","waterfall","bubble","treemap"],
function(b){if(e[b])e[b].prototype.hasData=h});a.Series.prototype.hasData=function(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0};c.showNoData=function(b){var a=this.options,b=b||a.lang.noData,a=a.noData;if(!this.noDataLabel)this.noDataLabel=this.renderer.label(b,0,0,null,null,null,a.useHTML,null,"no-data").attr(a.attr).css(a.style).add(),this.noDataLabel.align(g(this.noDataLabel.getBBox(),a.position),!1,"plotBox")};c.hideNoData=function(){if(this.noDataLabel)this.noDataLabel=
this.noDataLabel.destroy()};c.hasData=function(){for(var a=this.series,c=a.length;c--;)if(a[c].hasData()&&!a[c].options.isInternal)return!0;return!1};c.callbacks.push(function(b){a.addEvent(b,"load",d);a.addEvent(b,"redraw",d)})});
(function(l){var n=l.Chart,m=l.each,o=l.pick,p=l.addEvent;n.prototype.callbacks.push(function(e){function f(){var d=[];m(e.series,function(a){var b=a.options.dataLabels,c=a.dataLabelCollections||["dataLabel"];(b.enabled||a._hasPointLabels)&&!b.allowOverlap&&a.visible&&m(c,function(b){m(a.points,function(a){if(a[b])a[b].labelrank=o(a.labelrank,a.shapeArgs&&a.shapeArgs.height),d.push(a[b])})})});e.hideOverlappingLabels(d)}f();p(e,"redraw",f)});n.prototype.hideOverlappingLabels=function(e){var f=e.length,
d,a,b,c,g,h,i,j,k;for(a=0;a<f;a++)if(d=e[a])d.oldOpacity=d.opacity,d.newOpacity=1;e.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)});for(a=0;a<f;a++){b=e[a];for(d=a+1;d<f;++d)if(c=e[d],b&&c&&b.placed&&c.placed&&b.newOpacity!==0&&c.newOpacity!==0&&(g=b.alignAttr,h=c.alignAttr,i=b.parentGroup,j=c.parentGroup,k=2*(b.box?0:b.padding),g=!(h.x+j.translateX>g.x+i.translateX+(b.width-k)||h.x+j.translateX+(c.width-k)<g.x+i.translateX||h.y+j.translateY>g.y+i.translateY+(b.height-k)||h.y+j.translateY+
(c.height-k)<g.y+i.translateY)))(b.labelrank<c.labelrank?b:c).newOpacity=0}m(e,function(a){var b,c;if(a){c=a.newOpacity;if(a.oldOpacity!==c&&a.placed)c?a.show(!0):b=function(){a.hide()},a.alignAttr.opacity=c,a[a.isOld?"animate":"attr"](a.alignAttr,null,b);a.isOld=!0}})}})(Highcharts);
(function(g){typeof module==="object"&&module.exports?module.exports=g:g(Highcharts)})(function(g){var v=g.win.document,k=g.each,w=g.pick,s=g.inArray,t=g.isNumber,x=g.splat,l,p=function(b,a){this.init(b,a)};g.extend(p.prototype,{init:function(b,a){this.options=b;this.chartOptions=a;this.columns=b.columns||this.rowsToColumns(b.rows)||[];this.firstRowAsNames=w(b.firstRowAsNames,!0);this.decimalRegex=b.decimalPoint&&RegExp("^(-?[0-9]+)"+b.decimalPoint+"([0-9]+)$");this.rawColumns=[];this.columns.length?
this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var b=this.chartOptions,a=this.options,e=[],f=function(b){return(g.seriesTypes[b||"line"].prototype.pointArrayMap||[0]).length},d=b&&b.chart&&b.chart.type,c=[],h=[],r=0,i;k(b&&b.series||[],function(b){c.push(f(b.type||d))});k(a&&a.seriesMapping||[],function(b){e.push(b.x||0)});e.length===0&&e.push(0);k(a&&a.seriesMapping||[],function(a){var e=new l,o,n=c[r]||f(d),m=g.seriesTypes[((b&&
b.series||[])[r]||{}).type||d||"line"].prototype.pointArrayMap||["y"];e.addColumnReader(a.x,"x");for(o in a)a.hasOwnProperty(o)&&o!=="x"&&e.addColumnReader(a[o],o);for(i=0;i<n;i++)e.hasReader(m[i])||e.addColumnReader(void 0,m[i]);h.push(e);r++});a=g.seriesTypes[d||"line"].prototype.pointArrayMap;a===void 0&&(a=["y"]);this.valueCount={global:f(d),xColumns:e,individual:c,seriesBuilders:h,globalPointArrayMap:a}},dataFound:function(){if(this.options.switchRowsAndColumns)this.columns=this.rowsToColumns(this.columns);
this.getColumnDistribution();this.parseTypes();this.parsed()!==!1&&this.complete()},parseCSV:function(){var b=this,a=this.options,e=a.csv,f=this.columns,d=a.startRow||0,c=a.endRow||Number.MAX_VALUE,h=a.startColumn||0,r=a.endColumn||Number.MAX_VALUE,i,g,u=0;e&&(g=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(a.lineDelimiter||"\n"),i=a.itemDelimiter||(e.indexOf("\t")!==-1?"\t":","),k(g,function(a,e){var g=b.trim(a),q=g.indexOf("#")===0;e>=d&&e<=c&&!q&&g!==""&&(g=a.split(i),k(g,function(b,a){a>=
h&&a<=r&&(f[a-h]||(f[a-h]=[]),f[a-h][u]=b)}),u+=1)}),this.dataFound())},parseTable:function(){var b=this.options,a=b.table,e=this.columns,f=b.startRow||0,d=b.endRow||Number.MAX_VALUE,c=b.startColumn||0,h=b.endColumn||Number.MAX_VALUE;a&&(typeof a==="string"&&(a=v.getElementById(a)),k(a.getElementsByTagName("tr"),function(b,a){a>=f&&a<=d&&k(b.children,function(b,d){if((b.tagName==="TD"||b.tagName==="TH")&&d>=c&&d<=h)e[d-c]||(e[d-c]=[]),e[d-c][a-f]=b.innerHTML})}),this.dataFound())},parseGoogleSpreadsheet:function(){var b=
this,a=this.options,e=a.googleSpreadsheetKey,f=this.columns,d=a.startRow||0,c=a.endRow||Number.MAX_VALUE,h=a.startColumn||0,g=a.endColumn||Number.MAX_VALUE,i,q;e&&jQuery.ajax({dataType:"json",url:"https://spreadsheets.google.com/feeds/cells/"+e+"/"+(a.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",error:a.error,success:function(a){var a=a.feed.entry,e,n=a.length,m=0,l=0,j;for(j=0;j<n;j++)e=a[j],m=Math.max(m,e.gs$cell.col),l=Math.max(l,e.gs$cell.row);for(j=0;j<m;j++)if(j>=
h&&j<=g)f[j-h]=[],f[j-h].length=Math.min(l,c-d);for(j=0;j<n;j++)if(e=a[j],i=e.gs$cell.row-1,q=e.gs$cell.col-1,q>=h&&q<=g&&i>=d&&i<=c)f[q-h][i-d]=e.content.$t;k(f,function(a){for(j=0;j<a.length;j++)a[j]===void 0&&(a[j]=null)});b.dataFound()}})},trim:function(b,a){typeof b==="string"&&(b=b.replace(/^\s+|\s+$/g,""),a&&/^[0-9\s]+$/.test(b)&&(b=b.replace(/\s/g,"")),this.decimalRegex&&(b=b.replace(this.decimalRegex,"$1.$2")));return b},parseTypes:function(){for(var b=this.columns,a=b.length;a--;)this.parseColumn(b[a],
a)},parseColumn:function(b,a){var e=this.rawColumns,f=this.columns,d=b.length,c,h,g,i,l=this.firstRowAsNames,k=s(a,this.valueCount.xColumns)!==-1,o=[],n=this.chartOptions,m,p=(this.options.columnTypes||[])[a],n=k&&(n&&n.xAxis&&x(n.xAxis)[0].type==="category"||p==="string");for(e[a]||(e[a]=[]);d--;)if(c=o[d]||b[d],g=this.trim(c),i=this.trim(c,!0),h=parseFloat(i),e[a][d]===void 0&&(e[a][d]=g),n||d===0&&l)b[d]=g;else if(+i===h)b[d]=h,h>31536E6&&p!=="float"?b.isDatetime=!0:b.isNumeric=!0,b[d+1]!==void 0&&
(m=h>b[d+1]);else if(h=this.parseDate(c),k&&t(h)&&p!=="float"){if(o[d]=c,b[d]=h,b.isDatetime=!0,b[d+1]!==void 0){c=h>b[d+1];if(c!==m&&m!==void 0)this.alternativeFormat?(this.dateFormat=this.alternativeFormat,d=b.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):b.unsorted=!0;m=c}}else if(b[d]=g===""?null:g,d!==0&&(b.isDatetime||b.isNumeric))b.mixed=!0;k&&b.mixed&&(f[a]=e[a]);if(k&&m&&this.options.sort)for(a=0;a<f.length;a++)f[a].reverse(),l&&f[a].unshift(f[a].pop())},dateFormats:{"YYYY-mm-dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{2})[\-\/\.]([0-9]{2})$/,
parser:function(b){return Date.UTC(+b[1],b[2]-1,+b[3])}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(b){return Date.UTC(+b[3],b[2]-1,+b[1])},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(b){return Date.UTC(+b[3],b[1]-1,+b[2])}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(b){return Date.UTC(+b[3]+2E3,b[2]-1,+b[1])},alternative:"mm/dd/YY"},
"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(b){return Date.UTC(+b[3]+2E3,b[1]-1,+b[2])}}},parseDate:function(b){var a=this.options.parseDate,e,f,d=this.options.dateFormat||this.dateFormat,c;if(a)e=a(b);else if(typeof b==="string"){if(d)a=this.dateFormats[d],(c=b.match(a.regex))&&(e=a.parser(c));else for(f in this.dateFormats)if(a=this.dateFormats[f],c=b.match(a.regex)){this.dateFormat=f;this.alternativeFormat=a.alternative;e=a.parser(c);break}c||(c=Date.parse(b),
typeof c==="object"&&c!==null&&c.getTime?e=c.getTime()-c.getTimezoneOffset()*6E4:t(c)&&(e=c-(new Date(c)).getTimezoneOffset()*6E4))}return e},rowsToColumns:function(b){var a,e,f,d,c;if(b){c=[];e=b.length;for(a=0;a<e;a++){d=b[a].length;for(f=0;f<d;f++)c[f]||(c[f]=[]),c[f][a]=b[a][f]}}return c},parsed:function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)},getFreeIndexes:function(b,a){var e,f,d=[],c=[],h;for(f=0;f<b;f+=1)d.push(!0);for(e=0;e<a.length;e+=1){h=a[e].getReferencedColumnIndexes();
for(f=0;f<h.length;f+=1)d[h[f]]=!1}for(f=0;f<d.length;f+=1)d[f]&&c.push(f);return c},complete:function(){var b=this.columns,a,e=this.options,f,d,c,h,g=[],i;if(e.complete||e.afterComplete){for(c=0;c<b.length;c++)if(this.firstRowAsNames)b[c].name=b[c].shift();f=[];d=this.getFreeIndexes(b.length,this.valueCount.seriesBuilders);for(c=0;c<this.valueCount.seriesBuilders.length;c++)i=this.valueCount.seriesBuilders[c],i.populateColumns(d)&&g.push(i);for(;d.length>0;){i=new l;i.addColumnReader(0,"x");c=s(0,
d);c!==-1&&d.splice(c,1);for(c=0;c<this.valueCount.global;c++)i.addColumnReader(void 0,this.valueCount.globalPointArrayMap[c]);i.populateColumns(d)&&g.push(i)}g.length>0&&g[0].readers.length>0&&(i=b[g[0].readers[0].columnIndex],i!==void 0&&(i.isDatetime?a="datetime":i.isNumeric||(a="category")));if(a==="category")for(c=0;c<g.length;c++){i=g[c];for(d=0;d<i.readers.length;d++)if(i.readers[d].configName==="x")i.readers[d].configName="name"}for(c=0;c<g.length;c++){i=g[c];d=[];for(h=0;h<b[0].length;h++)d[h]=
i.read(b,h);f[c]={data:d};if(i.name)f[c].name=i.name;if(a==="category")f[c].turboThreshold=0}b={series:f};if(a&&(b.xAxis={type:a},a==="category"))b.xAxis.nameToX=!1;e.complete&&e.complete(b);e.afterComplete&&e.afterComplete(b)}}});g.Data=p;g.data=function(b,a){return new p(b,a)};g.wrap(g.Chart.prototype,"init",function(b,a,e){var f=this;a&&a.data?g.data(g.extend(a.data,{afterComplete:function(d){var c,h;if(a.hasOwnProperty("series"))if(typeof a.series==="object")for(c=Math.max(a.series.length,d.series.length);c--;)h=
a.series[c]||{},a.series[c]=g.merge(h,d.series[c]);else delete a.series;a=g.merge(d,a);b.call(f,a,e)}}),a):b.call(f,a,e)});l=function(){this.readers=[];this.pointIsArray=!0};l.prototype.populateColumns=function(b){var a=!0;k(this.readers,function(a){if(a.columnIndex===void 0)a.columnIndex=b.shift()});k(this.readers,function(b){b.columnIndex===void 0&&(a=!1)});return a};l.prototype.read=function(b,a){var e=this.pointIsArray,f=e?[]:{},d;k(this.readers,function(c){var d=b[c.columnIndex][a];e?f.push(d):
f[c.configName]=d});if(this.name===void 0&&this.readers.length>=2&&(d=this.getReferencedColumnIndexes(),d.length>=2))d.shift(),d.sort(),this.name=b[d.shift()].name;return f};l.prototype.addColumnReader=function(b,a){this.readers.push({columnIndex:b,configName:a});if(!(a==="x"||a==="y"||a===void 0))this.pointIsArray=!1};l.prototype.getReferencedColumnIndexes=function(){var b,a=[],e;for(b=0;b<this.readers.length;b+=1)e=this.readers[b],e.columnIndex!==void 0&&a.push(e.columnIndex);return a};l.prototype.hasReader=
function(b){var a,e;for(a=0;a<this.readers.length;a+=1)if(e=this.readers[a],e.configName===b)return!0}});
(function(SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.PayoutChart=new function(){var source,saFormatter=SA.Utils.Formatter;var buildChartData=function(data,splits){var dividendData={regular:[],special:[]},type;$.each(data,function(){for(var i=0,len=this.length;i<len;i++){type=this[i].dividend_type==="Regular"?"regular":"special";dividendData[type].push([this[i].timestamp,adjustForSplits(this[i],splits)])}});dividendData.regular.sort(function(a,b){return parseInt(a[0])-parseInt(b[0])});
dividendData.special.sort(function(a,b){return parseInt(a[0])-parseInt(b[0])});return dividendData};var getChartConfig=function(slug,data){return{credits:{enabled:false},chart:{type:"column",alignTicks:false},exporting:{enabled:false},rangeSelector:{selected:4,buttons:[{type:"month",count:1,text:"1M"},{type:"month",count:3,text:"3M"},{type:"month",count:6,text:"6M"},{type:"year",count:1,text:"1Y"},{type:"year",count:5,text:"5Y"},{type:"all",text:"All"}],buttonTheme:{fill:"none",stroke:"#7d7d7d","stroke-width":1,
r:2,height:15,width:26,style:{color:"#7d7d7d",backgroundColor:"white"},states:{hover:{},select:{fill:"#ff7200",stroke:"#ff7200",style:{fontWeight:"normal",color:"white"}}}},inputBoxWidth:116,inputBoxBorderColor:"#7d7d7d",inputStyle:{color:"#7d7d7d"}},title:{text:""},xAxis:{lineColor:"#cecece",step:2,title:{text:"Dividend Per Date"},labels:{style:{color:"#cecece",fontSize:"11px"}}},yAxis:{title:{text:"Dividend Per Share*"},labels:{formatter:function(){return saFormatter.number(this.value,{prefix:"$"})}}},
series:[{type:"column",name:"Regular",data:data["regular"],stack:"regular",color:"#cecece",states:{hover:{color:"#ff7200"}}},{type:"column",name:"Special",stack:"special",data:data["special"],color:"#cecece",states:{hover:{color:"red"}}}],navigator:{maskFill:"rgba(254,185,131, 0.5)",series:{color:"#ff7200"},handles:{backgroundColor:"#ff7200",borderColor:"#ff7200"},outlineColor:"#ff7200",outlineWidth:1},tooltip:{formatter:function(){var date=saFormatter.date(new Date(this.points[0].key));var pointHtml=
[];for(var i=0,len=this.points;i<len.length;i++)pointHtml.push("<div>Ex-Div Date: "+date+"</div><br><div><b>Amount: $"+saFormatter.number(this.points[i].y)+"</b></div>");return pointHtml.join("<br><br>")}},plotOptions:{column:{stacking:"normal"},series:{dataGrouping:{enabled:false}}}}};var setChartEvents=function(){$(".highcharts-button").on("click",function(){SA.Logger.Mone.event($(this).find("text")[0].innerHTML,source,"zoom")});$(".highcharts-container").on("click",function(){if($(this).closest(".highcharts-button").length)return;
SA.Logger.Mone.event("dividend-payout-chart",source,"click")})};var adjustForSplits=function(data,splits){var amount=data.amount;for(var i=0;i<splits.length;i++)if(new Date(data.ex_dividend_date)<new Date(splits[i].ExDate))amount=amount/splits[i].SplitRatio;return amount};this.drawChart=function(slug,container,historyData,splitsData,src){historyData=buildChartData(historyData,splitsData);container.highcharts("StockChart",getChartConfig(slug,historyData));source=src;setChartEvents()}}})(window.SA,
window.jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols.KeyData.Dividends");scope.DividendsAndSplits=function(){var pageData,dividendsSummary,formatter=SA.Utils.Formatter,container="#content_section",symbolData=SA.Utils.SymbolData,fiveYearData,fiveYearDataLimit,$fullDividendHistory;var renderJst=function(elem,jst,data){var html=JST["jst/pages/symbols/key_data/"+jst]({object:pageData.slugData,data:data,titles:titles,formatter:formatter});$("#"+elem).append(html).removeClass("hide hidden")};var setFullDividendHistoryEvents=
function(){$(container).on("click","#full-dividend-history .dividend-history tbody tr.row-header",function(){var $elem=$(this),show=false;if($elem.hasClass("closed")){show=true;SA.Logger.Mone.event(null,"dividend_history_table","opened")}toggleDividendHistoryRows(show,"#"+$elem.attr("id"))}).on("click","#dividend-history-expand-all",function(){toggleDividendHistoryRows(true,".closed");SA.Logger.Mone.event(null,"dividend_history_table","expand_all")}).on("click","#dividend-history-collapse-all",function(){toggleDividendHistoryRows(false,
":not(.closed)");SA.Logger.Mone.event(null,"dividend_history_table","collapse_all")}).on("click","#full-dividend-history .show-more",function(){$fullDividendHistory.find(".row-header").removeClass("hidden");$fullDividendHistory.find(".content-history-row").addClass("visible-row");$(this).remove()}).on("click","#dividend-history-export-to-csv",exportTableToCSV)};var setUpcomingDividendsEvents=function(){$(".upcoming-dividends .caret").on("click",function(){var tbody=$(".upcoming-dividends tbody");
tbody.html($("tr",tbody).get().reverse())})};var renderData=function(data){var dividendsData=gatherDividendsData(data);symbolData.getSplitHistory({slug:pageData.slug,startDate:"1/1/1900",endDate:formatter.date(new Date)},function(data){gatherSplitHistory(data,dividendsData.history)});if(Object.keys(dividendsData.history).length){loadUpcomingDividendsData(dividendsData.upcoming);showDividendHistory(dividendsData.history);loadFiveYearData(dividendsData.history);loadYield()}};var gatherDividendsData=
function(data){var year,currDate=SA.Utils.Time.getNewYorkTime();var dividendsData={history:{},upcoming:[]};$.each(data.Dividends,function(){if(new Date(this.PayDate)>=currDate)dividendsData.upcoming.push(convertDividend(this));else if(this.ExDate){year=(new Date(this.ExDate)).getFullYear();if(year){dividendsData.history[year]=dividendsData.history[year]||[];dividendsData.history[year].push(convertDividend(this))}}});return dividendsData};var convertDividend=function(obj){return{timestamp:(new Date(obj.ExDate)).getTime(),
amount:obj.DividendAmount,declare_date:obj.DeclaredDate,ex_dividend_date:obj.ExDate,record_date:obj.RecordDate,payable_date:obj.PayDate,dividend_type:obj.Type||"None NormalDividend OrdinaryDividend".indexOf(this.Type)>-1?"Regular":"Special"}};var showDividendHistory=function(historyData){$fullDividendHistory=$("#full-dividend-history");renderJst("full-dividend-history","dividends/full_dividend_history",{history:historyData,svgDownload:JST["jst/inline_svg/download"]()});toggleDividendHistoryRows(true,
":first-child")};var loadUpcomingDividendsData=function(upcomingData){$.get("/symbol/"+pageData.slug+"/key-data/upcoming_dividends",{ticker:pageData.slug},function(res){var upcoming=mergeUpcomingDividends({},res.data);upcoming=mergeUpcomingDividends(upcoming,upcomingData);if(Object.keys(upcoming).length){renderJst("upcoming-dividends","dividends/upcoming_dividends",{upcoming:upcoming});setUpcomingDividendsEvents()}else renderJst("upcoming-dividends","no_data",{header:"Upcoming Dividends",message:"No upcoming dividends have been declared"})})};
var mergeUpcomingDividends=function(hash,array){var key;$.each(array,function(){key=formatter.date(new Date(this.payable_date));if(!hash[key])hash[key]=this});return hash};var loadSums=function(history,listOfYears){var yearSums={};for(var i=0,key;i<fiveYearDataLimit;i++){key=listOfYears[i];yearSums[key]=0;for(var x=0,yearData=history[key],len=yearData.length;x<len;x++)yearSums[key]+=parseFloat(yearData[x].amount.toFixed(6))}fiveYearData["sums"]=yearSums};var loadFiveYearData=function(historyData){var listOfYears=
Object.keys(historyData).reverse();if(listOfYears[0]===(new Date).getFullYear())listOfYears.shift();fiveYearDataLimit=Math.min(listOfYears.length,5);loadSums(historyData,listOfYears);for(var i=0;i<fiveYearDataLimit;i++)symbolData.getFiveYearHistory({slug:pageData.slug,asOfDate:"12/31/"+listOfYears[i]},gatherFiveYearData)};var gatherFiveYearData=function(data){var fs=getFundamentalsSets(data);if(fs){var year=(new Date(fs.AsOfDate)).getFullYear();fiveYearData["yields"][year]=fs.Fundamentals[0].Value;
if(Object.keys(fiveYearData["yields"]).length===fiveYearDataLimit){fiveYearData["formatter"]=formatter;renderJst("five-year-dividend-history","dividends/five_year_dividend_history",fiveYearData)}}};var getSlugData=function(data){return data&&data.length&&data[0].Company&&data[0].Company.Symbol===pageData.slug?data[0]:null};var getFundamentalsSets=function(data){var d=getSlugData(data),fs=d?d.FundamentalsSets:null;return fs&&fs.length?fs[0]:null};var exportTableToCSV=function(){var filename=pageData.slug+
"_dividend_history.csv";var rows=$("#full-dividend-history table").find("tr.exportable"),tmpColDelim=String.fromCharCode(11),tmpRowDelim=String.fromCharCode(0),colDelim='","',rowDelim='"\r\n"',csv=rows.map(function(i,row){var row=$(row),td=row.find("td"),cols=td.length>0?td:row.find("th");return cols.map(function(){var col=$(this),text=col.text();return text.replace(/"/g,'""')}).get().join(tmpColDelim)}).get().join(tmpRowDelim).split(tmpRowDelim).join(rowDelim).split(tmpColDelim).join(colDelim);var csvData=
"data:application/csv;charset=utf-8,"+encodeURIComponent(csv);SA.Logger.Mone.event("","dividend_history_table","download");$(this).attr({"download":filename,"href":csvData,"target":"_blank"})};function toggleDividendHistoryRows(show,headRowsSelector){var $headRows=$fullDividendHistory.find(".dividend-history tbody tr"+headRowsSelector);var subRows=[];$.each($headRows,function(){if(this.hasAttribute("data-year"))subRows.push(".content-history-year-"+this.getAttribute("data-year"))});if(subRows.length)if(show){$headRows.removeClass("closed");
$(subRows.join(",")).show()}else{$headRows.addClass("closed");$(subRows.join(",")).hide()}}var loadYield=function(){renderJst("dividend-yield","dividends/dividend_yield",{symbol:pageData.slug.toUpperCase()})};var gatherSplitHistory=function(data,historyData){if(data.Splits&&data.Splits.length)renderJst("split-history","dividends/split_history",{slug:pageData.slug,splitsData:data.Splits});else renderJst("split-history","no_data",{header:"Split History",message:pageData.slug.toUpperCase()+" has no split history"});
if(Object.keys(historyData).length)loadPayoutHistory(historyData,data.Splits)};var loadPayoutHistory=function(historyData,splitsData){renderJst("dividend-payout-history","dividends/dividend_payout_history");SA.Pages.Symbols.PayoutChart.drawChart(pageData.slug,$("#payout-chart-container"),historyData,splitsData,"dividend_history_table")};this.updateData=function(data){dividendsSummary.updateData(data)};this.showContent=function(){fiveYearData={"sums":{},"yields":{}};dividendsSummary.render(SA.Pages.Symbols.SymbolInfo.get(pageData.slug));
symbolData.getCashDividendHistory({slug:pageData.slug,startDate:"1/1/1900",endDate:formatter.date(new Date)},renderData)};this.init=function(){pageData=SA.pageConfig.Data;dividendsSummary=new SA.Pages.Symbols.Dividends.Summary({container:"#dividends-summary",header:"Summary",slug:pageData.slug});setFullDividendHistoryEvents()}}})(window.SA,window.jQuery);
(function($){var methods,utils,SIDES={center:"center",left:"left",right:"right"},WIDTH={auto:"auto"};function trunk8(element){this.$element=$(element);this.original_text=$.trim(this.$element.html());this.settings=$.extend({},$.fn.trunk8.defaults)}trunk8.prototype.updateSettings=function(options){this.settings=$.extend(this.settings,options)};function stripHTML(html){var tmp=document.createElement("DIV");tmp.innerHTML=html;if(typeof tmp.textContent!="undefined")return tmp.textContent;return tmp.innerText}
function getHtmlArr(str){if(stripHTML(str)===str)return str.split(/\s/g);var allResults=[],reg=/<([a-z]+)([^<]*)(?:>(.*?(?!<\1>))<\/\1>|\s+\/>)(['.?!,]*)|((?:[^<>\s])+['.?!,]*\w?|<br\s?\/?>)/ig,outArr=reg.exec(str),lastI,ind;while(outArr&&lastI!==reg.lastIndex){lastI=reg.lastIndex;if(outArr[5])allResults.push(outArr[5]);else if(outArr[1])allResults.push({tag:outArr[1],attribs:outArr[2],content:outArr[3],after:outArr[4]});outArr=reg.exec(str)}for(ind=0;ind<allResults.length;ind++)if(typeof allResults[ind]!==
"string"&&allResults[ind].content)allResults[ind].content=getHtmlArr(allResults[ind].content);return allResults}function rebuildHtmlFromBite(bite,htmlObject,fill){bite=bite.replace(fill,"");var biteHelper=function(contentArr,tagInfo){var retStr="",content,biteContent,biteLength,nextWord,i;for(i=0;i<contentArr.length;i++){content=contentArr[i];biteLength=$.trim(bite).split(" ").length;if($.trim(bite).length)if(typeof content==="string"){if(!/<br\s*\/?>/i.test(content))if(biteLength===1&&$.trim(bite).length<=
content.length){content=bite;if(tagInfo==="p"||tagInfo==="div")content+=fill;bite=""}else bite=bite.replace(content,"");retStr+=$.trim(content)+(i===contentArr.length-1||biteLength<=1?"":" ")}else{biteContent=biteHelper(content.content,content.tag);if(content.after)bite=bite.replace(content.after,"");if(biteContent){if(!content.after)content.after=" ";retStr+="<"+content.tag+content.attribs+">"+biteContent+"</"+content.tag+">"+content.after}}}return retStr},htmlResults=biteHelper(htmlObject);if(htmlResults.slice(htmlResults.length-
fill.length)!==fill)htmlResults+=fill;return htmlResults}function truncate(){var data=this.data("trunk8"),settings=data.settings,width=settings.width,side=settings.side,fill=settings.fill,parseHTML=settings.parseHTML,line_height=utils.getLineHeight(this)*settings.lines,str=data.original_text,length=str.length,max_bite="",lower,upper,bite_size,bite,text,htmlObject;this.html(str);text=this.text();if(parseHTML&&stripHTML(str)!==str){str=str.replace("&amp;","&");htmlObject=getHtmlArr(str);str=stripHTML(str);
length=str.length}if(width===WIDTH.auto){if(this.height()<=line_height)return;lower=0;upper=length-1;while(lower<=upper){bite_size=lower+(upper-lower>>1);bite=utils.eatStr(str,side,length-bite_size,fill);if(parseHTML&&htmlObject)bite=rebuildHtmlFromBite(bite,htmlObject,fill);this.html(bite);if(this.height()>line_height)upper=bite_size-1;else{lower=bite_size+1;max_bite=max_bite.length>bite.length?max_bite:bite}}this.html("");this.html(max_bite);if(settings.hiddenTooltip)this.attr("data-title",text);
else if(settings.tooltip)this.attr("title",text)}else if(!isNaN(width)){bite_size=length-width;bite=utils.eatStr(str,side,bite_size,fill);this.html(bite);if(settings.tooltip)this.attr("title",str)}else{$.error('Invalid width "'+width+'".');return}settings.onTruncate()}methods={init:function(options){return this.each(function(){var $this=$(this),data=$this.data("trunk8");if(!data)$this.data("trunk8",data=new trunk8(this));data.updateSettings(options);truncate.call($this)})},update:function(new_string){return this.each(function(){var $this=
$(this);if(new_string)$this.data("trunk8").original_text=new_string;truncate.call($this)})},revert:function(){return this.each(function(){var el=$(this),t8=el.data("trunk8"),text=t8?t8.original_text:"";el.html(text)})},getSettings:function(){return $(this.get(0)).data("trunk8").settings}};utils={eatStr:function(str,side,bite_size,fill){var length=str.length,key=utils.eatStr.generateKey.apply(null,arguments),half_length,half_bite_size;if(utils.eatStr.cache[key])return utils.eatStr.cache[key];if(typeof str!==
"string"||length===0)$.error('Invalid source string "'+str+'".');if(bite_size<0||bite_size>length)$.error('Invalid bite size "'+bite_size+'".');else if(bite_size===0)return str;if(typeof(fill+"")!=="string")$.error("Fill unable to be converted to a string.");switch(side){case SIDES.right:return utils.eatStr.cache[key]=$.trim(str.substr(0,length-bite_size))+fill;case SIDES.left:return utils.eatStr.cache[key]=fill+$.trim(str.substr(bite_size));case SIDES.center:half_length=length>>1;half_bite_size=
bite_size>>1;return utils.eatStr.cache[key]=$.trim(utils.eatStr(str.substr(0,length-half_length),SIDES.right,bite_size-half_bite_size,""))+fill+$.trim(utils.eatStr(str.substr(length-half_length),SIDES.left,half_bite_size,""));default:$.error('Invalid side "'+side+'".')}},getLineHeight:function(elem){var floats=$(elem).css("float");if(floats!=="none")$(elem).css("float","none");var pos=$(elem).css("position");if(pos==="absolute")$(elem).css("position","static");var html=$(elem).html(),wrapper_id="line-height-test",
line_height;$(elem).html("i").wrap('<div id="'+wrapper_id+'" />');line_height=$("#"+wrapper_id).innerHeight();$(elem).html(html).css({"float":floats,"position":pos}).unwrap();return line_height}};utils.eatStr.cache={};utils.eatStr.generateKey=function(){return Array.prototype.join.call(arguments,"")};$.fn.trunk8=function(method){if(methods[method])return methods[method].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof method==="object"||!method)return methods.init.apply(this,arguments);
else $.error("Method "+method+" does not exist on jQuery.trunk8")};$.fn.trunk8.defaults={fill:"&hellip;",lines:1,side:SIDES.right,tooltip:true,width:WIDTH.auto,parseHTML:false,onTruncate:function(){}}})(jQuery);
!function(){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(e){function n(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=Object.create(t.prototype);for(var a in n)o[a]=n[a];return o.constructor=e,e.prototype=o,e}function o(t){t=t||{},this.defaultProtocol=t.defaultProtocol||g.defaultProtocol,this.events=t.events||g.events,this.format=
t.format||g.format,this.formatHref=t.formatHref||g.formatHref,this.nl2br=t.nl2br||g.nl2br,this.tagName=t.tagName||g.tagName,this.target=t.target||g.target,this.validate=t.validate||g.validate,this.ignoreTags=[],this.attributes=t.attributes||t.linkAttributes||g.attributes,this.className=t.className||t.linkClass||g.className;for(var e=t.ignoreTags||g.ignoreTags,n=0;n<e.length;n++)this.ignoreTags.push(e[n].toUpperCase())}function a(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function r(t){return t}
function i(t,e){return"url"===e?"_blank":null}function s(){return function(t){this.j=[],this.T=t||null}}function c(t,e,n,o){for(var a=0,r=t.length,i=e,s=[],c=void 0;a<r&&(c=i.next(t[a]));)i=c,a++;if(a>=r)return[];for(;a<r-1;)c=new m(o),s.push(c),i.on(t[a],c),i=c,a++;return c=new m(n),s.push(c),i.on(t[r-1],c),s}function l(){return function(t){t&&(this.v=t)}}function u(t){var e=t?{v:t}:{};return n(b,l(),e)}function h(t){return t instanceof v||t instanceof P}var g={defaultProtocol:"http",events:null,
format:r,formatHref:r,nl2br:!1,tagName:"a",target:i,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};o.prototype={resolve:function(t){var e=t.toHref(this.defaultProtocol);return{formatted:this.get("format",t.toString(),t),formattedHref:this.get("formatHref",e,t),tagName:this.get("tagName",e,t),className:this.get("className",e,t),target:this.get("target",e,t),events:this.getObject("events",e,t),attributes:this.getObject("attributes",e,t)}},check:function(t){return this.get("validate",
t.toString(),t)},get:function(e,n,o){var a=this[e];if(!a)return a;switch("undefined"==typeof a?"undefined":t(a)){case "function":return a(n,o.type);case "object":var r=a[o.type]||g[e];return"function"==typeof r?r(n,o.type):r}return a},getObject:function(t,e,n){var o=this[t];return"function"==typeof o?o(e,n.type):o}};var p=Object.freeze({defaults:g,Options:o,contains:a}),f=s();f.prototype={defaultTransition:!1,on:function(t,e){if(t instanceof Array){for(var n=0;n<t.length;n++)this.j.push([t[n],e]);
return this}return this.j.push([t,e]),this},next:function(t){for(var e=0;e<this.j.length;e++){var n=this.j[e],o=n[0],a=n[1];if(this.test(t,o))return a}return this.defaultTransition},accepts:function(){return!!this.T},test:function(t,e){return t===e},emit:function(){return this.T}};var m=n(f,s(),{test:function(t,e){return t===e||e instanceof RegExp&&e.test(t)}}),d=n(f,s(),{jump:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=this.next(new t(""));return n===this.defaultTransition?
(n=new this.constructor(e),this.on(t,n)):e&&(n.T=e),n},test:function(t,e){return t instanceof e}}),b=l();b.prototype={toString:function(){return this.v+""}};var v=u(),y=u("@"),k=u(":"),w=u("."),j=u(),x=u(),z=u("\n"),O=u(),S=u("+"),N=u("#"),T=u(),E=u("?"),L=u("/"),A=u("_"),C=u(),P=u(),q=u(),R=u("{"),H=u("["),B=u("<"),U=u("("),K=u("}"),D=u("]"),M=u(">"),I=u(")"),_=Object.freeze({Base:b,DOMAIN:v,AT:y,COLON:k,DOT:w,PUNCTUATION:j,LOCALHOST:x,NL:z,NUM:O,PLUS:S,POUND:N,QUERY:E,PROTOCOL:T,SLASH:L,UNDERSCORE:A,
SYM:C,TLD:P,WS:q,OPENBRACE:R,OPENBRACKET:H,OPENANGLEBRACKET:B,OPENPAREN:U,CLOSEBRACE:K,CLOSEBRACKET:D,CLOSEANGLEBRACKET:M,CLOSEPAREN:I}),G="aaa|aarp|abb|abbott|abogado|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|af|afl|ag|agency|ai|aig|airforce|airtel|al|alibaba|alipay|allfinanz|alsace|am|amica|amsterdam|an|analytics|android|ao|apartments|app|apple|aq|aquarelle|ar|aramco|archi|army|arpa|arte|as|asia|associates|at|attorney|au|auction|audi|audio|author|auto|autos|avianca|aw|ax|axa|az|azure|ba|baidu|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bb|bbc|bbva|bcg|bcn|bd|be|beats|beer|bentley|berlin|best|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bom|bond|boo|book|boots|bosch|bostik|bot|boutique|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|camera|camp|cancerresearch|canon|capetown|capital|car|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chloe|christmas|chrome|church|ci|cipriani|circle|cisco|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|date|dating|datsun|day|dclk|de|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|dnp|do|docs|dog|doha|domains|download|drive|dubai|durban|dvag|dz|earth|eat|ec|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|er|erni|es|esq|estate|et|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|fairwinds|faith|family|fan|fans|farm|fashion|fast|feedback|ferrero|fi|film|final|finance|financial|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|florist|flowers|flsmidth|fly|fm|fo|foo|football|ford|forex|forsale|forum|foundation|fox|fr|fresenius|frl|frogans|frontier|fund|furniture|futbol|fyi|ga|gal|gallery|gallup|game|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|gold|goldpoint|golf|goo|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|group|gs|gt|gu|gucci|guge|guide|guitars|guru|gw|gy|hamburg|hangout|haus|hdfcbank|health|healthcare|help|helsinki|here|hermes|hiphop|hitachi|hiv|hk|hm|hn|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hr|hsbc|ht|hu|hyundai|ibm|icbc|ice|icu|id|ie|ifm|iinet|il|im|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|international|investments|io|ipiranga|iq|ir|irish|is|iselect|ist|istanbul|it|itau|iwc|jaguar|java|jcb|je|jetzt|jewelry|jlc|jll|jm|jmp|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kitchen|kiwi|km|kn|koeln|komatsu|kp|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|lamborghini|lamer|lancaster|land|landrover|lanxess|lasalle|lat|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|legal|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|limited|limo|lincoln|linde|link|live|living|lixil|lk|loan|loans|local|locus|lol|london|lotte|lotto|love|lr|ls|lt|ltd|ltda|lu|lupin|luxe|luxury|lv|ly|ma|madrid|maif|maison|makeup|man|management|mango|market|marketing|markets|marriott|mba|mc|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|mg|mh|miami|microsoft|mil|mini|mk|ml|mm|mma|mn|mo|mobi|mobily|moda|moe|moi|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mp|mq|mr|ms|mt|mtn|mtpc|mtr|mu|museum|mutuelle|mv|mw|mx|my|mz|na|nadex|nagoya|name|natura|navy|nc|ne|nec|net|netbank|network|neustar|new|news|nexus|nf|ng|ngo|nhk|ni|nico|nikon|ninja|nissan|nl|no|nokia|norton|nowruz|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|office|okinawa|om|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|origins|osaka|otsuka|ovh|pa|page|pamperedchef|panerai|paris|pars|partners|parts|party|passagens|pe|pet|pf|pg|ph|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pohl|poker|porn|post|pr|praxi|press|pro|prod|productions|prof|promo|properties|property|protection|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|racing|re|read|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|ricoh|rio|rip|ro|rocher|rocks|rodeo|room|rs|rsvp|ru|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|saxo|sb|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scor|scot|sd|se|seat|security|seek|select|sener|services|seven|sew|sex|sexy|sfr|sg|sh|sharp|shell|shia|shiksha|shoes|show|shriram|si|singles|site|sj|sk|ski|skin|sky|skype|sl|sm|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|st|stada|star|starhub|statefarm|statoil|stc|stcgroup|stockholm|storage|store|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|taobao|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|team|tech|technology|tel|telecity|telefonica|temasek|tennis|tf|tg|th|thd|theater|theatre|tickets|tienda|tiffany|tips|tires|tirol|tj|tk|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tp|tr|trade|trading|training|travel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubs|ug|uk|unicom|university|uno|uol|us|uy|uz|va|vacations|vana|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|viking|villas|vin|vip|virgin|vision|vista|vistaprint|viva|vlaanderen|vn|vodka|volkswagen|vote|voting|voto|voyage|vu|vuelos|wales|walter|wang|wanggou|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|wme|wolterskluwer|work|works|world|ws|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|youtube|yt|za|zara|zero|zip|zm|zone|zuerich|zw".split("|"),
Y="0123456789".split(""),Q="0123456789abcdefghijklmnopqrstuvwxyz".split(""),W=[" ","\f","\r","\t","\x0B"," ","\u1680","\u180e"],X=[],Z=function(t){return new m(t)},F=Z(),J=Z(O),V=Z(v),$=Z(),tt=Z(q);F.on("@",Z(y)).on(".",Z(w)).on("+",Z(S)).on("#",Z(N)).on("?",Z(E)).on("/",Z(L)).on("_",Z(A)).on(":",Z(k)).on("{",Z(R)).on("[",Z(H)).on("<",Z(B)).on("(",Z(U)).on("}",Z(K)).on("]",Z(D)).on(">",Z(M)).on(")",Z(I)).on([",",";","!",'"',"'"],Z(j)),F.on("\n",Z(z)).on(W,tt),tt.on(W,tt);for(var et=0;et<G.length;et++){var nt=
c(G[et],F,P,v);X.push.apply(X,nt)}var ot=c("file",F,v,v),at=c("ftp",F,v,v),rt=c("http",F,v,v);X.push.apply(X,ot),X.push.apply(X,at),X.push.apply(X,rt);var it=ot.pop(),st=at.pop(),ct=rt.pop(),lt=Z(v),ut=Z(T);st.on("s",lt).on(":",ut),ct.on("s",lt).on(":",ut),X.push(lt),it.on(":",ut),lt.on(":",ut);var ht=c("localhost",F,x,v);X.push.apply(X,ht),F.on(Y,J),J.on("-",$).on(Y,J).on(Q,V),V.on("-",$).on(Q,V);for(var gt=0;gt<X.length;gt++)X[gt].on("-",$).on(Q,V);$.on("-",$).on(Y,V).on(Q,V),F.defaultTransition=
Z(C);var pt=function(t){for(var e=t.replace(/[A-Z]/g,function(t){return t.toLowerCase()}),n=t.length,o=[],a=0;a<n;){for(var r=F,i=null,s=null,c=0,l=null,u=-1;a<n&&(s=r.next(e[a]));)i=null,r=s,r.accepts()?(u=0,l=r):u>=0&&u++,c++,a++;if(!(u<0)){a-=u,c-=u;var h=l.emit();o.push(new h(t.substr(a-c,c)))}}return o},ft=F,mt=Object.freeze({State:m,TOKENS:_,run:pt,start:ft}),dt=l();dt.prototype={type:"token",isLink:!1,toString:function(){for(var t=[],e=0;e<this.v.length;e++)t.push(this.v[e].toString());return t.join("")},
toHref:function(){return this.toString()},toObject:function(){var t=arguments.length<=0||void 0===arguments[0]?"http":arguments[0];return{type:this.type,value:this.toString(),href:this.toHref(t)}}};var bt=n(dt,l(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),vt=n(dt,l(),{type:"text"}),yt=n(dt,l(),{type:"nl"}),kt=n(dt,l(),{type:"url",isLink:!0,toHref:function(){for(var t=arguments.length<=0||void 0===arguments[0]?"http":arguments[0],e=!1,n=!1,o=this.v,a=[],r=0;o[r]instanceof
T;)e=!0,a.push(o[r].toString().toLowerCase()),r++;for(;o[r]instanceof L;)n=!0,a.push(o[r].toString()),r++;for(;h(o[r]);)a.push(o[r].toString().toLowerCase()),r++;for(;r<o.length;r++)a.push(o[r].toString());return a=a.join(""),e||n||(a=t+"://"+a),a},hasProtocol:function(){return this.v[0]instanceof T}}),wt=Object.freeze({Base:dt,EMAIL:bt,NL:yt,TEXT:vt,URL:kt}),jt=function(t){return new d(t)},xt=jt(),zt=jt(),Ot=jt(),St=jt(),Nt=jt(),Tt=jt(),Et=jt(kt),Lt=jt(),At=jt(kt),Ct=jt(kt),Pt=jt(),qt=jt(),Rt=jt(),
Ht=jt(),Bt=jt(),Ut=jt(kt),Kt=jt(kt),Dt=jt(kt),Mt=jt(kt),It=jt(),_t=jt(),Gt=jt(),Yt=jt(),Qt=jt(),Wt=jt(),Xt=jt(bt),Zt=jt(),Ft=jt(bt),Jt=jt(),Vt=jt(),$t=jt(),te=jt(yt);xt.on(z,te).on(T,zt).on(L,Ot),zt.on(L,Ot),Ot.on(L,St),xt.on(P,Nt).on(v,Nt).on(x,Et).on(O,Nt),St.on(P,Ct).on(v,Ct).on(O,Ct).on(x,Ct),Nt.on(w,Tt),Qt.on(w,Wt),Tt.on(P,Et).on(v,Nt).on(O,Nt).on(x,Nt),Wt.on(P,Xt).on(v,Qt).on(O,Qt).on(x,Qt),Et.on(w,Tt),Xt.on(w,Wt),Et.on(k,Lt).on(L,Ct),Lt.on(O,At),At.on(L,Ct),Xt.on(k,Zt),Zt.on(O,Ft);var ee=[v,
y,x,O,S,N,T,L,P,A,C],ne=[k,w,E,j,K,D,M,I,R,H,B,U];Ct.on(R,qt).on(H,Rt).on(B,Ht).on(U,Bt),Pt.on(R,qt).on(H,Rt).on(B,Ht).on(U,Bt),qt.on(K,Ct),Rt.on(D,Ct),Ht.on(M,Ct),Bt.on(I,Ct),Ut.on(K,Ct),Kt.on(D,Ct),Dt.on(M,Ct),Mt.on(I,Ct),It.on(K,Ct),_t.on(D,Ct),Gt.on(M,Ct),Yt.on(I,Ct),qt.on(ee,Ut),Rt.on(ee,Kt),Ht.on(ee,Dt),Bt.on(ee,Mt),qt.on(ne,It),Rt.on(ne,_t),Ht.on(ne,Gt),Bt.on(ne,Yt),Ut.on(ee,Ut),Kt.on(ee,Kt),Dt.on(ee,Dt),Mt.on(ee,Mt),Ut.on(ne,Ut),Kt.on(ne,Kt),Dt.on(ne,Dt),Mt.on(ne,Mt),It.on(ee,Ut),_t.on(ee,
Kt),Gt.on(ee,Dt),Yt.on(ee,Mt),It.on(ne,It),_t.on(ne,_t),Gt.on(ne,Gt),Yt.on(ne,Yt),Ct.on(ee,Ct),Pt.on(ee,Ct),Ct.on(ne,Pt),Pt.on(ne,Pt);var oe=[v,O,S,N,E,A,C,P];Nt.on(oe,Jt).on(y,Vt),Et.on(oe,Jt).on(y,Vt),Tt.on(oe,Jt),Jt.on(oe,Jt).on(y,Vt).on(w,$t),$t.on(oe,Jt),Vt.on(P,Qt).on(v,Qt).on(x,Xt);var ae=function(t){for(var e=t.length,n=0,o=[],a=[];n<e;){for(var r=xt,i=null,s=null,c=0,l=null,u=-1;n<e&&!(i=r.next(t[n]));)a.push(t[n++]);for(;n<e&&(s=i||r.next(t[n]));)i=null,r=s,r.accepts()?(u=0,l=r):u>=0&&u++,
n++,c++;if(u<0)for(var h=n-c;h<n;h++)a.push(t[h]);else{a.length>0&&(o.push(new vt(a)),a=[]),n-=u,c-=u;var g=l.emit();o.push(new g(t.slice(n-c,n)))}}return a.length>0&&o.push(new vt(a)),o},re=Object.freeze({State:d,TOKENS:wt,run:ae,start:xt});Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var ie=function(t){return ae(pt(t))},se=function(t){for(var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=ie(t),o=[],a=0;a<n.length;a++){var r=
n[a];!r.isLink||e&&r.type!==e||o.push(r.toObject())}return o},ce=function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=ie(t);return 1===n.length&&n[0].isLink&&(!e||n[0].type===e)};e.find=se,e.inherits=n,e.options=p,e.parser=re,e.scanner=mt,e.test=ce,e.tokenize=ie}(window.linkify=window.linkify||{})}();"use strict";
!function(e,t,n){var i=function(t,n){function i(e,t,n){var i=n[n.length-1];e.replaceChild(i,t);for(var r=n.length-2;r>=0;r--)e.insertBefore(n[r],i),i=n[r]}function r(e,t,n){for(var i=[],r=e,a=Array.isArray(r),o=0,r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{if(o=r.next(),o.done)break;l=o.value}var f=l;if("nl"===f.type&&t.nl2br)i.push(n.createElement("br"));else if(f.isLink&&t.check(f)){var s=t.resolve(f),c=s.formatted,u=s.formattedHref,d=s.tagName,m=s.className,y=s.target,
h=s.events,k=s.attributes,v=n.createElement(d);if(v.setAttribute("href",u),m&&v.setAttribute("class",m),y&&v.setAttribute("target",y),k)for(var g in k)v.setAttribute(g,k[g]);if(h)for(var b in h)v.addEventListener?v.addEventListener(b,h[b]):v.attachEvent&&v.attachEvent("on"+b,h[b]);v.appendChild(n.createTextNode(c)),i.push(v)}else i.push(n.createTextNode(f.toString()))}return i}function a(e,t,n){if(!e||e.nodeType!==d)throw new Error("Cannot linkify "+e+" - Invalid DOM Node type");var o=t.ignoreTags;
if("A"===e.tagName||s.contains(o,e.tagName))return e;for(var l=e.firstChild;l;){switch(l.nodeType){case d:a(l,t,n);break;case m:var c=l.nodeValue,y=f(c);if(0===y.length||1===y.length&&y[0]instanceof u)break;var h=r(y,t,n);i(e,l,h),l=h[h.length-1]}l=l.nextSibling}return e}function o(t,n){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];try{i=i||document||e&&e.document||global&&global.document}catch(r){}if(!i)throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the third argument to linkifyElement.");
return n=new c(n),a(t,n,i)}function l(t){function n(e){return e=o.normalize(e),this.each(function(){o.helper(this,e,i)})}var i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];t.fn=t.fn||{};try{i=i||document||e&&e.document||global&&global.document}catch(r){}if(!i)throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the second argument to linkify/jquery");"function"!=typeof t.fn.linkify&&(t.fn.linkify=
n,t(i).ready(function(){t("[data-linkify]").each(function(){var e=t(this),n=e.data(),i=n.linkify,r=n.linkifyNlbr,a={attributes:n.linkifyAttributes,defaultProtocol:n.linkifyDefaultProtocol,events:n.linkifyEvents,format:n.linkifyFormat,formatHref:n.linkifyFormatHref,nl2br:!!r&&0!==r&&"false"!==r,tagName:n.linkifyTagname,target:n.linkifyTarget,className:n.linkifyClassName||n.linkifyLinkclass,validate:n.linkifyValidate,ignoreTags:n.linkifyIgnoreTags},o="this"===i?e:e.find(i);o.linkify(a)})}))}var f=n.tokenize,
s=n.options,c=s.Options,u=n.parser.TOKENS.TEXT,d=1,m=3;o.helper=a,o.normalize=function(e){return new c(e)};try{!define&&(e.linkifyElement=o)}catch(y){}return l}(n,t);"function"!=typeof n.fn.linkify&&i(n)}(window,linkify,jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Pages.Feed.Modules.ExtraData");scope.get={cardsAndCommentsIds:function(cards){var data={user_id:SA.Data.User.id(),cards_ids:[],comments_ids:[]};$.each(cards,function(){if(!this)return true;if(this.id)data.cards_ids.push(this.id);if(this.comments)data.comments_ids=data.comments_ids.concat(scope.get.commentsIds(this.comments.list))});return data},commentsIdsOnly:function(comments){return{user_id:SA.Data.User.id(),comments_ids:scope.get.commentsIds(comments)}},
commentsIds:function(comments){var commentsIds=[];if(comments&&comments.length)$.each(comments,function(){commentsIds.push(this.id);if(this.replies&&this.replies.length)$.each(this.replies,function(){commentsIds.push(this.id)})});return commentsIds}};scope.merge={cards:function(cards,extraData){var extraDataCards=extraData.cards&&extraData.cards.length?extraData.cards:[];for(var c=0;c<cards.length;c++){if(!cards[c])return true;cards[c].likes={};$.each(extraDataCards,function(){if(cards[c].id===this.id){cards[c].likes.count=
this.likes_count;cards[c].likes.i_liked=this.i_liked;cards[c].comments.count=this.comments_count}});if(cards[c].comments.list){var mergedComments=scope.merge.comments(cards[c].comments.list,extraData);cards[c].comments.list=mergedComments.comments;cards[c].comments.shownCount=mergedComments.shownCount}}return cards},comments:function(comments,extraData){var shownCount=0,extraDataComments=extraData.comments&&extraData.comments.length?extraData.comments:[];if(comments.length)for(var c=0;c<comments.length;c++){comments[c].likes=
comments[c].likes||{};shownCount+=1;$.each(extraDataComments,function(){if(comments[c].id===this.id){comments[c].likes.count=this.likes_count;comments[c].likes.i_liked=this.i_liked}});if(comments[c].replies&&comments[c].replies.length)for(var r=0;r<comments[c].replies.length;r++){shownCount+=1;comments[c].replies[r].likes=comments[c].replies[r].likes||{};$.each(extraDataComments,function(){if(comments[c].replies[r].id===this.id){comments[c].replies[r].likes.count=this.likes_count;comments[c].replies[r].likes.i_liked=
this.i_liked}})}}return{comments:comments,shownCount:shownCount}}}})(SA,jQuery);
(function(SA,window){var scope=SA.UsingNamespace("SA.Pages.Feed.Modules.DataHandler");scope.cards={resetLoaded:function(time){if(this.urlAttrFragment!==window.location.hash||time===0){this.loadedCards={};this.urlAttrFragment=window.location.hash}},filterLoaded:function(cards){var self=this,cardsToShow=[];$.each(cards,function(){if(!self.loadedCards[this.id]){self.loadedCards[this.id]=true;cardsToShow.push(this)}});return cardsToShow}};scope.comments={minToStash:10,stash:function(cards){if(!this.stashedComments)this.stashedComments=
{};if(cards&&cards.length){var comments;for(var i=0;i<cards.length;i++){comments=cards[i].comments.list;if(comments&&comments.length&&comments.length>this.minToStash){cards[i].comments.stashed=true;cards[i].comments.list=comments.slice(comments.length-this.minToStash,comments.length);this.stashedComments[cards[i].id]=comments.slice(0,comments.length-this.minToStash)}}}},pop:function(cardId){var comments=this.stashedComments[cardId]||[];if(comments.length)delete this.stashedComments[cardId];return comments}}})(SA,
window);
(function(){this.JST||(this.JST={});this.JST["jst/pages/feed/cards"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("");cards.forEach(function(card){__p.push("\n");if(card.slim)__p.push('\n<div class="card slim" id="',card.id,'" data-type="',card.subject.type,'"',card.tags?" data-tags='"+card.tags+"'":"",'>\n  <div class="card-left">\n    <a href="',card.user.url,'" sasource="',card.sasource,'">\n      ',htmlHelper.show.userIcon(card.user,"social-medium"),'\n    </a>\n  </div>\n  <div class="card-main">\n    <div class="top">\n      <div class="title">',
card.current_title,'</div>\n      <div class="title-right">\n        <span class="time-ago">',card.date,"</span>\n      </div>\n    </div>\n  </div>\n</div>\n");else{__p.push("\n");var showActions=myUser.loggedIn&&["profile","portfolio","single","symbol"].indexOf(sourcePage)>-1;__p.push('\n<div class="card" id="',card.id,'" data-type="',card.subject.type,'"',card.tags?" data-tags='"+card.tags+"'":"","\n  ",showActions?' data-author-id="'+card.user.id+'" data-author-nick="'+card.user.nick+'" data-subject-id="'+
card.subject.id+'"':"",'>\n  <div class="card-left">\n    ');var publisherIcon=card.publisher.image.length>0?card.publisher:card.user;__p.push('\n    <a href="',card.publisher.url,'" sasource="',card.sasource,'">\n      ',htmlHelper.show.userIcon(publisherIcon,"social-medium"),'\n    </a>\n  </div>\n\n  <div class="card-main">\n    <div class="top">\n      <div class="title">',card.current_title,'</div>\n      <div class="title-right">\n        <span class="time-ago">',card.date,"</span>\n        ");
if(showActions)__p.push('\n        <span class="action-dropdown-btn card-actions" data-behavior="card_actions"></span>\n        ');__p.push('\n      </div>\n    </div>\n\n    <div class="content">\n      ');if(!singlePost&&card.publisher_title){__p.push('\n      <div class="pub-title">\n        <div class="pub-row">\n          ',htmlHelper.show.userIcon(card.publisher,"social-medium"),'\n          <div class="pub-cell">\n            <div class="pub-title-content">\n              ',card.publisher_title,
"\n            </div>\n            ");if(card.publisher_bio)__p.push('\n            <div class="bio">\n              ',card.publisher_bio,"\n            </div>\n            ");__p.push("\n          </div>\n        </div>\n      </div>\n      ")}__p.push('\n      <div class="headline">',card.content,"</div>\n    </div>\n\n    ");if(showBottomSection){__p.push("\n    ");card.likes=card.likes||{count:0,i_liked:false};__p.push("\n    ");likesCount=parseInt(card.likes.count)||0;__p.push('\n    <div class="bottom">\n      <div class="actions">\n        <div class="action l">\n          <a href="#" class="like-image',
card.likes.i_liked?" liked":"",'" data-id="',card.id,'" data-type="Card"></a>\n          <span class="likers',likesCount===0?" hidden":""," ",card.likes.i_liked?" liked":"",'"\n                data-toggle="popover" data-id="',card.id,'" data-type="Card"\n                data-total-likes="',likesCount,'">(',likesCount,")</span>\n        </div>\n        ");if(E_TYPES.HIDE_COMMENTS.indexOf(card.subject.type)===-1){__p.push('\n        <div\n          class="action comment-link',card.only_user_comments?
" switch-to-prev":"",'"',card.comments.list&&card.comments.list.length?' data-loaded="true"':"",">\n          <a href='#'>Comment</a>\n          ");commentsCount=parseInt(card.comments.count)||0;__p.push('\n          <span class="comments-total',commentsCount===0?" hidden":"",'"\n                data-comments-total="',commentsCount,'">(',commentsCount,")</span>\n        </div>\n        ")}__p.push("\n        ");if(myUser.id!==card.user.id&&E_TYPES.FOLLOWED.indexOf(card.subject.type)>-1)__p.push('\n        <div\n          class="action pull-right ',
myUser.followedUsers.indexOf(card.user.id)===-1?"follow":"following",'"\n          data-follow="',card.user.id,'"><span></span>',card.user.nick,"</div>\n        ");__p.push("\n      </div>\n    </div>\n\n    ",htmlHelper.show.cardComments(card.id,card.subject.type,card.only_user_comments,card.comments,singlePost),"\n    ")}__p.push("\n  </div>\n</div>\n")}__p.push("\n")});__p.push("\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/feed/no_cards"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="clearfix"></div>\n<div class="empty-card">',html,"</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/feed/card_comments"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("");if(E_TYPES.HIDE_COMMENTS.indexOf(cardType)===-1){__p.push('\n<div class="comments-container',singlePost||comments.show?"":" hide",'">\n  ');var previewedCommentsCount=comments.list&&comments.list.length?comments.list.length:0;__p.push("\n  ");if(comments&&comments.count){__p.push("\n  ");if(!singlePost&&cardOnlyUserComments&&
previewedCommentsCount!==0&&(previewedCommentsCount>comments.min_2_show||previewedCommentsCount<comments.count))__p.push('\n  <div class="previous">\n    <a href="#" class="pull-left switch-to-prev">View all comments</a>\n  </div>\n  ');__p.push("\n  ");if(comments.count>comments.min_2_show&&[0,comments.count].indexOf(comments.shownCount)===-1){__p.push('\n    <div class="previous',!singlePost&&(comments.show&&!cardOnlyUserComments)?"":" hide",'">\n    <a href="#" class="pull-left fetch-prev">View previous comments</a>\n    <label class="pull-right counters">\n      <span class="counter comments-shown">',
comments.shownCount,"</span>\n      <span> of </span>\n      ");commentsCount=comments.count?parseInt(comments.count):0;__p.push('\n      <span class="counter comments-total" data-comments-total="',commentsCount,'">',commentsCount,"</span>\n    </label>\n  </div>\n  ")}__p.push("\n  ")}__p.push('\n\n  <div class="comments',previewedCommentsCount?"":" hide",'"',comments.stashed?" data-stashed":"",">\n    ");if(previewedCommentsCount)__p.push("\n    ",htmlHelper.show.comments(cardType,comments.list),
"\n    ");__p.push("\n  </div>\n\n  ",htmlHelper.show.writeComment(cardId),"\n</div>\n")}__p.push("\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/feed/comments"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("");comments.forEach(function(comment){__p.push("\n");var user=comment.user?comment.user:{id:myUser.id,nick:myUser.nick,url:myUser.profileLink,image:myUser.image};__p.push('\n<div class="comment" data-id="',comment.id,'" data-type="',comment.type,'">\n  <div class="level">\n    <div class="first"></div>\n    <div class="last"></div>\n  </div>\n  <div class="details">\n    <div class="user-img pull-left">\n      <a href="',
user.url,'" target="_blank">',htmlHelper.show.userIcon(user,"social-small"),'</a>\n    </div>\n    <div class="user-comment pull-right">\n      <label class="content untruncated-comment">\n        <a href="',user.url,'" class="user-nick" sasource=\'social_feed\'\n           target="_blank">',user.nick,'</a>\n        <span class="text">',comment.content,'</span>\n      </label>\n    </div>\n    <ul class="comment-actions">\n      ');if(likable)__p.push("\n      <li class=\"act-like\">\n        <a href='#'",
comment.likes.i_liked?' class="liked"':"",' data-id="',comment.id,'"\n           data-type="',comment.likes.type,'"></a>\n      </li>\n      ');__p.push("\n      ");if(!comment.parent_id&&E_TYPES.UNREPLIABLE.indexOf(comment.type)===-1)__p.push("\n      <li class=\"act-reply\">\n        <a href='#'>Reply</a>\n      </li>\n      ");__p.push('\n      <li>\n        <label class="time-ago">',comment.date,"</label>\n      </li>\n      ");if(likable)__p.push('<li class="likes-counter',comment.likes.count===
0?" hide":"","\">\n        <a href='#'>",comment.likes.count,"</a>\n      </li>\n      ");__p.push('\n      <li class="abuse">\n        <a class="sa-report-abuse-btn action-btn" data-type="Comment" data-source="PortfolioComments"\n           data-id="',comment.id,'">Report abuse</a>\n      </li>\n    </ul>\n  </div>\n</div>\n',htmlHelper.show.replies(cardType,comment),"\n")});__p.push("\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/feed/comment_new"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="comment new" data-parent-id="',parentId,'">\n  <div class="level">\n    <div class="first"></div>\n    <div class="last"></div>\n  </div>\n  <div class="details">\n    <div class="cell">\n      <div class="user-img pull-left">\n        ',htmlHelper.show.userIcon(myUser,"social-small"),'\n      </div>\n      <div class="user-comment pull-right">\n        <div class="comment-content" contenteditable="true" placeholder="Add Your Comment"></div>\n      </div>\n    </div>\n  </div>\n  <div class="submit hidden">\n    <button class="btn btn-default pull-right" disabled="disabled">Post</button>\n  </div>\n</div>\n');
return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/feed/replies"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("");if(!comment.parent_id&&E_TYPES.UNREPLIABLE.indexOf(comment.type)===-1){__p.push("\n<div class='replies' data-parent-id=\"",comment.id,'">\n  ');if(comment.replies&&comment.replies.length)__p.push("\n  ",htmlHelper.show.comments(cardType,comment.replies),"\n  ");__p.push("\n</div>\n")}else{__p.push("\n  ");if(comment.replies&&comment.replies.length)__p.push("\n  ",
htmlHelper.show.comments(cardType,comment.replies),"\n  ");__p.push("\n")}__p.push("\n")}return __p.join("")}}).call(this);
(function(SA,$){var scope=SA.UsingNamespace("SA.Pages.Feed.Common");var COMMENT_TRUNCATE_LINES=5;var CARD_TRUNCATE_LINES=8;scope.myUser={id:SA.Data.User.id(),nick:SA.Data.User.nick(),image:SA.Data.User.pictureUrl(),profileLink:SA.Data.User.profileLink(),followedUsers:SA.Data.User.followedUsers(),loggedIn:SA.Data.User.loggedIn()};scope.initMyUser=function(opt){if(opt.myImage)scope.myUser.image=opt.myImage};scope.extraData=SA.Pages.Feed.Modules.ExtraData;scope.dataHandler=SA.Pages.Feed.Modules.DataHandler;
scope.E_TYPES={TRUNCATABLE:["Card","StockTalk"],IGNORE_TRUNCATE:["admin-card"],SHORTEN:["Article","MarketCurrent","InstablogPost","AcquireStory"],COMMENTABLE:["Card","StockTalk","Article","InstablogPost","AcquireStory","MarketCurrent"],HIDE_COMMENTS:["ExternalNews"],FOLLOWED:["Card","Article","InstablogPost","StockTalk"],MUTEABLE:["Card","InstablogPost","StockTalk"],UNREPLIABLE:["StockTalk"],DELETEABLE:["Card"],REPORTABLE:["Card","StockTalk","InstablogPost"]};scope.dataManager={get:function(url,data,
doneCallback,failCallback,alwaysCallback){$.get(url,data).done(function(res){if(doneCallback)doneCallback(res)}).fail(function(jqXHR,textStatus,error){if(failCallback)failCallback()}).always(function(){if(alwaysCallback)alwaysCallback()})},post:function(url,data,doneCallback,failCallback,alwaysCallback){$.post(url,data).done(function(res){if(doneCallback)doneCallback(res)}).fail(function(jqXHR,textStatus,error){if(failCallback)failCallback()}).always(function(){if(alwaysCallback)alwaysCallback()})}};
scope.setTrunk8=function($elem,lineCount,fill){fill=fill||'&hellip;&nbsp;<a href="#" class="read-more">Read More</a>';$elem.trunk8({lines:lineCount,fill:fill,parseHTML:true,hiddenTooltip:true})};scope.truncateComments=function($comments){this.setTrunk8($comments.find(".content.untruncated-comment").find("span.text:visible"),COMMENT_TRUNCATE_LINES);$comments.find(".untruncated-comment:visible").removeClass("untruncated-comment")};scope.truncateHeadlines=function(cards){var headlines=[],bulletLists=
[];$.each(cards,function(){var cardTags=[];if(this.tags)cardTags=this.tags.split(",").filter(function(x){return x.trim()});if(scope.E_TYPES.TRUNCATABLE.indexOf(this.subject.type)>-1&&!scope.getArraysMatches([scope.E_TYPES.IGNORE_TRUNCATE,cardTags]).length)headlines.push(".card#"+this.id+" .content .headline p");if(scope.E_TYPES.SHORTEN.indexOf(this.subject.type)>-1)bulletLists.push({type:this.subject.type,id:this.id})});if(headlines.length)this.setTrunk8($(headlines.join(",")),CARD_TRUNCATE_LINES);
if(bulletLists.length)shorten(bulletLists)};scope.scrollToBottomOfComments=function(cards){if(cards&&cards.length){var commentsSelectors=cards.map(function(e){if(!e)return true;return"#"+e.id+" .comments-container .comments"});var $commentsSections=$(commentsSelectors.join(","));if($commentsSections.length)$.each($commentsSections,function(){$(this).scrollTop(this.scrollHeight)})}};var shorten=function(lists){var maxHeight=95;$.each(lists,function(){var card=this,$cardHeadline=$(".card#"+card.id+
" .content .headline"),$content=$cardHeadline.find("div ul, div p");var totalHeight=0;if($content&&$content.length)if($content.is("ul")){if($content.length>1)$content.each(function(index,elem){if(index>0)$(elem).remove()});var liHeight,index,lis;for(index=0,lis=$content.find("li");index<lis.length;index++){liHeight=$(lis[index]).outerHeight(true);if(totalHeight+liHeight>maxHeight)break;totalHeight+=liHeight}switch(card.type){case "Article":case "InstablogPost":$content.addClass("shorten").css({"max-height":totalHeight-
4+"px"});$content.after(buildReadFullLink($cardHeadline,card.type));break;case "AcquireStory":case "MarketCurrent":if(totalHeight>maxHeight||totalHeight<=$content.outerHeight(true)){$content.addClass("shorten").css({"max-height":totalHeight-4+"px"});$content.after(buildReadMoreLink($cardHeadline,card.type))}break}}else switch(card.type){case "Article":case "InstablogPost":if($content.outerHeight(true)>maxHeight)$content.addClass("shorten").css({"max-height":maxHeight+"px"});$content.after(buildReadFullLink($cardHeadline,
card.type));break;case "AcquireStory":case "MarketCurrent":if($content.outerHeight(true)>maxHeight){$content.addClass("shorten").css({"max-height":maxHeight+"px"});$content.after(buildReadMoreLink($cardHeadline,card.type))}break}})};var buildReadFullLink=function($cardHeadline,cardType){var linkText="Read Full";switch(cardType){case "InstablogPost":linkText="Read Full Instablog";break;case "AcquireStory":linkText="Read Full Press Release";break;default:linkText="Read Full Article";break}var $titleLink=
$cardHeadline.find("div:not(.image) .title").first();return'<div class="longer"><a href="'+$titleLink.attr("href")+'" target="_blank" sasource="social_feed_read_more">'+linkText+"</a></div>"};var buildReadMoreLink=function($cardHeadline,cardType){if(cardType==="MarketCurrent")return'<div class="longer"><a href="#" class="read-more" sasource="social_feed_read_more">Read More</a></div>';else return buildReadFullLink($cardHeadline,cardType)};scope.linkify=function(selector){$(selector).linkify()};scope.pluralizer=
{types:{like:{single:"Like",multiple:"Likes"},comment:{single:"Comment",multiple:"Comments"},person:{single:"Person",multiple:"People"},other:{single:"Other person",multiple:"Others"},likeThisPost:{single:"Likes this post",multiple:"Like this post"}},pluralize:function(type,count){return parseInt(count)===1?type.single:type.multiple},format:function(type,count,toLowerCase){if(toLowerCase)return count+" "+this.pluralize(type,count).toLowerCase();else return count+" "+this.pluralize(type,count)}};scope.contentFormatter=
function(htmlContent){var tags={ticker:{tag:"",from:/<span([^>]+)>([$A-Z]+)/ig,to:function(ticker){if(ticker.length<=1)return ticker;return ticker.replace(/<([^>]+)>/ig,"")}},br:{tag:"<br>",from:/(<div><br[^>]+\><\/div>|<br[^>]+\>)/ig,to:"<br>"},p:{tag:"<p>",from:/(<p[^>]+?>|<p>)/igm,to:""},pClosing:{tag:"<p>",from:/<\/p>/igm,to:"<br>"},div:{tag:"<div>",from:/(<div[^>]+?>|<div>)/igm,to:""},divClosing:{tag:"<div>",from:/<\/div>/igm,to:"<br>"},span:{tag:"<span([^>]+)>>",from:/(<span[^>]+?>|<span>|<\/span>)/igm,
to:""},label:{tag:"<span([^>]+)>>",from:/(<label[^>]+?>|<label>|<\/label>)/igm,to:""},img:{tag:"<img>",from:/<img[^>]+\>/ig,to:""},nbsp:{tag:"&nbsp;",from:/&nbsp;/ig,to:" "}};var html=htmlContent;$.each(tags,function(){html=html.replace(this.from,this.to||"")});var content=[];$.each(html.split(tags.br.tag),function(){if(this.trim()!==""||content.length){content.push(this.trim());content.push(tags.br.tag)}else if(this.trim()===""&&content.length)content.push(tags.br.tag)});return content.join("").replace(/(<br>)+$/ig,
"").replace(/<br><br>/g,tags.br.tag)};scope.triggerCardAction=function($elem){if($elem)$elem.closest(".card").first().trigger("cardActionTriggered")};scope.getArraysMatches=function(arrays){return arrays.shift().reduce(function(res,v){if(res.indexOf(v)===-1&&arrays.every(function(a){return a.indexOf(v)!==-1}))res.push(v);return res},[])};scope.html={show:{userIcon:function(user,sizedClass){var content;if(user.image&&user.image.indexOf("commenter_gray")===-1)content='<img src="'+user.image+'"/>';else{var firstCharCode=
user.nick?user.nick.charCodeAt(0):"u";var firstChar=String.fromCharCode(firstCharCode).toUpperCase();var colors=["F44336","E91E63","9C27B0","3F51B5","2196F3","00BCD4","009688","4CAF50","8BC34A","FF5722","FF9800","607D8B"];var color=colors[firstCharCode%colors.length];content='<div class="sa-user-icon '+sizedClass+" sa-"+color+'">'+firstChar+"</div>"}return content},cards:function(cards,opt,singlePost){return JST["jst/pages/feed/cards"]({cards:cards,myUser:scope.myUser,htmlHelper:scope.html,pluralizer:scope.pluralizer,
E_TYPES:scope.E_TYPES,showBottomSection:opt.showBottomSection,sourcePage:opt.sourcePage,singlePost:singlePost})},noCards:function(source){var $author=$(".sticky-author-name"),html=source==="portfolio"||!$author.length?"Sorry, we couldn't find any activity on your portfolio.":"We couldn't find any activity from "+$author.html();return JST["jst/pages/feed/no_cards"]({html:html})},cardComments:function(cardId,cardType,cardOnlyUserComments,comments,singlePost){return JST["jst/pages/feed/card_comments"]({cardId:cardId,
cardType:cardType,cardOnlyUserComments:cardOnlyUserComments,comments:comments,myUser:scope.myUser,htmlHelper:scope.html,pluralizer:scope.pluralizer,E_TYPES:scope.E_TYPES,singlePost:singlePost})},comments:function(cardType,comments){return JST["jst/pages/feed/comments"]({likable:"StockTalk".indexOf(cardType),cardType:cardType,comments:comments,myUser:scope.myUser,htmlHelper:scope.html,pluralizer:scope.pluralizer,E_TYPES:scope.E_TYPES})},replies:function(cardType,comment){return JST["jst/pages/feed/replies"]({cardType:cardType,
comment:comment,myUser:scope.myUser,htmlHelper:scope.html,pluralizer:scope.pluralizer,E_TYPES:scope.E_TYPES})},writeComment:function(parentId){return JST["jst/pages/feed/comment_new"]({parentId:parentId,myUser:scope.myUser,htmlHelper:scope.html})}},popUp:{show:function(content){var a=SA.Widgets.Popup.build({className:"cards-popup",keyboard:true,headerContent:"<h4>Thank you for your patience.</h4>",backdrop:true,removeAfterClose:true,bodyContent:content,footerContent:'<a class="btn orange-btn" data-dismiss="modal">OK</a>'});
a.show()},showModerated:function(moderated){if(moderated)scope.html.popUp.show("<p>Your post is being reviewed by our moderators and will be posted shortly.</p>          <p>For more info about moderation on Seeking Alpha, click <a href='/page/comment_guidelines'>here</a>.</p>          <p class='small'>Time to posting may be longer outside of US business hours and at times of high comment volume.</p>")}},postCard:function(data){if(data&&data.card){scope.html.popUp.showModerated(data.moderated);$(".cards").prepend(scope.html.show.cards([data.card],
!data.moderated));scope.linkify(".cards .card#"+data.card.id);$(".cards").removeClass("hide")}}}})(SA,jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Pages.Feeds.Modules");scope.Filters=function(opt){var cacheKey={showByFollow:"feed-filter-show-by-follow",subjectTypes:"feed-filter-selected-options"};var $portfolio=$(opt.portfolioSelector);var criteria={userId:function(){if(!this._userId)this._userId=SA.Data.User.id();return this._userId},portfolioId:function(){if(!this._portfolioId)this._portfolioId=$portfolio[0].value.split("-")[0];return this._portfolioId},symbol:null,showByFollow:{get:function(){var cachedShowByFollow=
SA.Data.Cache.get(cacheKey.showByFollow);if(cachedShowByFollow==="undefined"||cachedShowByFollow===null||cachedShowByFollow==="true"){cachedShowByFollow=true;criteria.showByFollow.set(cachedShowByFollow)}else cachedShowByFollow=false;return cachedShowByFollow},set:function(value){SA.Data.Cache.set(cacheKey.showByFollow,value)}},subjectTypes:{get:function(){var subjectTypes=[],cachedSubjectTypes=SA.Data.Cache.get(cacheKey.subjectTypes);if(cachedSubjectTypes===undefined||cachedSubjectTypes===null){subjectTypes=
options.subjectTypes;criteria.subjectTypes.set(subjectTypes)}else if(cachedSubjectTypes&&cachedSubjectTypes.length)subjectTypes=cachedSubjectTypes.split(",");return subjectTypes},set:function(value){SA.Data.Cache.set(cacheKey.subjectTypes,value)}}};var options={container:opt.container,subjectTypes:opt.subjectTypes,portfolioSelector:opt.portfolioSelector};var getCriteria=function(time,since){var filter={user_id:criteria.userId()};if($portfolio&&$portfolio.length)filter.portfolio_id=criteria.portfolioId();
if(time)filter.time=time;if(since)filter.since=since;if(criteria.symbol)filter.force_filter_symbol=criteria.symbol;if(!criteria.showByFollow.get())filter.force_show_by_follow=false;filter.force_filter_subject_types=criteria.subjectTypes.get();return filter};var setCriteria={symbol:function(value){criteria.symbol=value}};var getCriteriaPerTime=function(time){return getCriteria(time)};var getCriteriaSince=function(since){return getCriteria(null,since)};var getBiExtraData=function(){var filter=[],symbol=
[],contentType=[];if(criteria.symbol){filter.push("symbol");symbol.push(criteria.symbol)}var showByFollow=criteria.showByFollow.get();if(!showByFollow)filter.push("exclude_people_i_follow");var subjectTypes=criteria.subjectTypes.get();if(subjectTypes&&subjectTypes.length&&subjectTypes.length!==opt.subjectTypes.length){filter.push("content_type");contentType=subjectTypes}return{filter:filter.join(","),symbol:symbol.join(","),show_by_follow:showByFollow,content_type:contentType.join(",")}};return{options:{container:options.container,
subjectTypes:options.subjectTypes,savedShowByFollow:criteria.showByFollow.get(),savedSubjectTypes:criteria.subjectTypes.get()},setSymbolFilter:setCriteria.symbol,setFilters:function(showByFollow,subjectTypes){criteria.showByFollow.set(showByFollow);criteria.subjectTypes.set(subjectTypes)},getFilterPerTime:getCriteriaPerTime,getFilterSince:getCriteriaSince,getBiExtraData:getBiExtraData}}})(SA,jQuery);
(function(SA,$,window){var scope=SA.UsingNamespace("SA.Pages.Feeds.Cards");scope.Comments=function(opt){var source=opt.source||"";var feedCommon=SA.Pages.Feed.Common;if(!(this instanceof scope.Comments))return new scope.Comments(opt);var actionsManager=function(doc){var initPreventDefaults=function(){$(doc).on("click",".card .comments-container .previous a, .card .comments .comment .details ul li a",function(e){e.preventDefault()})};var initCommentAction=function(){$(doc).on("click",".card .bottom .actions .action.comment-link a, .card .bottom .actions .action.comment-link .comments-total",
function(e){var $self=$(e.target);var $card=$self.closest(".card");var isCommentsTotal=$self.hasClass("comments-total");SA.Logger.Mone.event("comments",source,isCommentsTotal?"clicked_comments_num":"clicked_comment_button",{data:{id:$card.attr("id"),type:commentHelper.getCardType($self)}});var $commentsContainer=$card.find(".comments-container");if(isCommentsTotal)$commentsContainer.hasClass("hide")?$commentsContainer.removeClass("hide"):$commentsContainer.addClass("hide");else{$commentsContainer.removeClass("hide");
commentFocus($card)}feedCommon.truncateComments($card.find(".comments"))})};function commentFocus($card){var $newCommentField=$card.find(".comment-content").first();if(!SA.Utils.Scroll.isScrolledIntoView($newCommentField))$.scrollTo($newCommentField.offset().top-$(window).height()+125,500);$newCommentField.focus()}var initCommentArea=function(){$(doc).on("keyup",".card .comment.new .comment-content",function(){var $self=$(this);$self.closest(".comment").find(".submit button").first().prop("disabled",
!commentIsValid($self.html()))}).on("focus",".card .comment.new .comment-content",function(){var $self=$(this);$self.closest(".comment").find(".submit").first().removeClass("hidden");$self.closest(".comment").find(".cell").first().addClass("border-bottom")}).on("paste",".card .comment.new .comment-content",function(e){e.preventDefault();if(e.originalEvent.clipboardData){var value=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",false,value)}else if(window.clipboardData&&
window.getSelection){var data=window.clipboardData.getData("Text");window.getSelection().getRangeAt(0).insertNode(document.createTextNode(data))}})};var initReplyLink=function(){var findRelatedReplies=function($selfComment,id){var $replies=$selfComment.next(".replies[data-parent-id='"+id+"']");return $replies.length==0?$selfComment:$replies.last()};$(doc).on("click",".card .comments .comment .act-reply a",function(){var $self=$(this);var $selfComment=$self.closest(".comment");var id=$selfComment.data("id");
$self.parent().removeClass("act-reply").addClass("act-cancel-reply");var $replies=findRelatedReplies($selfComment,id);$replies.append(feedCommon.html.show.writeComment(id));$replies.find(".comment-content").first().focus()}).on("click",".card .comments .comment .act-cancel-reply a",function(){var $self=$(this);var $selfComment=$self.closest(".comment");var id=$selfComment.data("id");$self.parent().removeClass("act-cancel-reply").addClass("act-reply");var $replies=findRelatedReplies($selfComment,id);
$replies.find(".comment.new").remove()})};var initLoadPrevious=function(){$(doc).on("click",".card .bottom .actions .action.comment-link",function(){if(!$(this).data("loaded")){loadPrevious(this,false,true);$(this).data("loaded",true)}});$(doc).on("click",".cards .comments-container .previous .fetch-prev",function(){loadPrevious(this,false)})};var initSwitchToLoadPrevious=function(){$(doc).on("click",".cards .comments-container .previous .switch-to-prev",function(){loadPrevious(this,true)})};var loadPrevious=
function(elem,makeSwitch,initial){var $self=$(elem),$card=$self.closest(".card"),$container=$card.find(".comments-container");$self.removeClass("fetch-prev");var cardId=$card.attr("id"),cardType=$card.data("type");var query="?card_id="+cardId;var shownCount=makeSwitch?0:commentHelper.counter.get.currentlyShownComments($self);if(shownCount)query+="&offset="+shownCount;if(initial)query+="&initial=true";feedCommon.dataManager.get("/cards/previous_comments"+query,null,function(data){feedCommon.dataManager.post("/cards/extra_data",
feedCommon.extraData.get.commentsIdsOnly(data.comments),function(extraData){feedCommon.extraData.merge.comments(data.comments,extraData);doneCallback(cardType,data,makeSwitch,$container,$self)},function(){doneCallback(cardType,data,makeSwitch,$container,$self)})});var doneCallback=function(cardType,data,makeSwitch,$container,$elem){var container=feedCommon.html.show.comments(cardType,data.comments),$previous=$container.find(".previous");if(container){if(makeSwitch){$previous.first().remove();$container.find(".comments").html("")}var $parent=
$container.find(".comments");$parent.prepend(container).removeClass("hide");$parent.scrollTo(0,300);feedCommon.truncateComments($parent);commentHelper.counter.update.currentlyShownCombined($container,data.comments.length);var newCount=commentHelper.counter.get.currentlyShownCombined($container);var total=commentHelper.counter.get.total($container);if(newCount>=total)$previous.remove();else{$elem.addClass("fetch-prev");$previous.removeClass("hide")}}else $previous.remove()}};var initSubmitComment=
function(){$(doc).on("click",".card .comment.new .submit button",function(e){var $self=$(this);var isReply=commentHelper.commentIsReply($self);var source=isReply?"comment_reply":"comment";commentHelper.commitWithUserNickPrompt(submitComment,$self,source)});var submitComment=function($elem){var $self=$elem,isReply=commentHelper.commentIsReply($self);var $closest=$self.closest(".comment.new");var $commentArea=$closest.find(".comment-content");var content=feedCommon.contentFormatter($commentArea.html());
if(commentIsValid(content)){$self.prop("disabled",true);var $closest=$self.closest(".comment.new");var cardId=$self.closest(".card").attr("id");var parentId=isReply?$closest.data("parent-id"):null;var data={card_id:cardId,parent_id:parentId,user_id:SA.Data.User.id(),content:content};SA.Logger.Mone.event("comments",source,"clicked_comment",{data:{id:cardId,type:commentHelper.getCardType($self),comment_type:isReply?"reply":"comment"}});var doneCallback;if(isReply)doneCallback=function(data){commentHelper.appendComment($closest.closest(".replies"),
data.comment,false);$self.closest(".comments").find(".comment .act-cancel-reply").removeClass("act-cancel-reply").addClass("act-reply");$closest.remove();feedCommon.html.popUp.showModerated(data.moderated)};else doneCallback=function(data){var $element=$closest.prev(".comments").last(".comment");commentHelper.appendComment($element,data.comment,true);commentHelper.counter.update.currentlyShownCombined($element,1);commentHelper.counter.update.total($element,1);commentHelper.counter.update.toggleCounters($element);
$commentArea.html("");$self.prop("disabled",false);feedCommon.html.popUp.showModerated(data.moderated)};feedCommon.dataManager.post("/cards/add_comment",data,doneCallback,function(){$self.prop("disabled",false)})}}};var commentIsValid=function(value){return value.replace(/<br>/g,"").replace(/<div>/g,"").replace(/<\/div>/g,"").length};var initLoadStashed=function(){$(doc).on("mouseover",".card .comments-container .comments[data-stashed]",function(){var $self=$(this),$card=$self.closest(".card");var stashedComments=
feedCommon.dataHandler.comments.pop($card.attr("id"));if(stashedComments.length){$self.removeAttr("data-stashed").prepend(feedCommon.html.show.comments($card.data("type"),stashedComments));feedCommon.scrollToBottomOfComments([{id:$card.attr("id")}])}})};initPreventDefaults();initCommentAction();initCommentArea();initReplyLink();initSubmitComment();initLoadPrevious();initSwitchToLoadPrevious();initLoadStashed()};var commentHelper={counter:{get:{count:function($counter){return $counter&&$counter.first()&&
!isNaN($counter.first().html())?parseInt($counter.first().html()):0},currentlyShownCombined:function($elem){var $counter=$elem.closest(".comments-container").find(".previous .counter.comments-shown");var currentCount=$elem.closest(".comments-container").find(".comment").not(".new").length;$counter.html(currentCount);return this.count($counter)},currentlyShownComments:function($elem){return $elem.closest(".comments-container").find(".comments .comment:not(.replies .comment)").length},total:function($elem){return parseInt($elem.closest(".comments-container").find(".previous .counter.comments-total").attr("data-comments-total"))}},
update:{currentlyShownCombined:function($elem){var $counter=$elem.closest(".comments-container").find(".previous .counter.comments-shown");var currentCount=$elem.closest(".comments-container").find(".comment").not(".new").length;$counter.html(currentCount)},total:function($elem,count){var $closest=$elem.closest(".card");$closest.find("[data-comments-total]").each(function(){var newCount=parseInt($(this).data("comments-total"))+count;$(this).data("comments-total",newCount);$(this).removeClass("hidden");
$(this).html("("+newCount+")")})},toggleCounters:function($elem){var count=$elem.length;if(count>0)if(count===1)feedCommon.triggerCardAction($elem)}}},appendComment:function($elem,comment){$elem.append(feedCommon.html.show.comments("Card",[comment]))},commentIsReply:function($elem){return $elem.closest(".replies").length>0},userHasNick:function(){return SA.Data.User.hasNick()},commitWithUserNickPrompt:function(callback,$elem,source){if(!this.userHasNick()){var enterNickPopup=SA.Widgets.EnterUsername.build({callback:callback,
data:$elem,source:"portfolio_page_"+source,footerContent:"Without a username, you cannot comment on a post",buttonContent:"Save"});enterNickPopup.show()}else callback($elem)},getCardType:function($self){return $self.closest(".card").data("type")}};var initialize=function(){new actionsManager(window.document)};SA.run(initialize,"Feeds.Cards.Comments")}})(SA,jQuery,window);
(function(){this.JST||(this.JST={});this.JST["jst/popups/info_tooltip"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="popover ',popoverCssName,'" onClick="',onClickFunction,'">\n  <div class="arrow"></div>\n  <h3 class="popover-title"></h3>\n  <div class="popover-content"></div>\n</div>\n');return __p.join("")}}).call(this);
(function(){var scope=SA.UsingNamespace("SA.Widgets");scope.InfoTooltip=new function(){this.buildInfoIconPopup=function(opt){$(opt.popupTarget).each(function(){var $elem=$(this);$elem.popover({placement:opt.placementPosition||"bottom",trigger:"manual",html:true,animation:opt.animation==false?false:true,title:"",template:JST["jst/popups/info_tooltip"]({popoverCssName:getPopoverCssName(opt.cssName),onClickFunction:opt.onClickFunction?opt.onClickFunction.toString().match(/function[^{]+\{([\s\S]*)\}$/)[1]:
""}),content:opt.tooltipText[$elem.attr("tooltip-key")]}).mouseenter(function(){var $elem=$(this);var delay=opt.mouseEnterDelay||300;setTimeout(function(){if($elem.is(":hover"))$elem.popover("show")},delay);$(".popover.in").on("mouseleave",function(){$elem.popover("hide")})}).mouseleave(function(){var $elem=$(this);var delay=opt.mouseLeaveDelay||300;setTimeout(function(){if(!$(".popover:hover").length)$elem.popover("hide")},delay)})})};function getPopoverCssName(cssName){return cssName||"popover"}
}})();(function(){this.JST||(this.JST={});this.JST["jst/widgets/utils/create_username_body"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="username-container">\n  <input class="username-input" id="username" type="text">\n  <div id="availability-icon"></div>\n  <div id="username-status"></div>\n</div>\n');return __p.join("")}}).call(this);
(function(SA,$){var scope=SA.UsingNamespace("SA.Models");scope.EnterUsername=new function(){var saveUsernameUrl="/users/ajax_set_nick";var getSuggestedUsernameUrl="/users/ajax_get_suggested_username";var getAvailabilityUrl="/users/ajax_username_is_available";this.OnResponse=function(){this.onComplete=function(){};this.onFailed=function(){}};this.getSuggestedUsername=function(data,onResponse){$.ajax({method:"GET",url:getSuggestedUsernameUrl,data:data,dataType:"json"}).done(function(response,status,
data){onResponse.onComplete(response,status,data)}).fail(function(response,errorType){onResponse.onFailed(response,errorType)})};this.getUsernameAvailability=function(data,onResponse){$.ajax({method:"GET",url:getAvailabilityUrl,data:data,dataType:"json"}).done(function(response,status,data){onResponse.onComplete(response,status,data)}).fail(function(response,errorType){onResponse.onFailed(response,errorType)})};this.saveUsername=function(data,onResponse){$.ajax({method:"POST",url:saveUsernameUrl,
data:data,dataType:"json"}).done(function(response,status,data){onResponse.onComplete(response,status,data)}).fail(function(response,errorType){onResponse.onFailed(response,errorType)})}}})(SA,jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Widgets");scope.EnterUsername=new function(){var data,postCallback,source,headerContent,footerContent,buttonContent;var $username,$saveButton,$usernameStatus,$usernameStatusIcon,$closeBtn;var popup;var modelCallback,timer;this.build=function(opt){source=opt.source||"";data=opt.data;postCallback=opt.callback;headerContent=opt.headerContent||"Create Username";footerContent=opt.footerContent||"Without a username, we cannot share your post";buttonContent=
opt.buttonContent||"Post";modelCallback=this.buildModelCallbacks();popup=SA.Widgets.Popup.build({headerContent:"<div class='enter-username-header'>"+headerContent+"</div>",bodyContent:JST["jst/widgets/utils/create_username_body"](),afterOpen:this.init,footerContent:"<span class='username-warning'>"+footerContent+"</span><button class='save-button save-button-disabled'>"+buttonContent+"</button>",removeAfterClose:true,afterClose:opt.cancelCallback||""});return this};this.show=function(){SA.Logger.Mone.event(source,
"username_choice","shown");popup.show()};this.hide=function(){popup.hide()};this.init=function(){$username=$("#username");$saveButton=$(".save-button");$usernameStatus=$("#username-status");$usernameStatusIcon=$("#availability-icon");$closeBtn=$("button.close");SA.Models.EnterUsername.getSuggestedUsername({user_id:SA.Data.User.id()},modelCallback);setEvents()};function setEvents(){$saveButton.click(function(){var username=$username.val();saveUsername(username)});$username.on("keyup",function(){clearTimeout(timer);
timer=setTimeout(checkUsername,500)});$closeBtn.click(function(){SA.Logger.Mone.event(source,"username_choice","clicked_x")})}var checkUsername=function(){var params={username:$username.val()};SA.Models.EnterUsername.getUsernameAvailability(params,modelCallback)};this.getOpen=function(){return this};function saveUsername(username){var params={username:username,user_id:SA.Data.User.id()};$saveButton.addClass("sa-animated");SA.Models.EnterUsername.saveUsername(params,modelCallback)}function setUsername(username){$username.attr("placeholder",
"Example: "+username)}function setAvailability(available){available?setAvailable():setUnavailable()}function setAvailable(){$usernameStatusIcon.removeClass("unavailable-icon");$usernameStatusIcon.addClass("available-icon");$saveButton.removeClass("save-button-disabled");$usernameStatus.text("Available");$usernameStatus.addClass("available");$usernameStatus.removeClass("unavailable")}function setUnavailable(){$usernameStatusIcon.addClass("unavailable-icon");$usernameStatusIcon.removeClass("available-icon");
$saveButton.addClass("save-button-disabled");$usernameStatus.text("Unavailable");$usernameStatus.removeClass("available");$usernameStatus.addClass("unavailable")}this.buildModelCallbacks=function(){var callback=new SA.Models.EnterUsername.OnResponse;callback.onComplete=function(response,status){$saveButton.removeClass("sa-animated");if(status=="success"&&!response.errors&&!response.warnings)handleResponse(response);else if(response.warnings)Rollbar.log("Warnings while setting username: "+response.warnings);
else{Rollbar.error("General Error while handling set username: "+response.errors);$usernameStatus.text(response.errors);setAvailability(false)}};callback.onFailed=function(response,errorType){Rollbar.error("Error "+errorType+" while setting username: "+response.errors)};return callback};function handleResponse(response){if(response.action=="saved"){SA.Logger.Mone.event(source,"username_choice","username_chosen",{data:{"username":response.username}});SA.Widgets.EnterUsername.getOpen().hide();if(postCallback)if(data)postCallback(data);
else postCallback()}else if(response.action=="availability")setAvailability(response.available);else if(response.action=="suggested")setUsername(response.suggested_username)}}})(SA,jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Models");scope.Like=new function(){var addLikeUrl="/likes/ajax_like";var removeLikeUrl="/likes/ajax_unlike";var getLatestLikersUrl="/likes/ajax_get_latest_likers";this.OnResponse=function(){this.onComplete=function(){};this.onFailed=function(){}};this.ajaxAddLike=function(data,onResponse){$.ajax({method:"POST",url:addLikeUrl,data:data,dataType:"json"}).done(function(response,status,data){onResponse.onComplete(response,status,data)}).fail(function(response,
errorType){onResponse.onFailed(response,errorType)})};this.ajaxRemoveLike=function(data,onResponse){$.ajax({method:"POST",url:removeLikeUrl,data:data,dataType:"json"}).done(function(response,status,data){onResponse.onComplete(response,status,data)}).fail(function(response,errorType){onResponse.onFailed(response,errorType)})};this.ajaxGetLatestLikers=function(data,onResponse){$.ajax({method:"GET",url:getLatestLikersUrl,data:data,dataType:"json"}).done(function(response,status,data){onResponse.onComplete(response,
status,data)}).fail(function(response,errorType){onResponse.onFailed(response,errorType)})}}})(SA,jQuery);
(function(SA,$,window){var scope=SA.UsingNamespace("SA.Pages.Feeds.Cards");scope.Likes=new function(){var modelCallback,source,savedEvent;var feedCommon=SA.Pages.Feed.Common;var container;var updateCommentLikes=function(action){var $obj=$(savedEvent.target);var $counter=$obj.closest("ul").find(".likes-counter a");var updatedCounter;if(action==="create"){updatedCounter=parseInt($counter.html())+1;$obj.addClass("liked");$counter.html(updatedCounter).closest("li").removeClass("hide")}else{updatedCounter=
parseInt($counter.html())-1;$obj.removeClass("liked");if(updatedCounter===0)$counter.html(updatedCounter).closest("li").addClass("hide");else $counter.html(updatedCounter)}};var updateCardLikes=function(action){var $obj=$(savedEvent.target);var $closest=$obj.closest(".card");var $likeSection=$closest.find(".bottom .likers");var counter=parseInt($likeSection.attr("data-total-likes"));var updatedCounter,html=[];if(action==="create"){updatedCounter=counter+1;$obj.addClass("liked").blur();$likeSection.removeClass("hidden");
$likeSection.addClass("liked")}else{updatedCounter=counter-1;$obj.removeClass("liked").blur();$likeSection.removeClass("liked");if(updatedCounter===0)$likeSection.addClass("hidden")}$likeSection.attr("data-total-likes",updatedCounter);$likeSection.html("("+updatedCounter+")")};var buildModelCallbacks=function(){modelCallback=new SA.Models.Like.OnResponse;modelCallback.onComplete=function(response,status){if(status=="success"&&!response.errors)if(response.action==="get_likers"){showLikeUsers(response.result,
response.total_likers);SA.Logger.Mone.event("likes",source,"hover_shown",{data:{id:response.likable_id,likes_number:response.total_likers,type:response.likable_type}})}else if(response.likable_type==="Comment"||response.likable_type==="StockTalk")updateCommentLikes(response.action);else{if(response.likable_type==="Card"){updateCardLikes(response.action);feedCommon.triggerCardAction($(savedEvent.target))}}else Rollbar.error("General Error while handling vote request: "+response.errors)};modelCallback.onFailed=
function(response,errorType){Rollbar.error("Error "+errorType+" while handling card request: "+response.errors)}};var getLikeData=function($elem){return{id:$elem.data("id"),type:$elem.data("type")}};var likeClicked=function(e){savedEvent=e||savedEvent;if(!SA.Data.User.hasNick()){var enterNickPopup=SA.Widgets.EnterUsername.build({callback:likeClicked,source:source+"_like",footerContent:"Without a username, you cannot like a post",buttonContent:"Save"});enterNickPopup.show();return}var data=getLikeData($(savedEvent.target));
SA.Logger.Mone.event("likes",source,"liked",{data:{id:data.id,type:data.type,card_type:getCardType($(savedEvent.target))}});SA.Models.Like.ajaxAddLike(data,modelCallback);return false};var unlikeClicked=function(e){savedEvent=e||savedEvent;var data=getLikeData($(savedEvent.target));SA.Logger.Mone.event("likes",source,"unliked",{data:{id:data.id,type:data.type,card_type:getCardType($(savedEvent.target))}});SA.Models.Like.ajaxRemoveLike(data,modelCallback);return false};var getLatestLikers=function(e){savedEvent=
e||savedEvent;var data=getLikeData($(savedEvent.target));if($(savedEvent.target).is(":hover"))SA.Models.Like.ajaxGetLatestLikers(data,modelCallback)};var buildLikersHtml=function(list,totalLikers){var result=[];$.each(list,function(key,obj){result.push('<div class="liker">'+obj+"</div>")});if(list.length<totalLikers)result.push('<div class="other-likers">'+(totalLikers-list.length)+" more</div>");return result.join("")};var getCardType=function($self){return $self.closest(".card").data("type")};var showLikeUsers=
function(list,totalLikers){$(savedEvent.target).attr("data-content",buildLikersHtml(list,totalLikers)).popover("show")};var initPopOver=function(){$(window.document).on("mouseover",'.likers, [data-toggle="popover"]',function(e){var $self=$(this);if(!$self.hasClass("inited"))$self.popover({trigger:"manual",placement:"bottom",html:true,animation:true,title:""}).addClass("inited");$self.data("timeout",setTimeout(function(){getLatestLikers(e)},200));e.preventDefault()}).on("mouseout",'.likers, [data-toggle="popover"]',
function(){clearTimeout($(this).data("timeout"));$(this).popover("hide")})};var setEvents=function(){$(container).on("click",".action.l a:not(.liked)",{type:".card"},likeClicked).on("click",".action.l a.liked",{type:".card"},unlikeClicked).on("click",".comments .act-like a:not(.liked)",{type:".comment"},likeClicked).on("click",".comments .act-like a.liked",{type:".comment"},unlikeClicked).on("click",'.likers [data-toggle="popover"]',function(e){e.preventDefault()})};this.init=function(opt){source=
opt.source||"";container=opt.container||".portfolio-main";setEvents();initPopOver();buildModelCallbacks()}}})(SA,jQuery,window);
(function(SA,$){var scope=SA.UsingNamespace("SA.Models.Follow"),unFollowUserLink="/account/ajax_stop_follow_this_user",followUserLink="/account/ajax_logged_in_follow_new_user",unFollowAuthorLink="/account/ajax_stop_follow_this_author",followAuthorWithRtaLink="/account/ajax_subscribe_to_author_rta",updateArticleFollowCountLink="/articles/update_follow_counter_by_article",followersFollowingsLink="/account/ajax_user_followers_followings",followedUsers=SA.Data.User.followedUsers(),followedAuthors=SA.Data.User.followedAuthors();
var removeFromUserFollowing=function(id){if(scope.isFollowingUser(id))followedUsers.splice($.inArray(id,followedUsers),1)};var addToAuthorFollowing=function(slug){if(!scope.isFollowingAuthor(slug))followedAuthors.push(slug)};var removeFromAuthorFollowing=function(slug){if(scope.isFollowingAuthor(slug))followedAuthors.splice($.inArray(slug,followedAuthors),1)};var addToUserFollowing=function(id){if(!scope.isFollowingUser(id))followedUsers.push(id)};var unFollowUser=function(opt){$.ajax({method:"POST",
url:unFollowUserLink,dataType:"text",data:{follow_user_id:opt.id}}).done(function(response){removeFromUserFollowing(opt.id);if($.isFunction(opt.onSuccess))opt.onSuccess(opt.id,response)}).fail(function(response){if($.isFunction(opt.onFailure))opt.onFailure(opt.id,response)})};var followUser=function(opt){$.ajax({method:"POST",url:followUserLink,dataType:"text",data:{user_id:opt.id}}).done(function(response){addToUserFollowing(opt.id);if($.isFunction(opt.onSuccess))opt.onSuccess(opt.id,response)}).fail(function(response){if($.isFunction(opt.onFailure))opt.onFailure(opt.id,
response)})};var unFollowAuthor=function(opt){$.ajax({method:"POST",url:unFollowAuthorLink,dataType:"text",data:{author_slug:opt.slug}}).done(function(response){removeFromAuthorFollowing(opt.slug);if(opt.articleId)scope.updateFollowCountByArticle(opt.articleId,"unfollow",false);if($.isFunction(opt.onSuccess))opt.onSuccess(opt.slug,response)}).fail(function(response){if($.isFunction(opt.onFailure))opt.onFailure(opt.slug,response)})};var followAuthor=function(opt){$.ajax({method:"POST",url:followUserLink,
dataType:"text",data:{slug:opt.slug}}).done(function(response){addToAuthorFollowing(opt.slug);if($.isFunction(opt.onSuccess))opt.onSuccess(opt.slug,response)}).fail(function(response){if($.isFunction(opt.onFailure))opt.onFailure(opt.slug,response)})};var followAuthorWithRta=function(opt){$.ajax({method:"POST",url:followAuthorWithRtaLink,dataType:"text",data:{author_slug:opt.slug,rta:true}}).done(function(response){addToAuthorFollowing(opt.slug);if(opt.articleId)scope.updateFollowCountByArticle(opt.articleId,
"follow",true);if($.isFunction(opt.onSuccess))opt.onSuccess(opt.slug,response)}).fail(function(response){if($.isFunction(opt.onFailure))opt.onFailure(opt.slug,response)})};var followersFollowings=function(opt){$.get(followersFollowingsLink,{user_id:opt.userId}).done(function(response){if($.isFunction(opt.onSuccess))opt.onSuccess(opt.userId,response)}).fail(function(response){if($.isFunction(opt.onFailure))opt.onFailure(opt.slug,response)})};scope.updateFollowCountByArticle=function(articleId,mode,
rta){$.ajax({method:"POST",url:updateArticleFollowCountLink,dataType:"text",data:{article_id:articleId,mode:mode,rta:rta}})};scope.isFollowingUser=function(id){return $.inArray(id,followedUsers)!==-1};scope.isFollowingAuthor=function(slug){return $.inArray(slug,followedAuthors)!==-1};scope.unFollowUser=function(opt){opt=opt||{};if(!$.isEmptyObject(opt)&&$.isNumeric(opt.id))unFollowUser(opt)};scope.followUser=function(opt){opt=opt||{};if(!$.isEmptyObject(opt)&&$.isNumeric(opt.id))followUser(opt)};
scope.unFollowAuthor=function(opt){opt=opt||{};if(!$.isEmptyObject(opt)&&opt.slug)unFollowAuthor(opt)};scope.followAuthor=function(opt){opt=opt||{};if(!$.isEmptyObject(opt)&&opt.slug)followAuthor(opt)};scope.followAuthorWithRta=function(opt){opt=opt||{};if(!$.isEmptyObject(opt)&&opt.slug)followAuthorWithRta(opt)};scope.followersFollowings=function(opt){opt=opt||{};if(!$.isEmptyObject(opt)&&opt.userId)followersFollowings(opt)}})(SA,jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Pages.Feeds.Cards");scope.Follow=new function(){var source,$allAuthorElements,followedUserIds=SA.Pages.Feed.Common.myUser.followedUsers,container;var setFollowingEl=function(){$allAuthorElements.removeClass("follow").addClass("following clicked")};var setFollowEl=function(){$allAuthorElements.removeClass("following clicked").addClass("follow")};var onUnfollowUserSuccess=function(id){followedUserIds.splice($.inArray(id,followedUserIds),1);setFollowEl()};
var onFollowUserSuccess=function(id){followedUserIds.push(id);setFollowingEl()};var unfollowUser=function(id){SA.Models.Follow.unFollowUser({id:id,onSuccess:onUnfollowUserSuccess(id)})};var followUser=function(id){SA.Models.Follow.followUser({id:id,onSuccess:onFollowUserSuccess(id)})};var followClicked=function(e){var $el=$(e.target).attr("data-follow")?$(e.target):$(e.target).parent();var id=$el.data("follow");setAuthorNameAndElements($el,id);var $card=$el.closest(".card");if($.inArray(id,followedUserIds)!==
-1){SA.Logger.Mone.event(source,"social_feed","clicked_unfollow",{data:{"follow_user_id":id,"type":$card.data("type"),"id":$card.data("id")}});unfollowUser(id)}else{SA.Logger.Mone.event(source,"social_feed","clicked_follow",{data:{"follow_user_id":id,"type":$card.data("type"),"id":$card.data("id")}});followUser(id)}};var removeClickClass=function(){$allAuthorElements.each(function(){$(this).removeClass("clicked")})};var setAuthorNameAndElements=function($el,id){$allAuthorElements=$('[data-follow="'+
id+'"]')};var setEvents=function(){$(container).on("click","[data-follow]",followClicked).on("mouseleave",".following.clicked",removeClickClass)};this.updateFollowBtns=function(){$("[data-follow]").each(function(ide,el){var $el=$(el);var id=$el.data("follow");if($.inArray(id,followedUserIds)!==-1){setAuthorNameAndElements($el,id);setFollowingEl()}})};this.init=function(opt){source=opt.source||"";container=opt.container||".portfolio-main";setEvents()}}})(SA,jQuery);
(function(root,factory){if(typeof define==="function"&&define.amd)define(factory);else if(typeof exports==="object")module.exports=factory(require,exports,module);else root.Tether=factory()})(this,function(require,exports,module){var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,
descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}var TetherBase=undefined;if(typeof TetherBase==="undefined")TetherBase={modules:[]};function getScrollParent(el){var _getComputedStyle=
getComputedStyle(el);var position=_getComputedStyle.position;if(position==="fixed")return el;var parent=el;while(parent=parent.parentNode){var style=undefined;try{style=getComputedStyle(parent)}catch(err){}if(typeof style==="undefined"||style===null)return parent;var _style=style;var overflow=_style.overflow;var overflowX=_style.overflowX;var overflowY=_style.overflowY;if(/(auto|scroll)/.test(overflow+overflowY+overflowX))if(position!=="absolute"||["relative","absolute","fixed"].indexOf(style.position)>=
0)return parent}return document.body}var uniqueId=function(){var id=0;return function(){return++id}}();var zeroPosCache={};var getOrigin=function getOrigin(doc){var node=doc._tetherZeroElement;if(typeof node==="undefined"){node=doc.createElement("div");node.setAttribute("data-tether-id",uniqueId());extend(node.style,{top:0,left:0,position:"absolute"});doc.body.appendChild(node);doc._tetherZeroElement=node}var id=node.getAttribute("data-tether-id");if(typeof zeroPosCache[id]==="undefined"){zeroPosCache[id]=
{};var rect=node.getBoundingClientRect();for(var k in rect)zeroPosCache[id][k]=rect[k];defer(function(){delete zeroPosCache[id]})}return zeroPosCache[id]};function getBounds(el){var doc=undefined;if(el===document){doc=document;el=document.documentElement}else doc=el.ownerDocument;var docEl=doc.documentElement;var box={};var rect=el.getBoundingClientRect();for(var k in rect)box[k]=rect[k];var origin=getOrigin(doc);box.top-=origin.top;box.left-=origin.left;if(typeof box.width==="undefined")box.width=
document.body.scrollWidth-box.left-box.right;if(typeof box.height==="undefined")box.height=document.body.scrollHeight-box.top-box.bottom;box.top=box.top-docEl.clientTop;box.left=box.left-docEl.clientLeft;box.right=doc.body.clientWidth-box.width-box.left;box.bottom=doc.body.clientHeight-box.height-box.top;return box}function getOffsetParent(el){return el.offsetParent||document.documentElement}function getScrollBarSize(){var inner=document.createElement("div");inner.style.width="100%";inner.style.height=
"200px";var outer=document.createElement("div");extend(outer.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"});outer.appendChild(inner);document.body.appendChild(outer);var widthContained=inner.offsetWidth;outer.style.overflow="scroll";var widthScroll=inner.offsetWidth;if(widthContained===widthScroll)widthScroll=outer.clientWidth;document.body.removeChild(outer);var width=widthContained-widthScroll;return{width:width,
height:width}}function extend(){var out=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var args=[];Array.prototype.push.apply(args,arguments);args.slice(1).forEach(function(obj){if(obj)for(var key in obj)if({}.hasOwnProperty.call(obj,key))out[key]=obj[key]});return out}function removeClass(el,name){if(typeof el.classList!=="undefined")name.split(" ").forEach(function(cls){if(cls.trim())el.classList.remove(cls)});else{var regex=new RegExp("(^| )"+name.split(" ").join("|")+"( |$)","gi");
var className=getClassName(el).replace(regex," ");setClassName(el,className)}}function addClass(el,name){if(typeof el.classList!=="undefined")name.split(" ").forEach(function(cls){if(cls.trim())el.classList.add(cls)});else{removeClass(el,name);var cls=getClassName(el)+(" "+name);setClassName(el,cls)}}function hasClass(el,name){if(typeof el.classList!=="undefined")return el.classList.contains(name);var className=getClassName(el);return(new RegExp("(^| )"+name+"( |$)","gi")).test(className)}function getClassName(el){if(el.className instanceof
SVGAnimatedString)return el.className.baseVal;return el.className}function setClassName(el,className){el.setAttribute("class",className)}function updateClasses(el,add,all){all.forEach(function(cls){if(add.indexOf(cls)===-1&&hasClass(el,cls))removeClass(el,cls)});add.forEach(function(cls){if(!hasClass(el,cls))addClass(el,cls)})}var deferred=[];var defer=function defer(fn){deferred.push(fn)};var flush=function flush(){var fn=undefined;while(fn=deferred.pop())fn()};var Evented=function(){function Evented(){_classCallCheck(this,
Evented)}_createClass(Evented,[{key:"on",value:function on(event,handler,ctx){var once=arguments.length<=3||arguments[3]===undefined?false:arguments[3];if(typeof this.bindings==="undefined")this.bindings={};if(typeof this.bindings[event]==="undefined")this.bindings[event]=[];this.bindings[event].push({handler:handler,ctx:ctx,once:once})}},{key:"once",value:function once(event,handler,ctx){this.on(event,handler,ctx,true)}},{key:"off",value:function off(event,handler){if(typeof this.bindings!=="undefined"&&
typeof this.bindings[event]!=="undefined")return;if(typeof handler==="undefined")delete this.bindings[event];else{var i=0;while(i<this.bindings[event].length)if(this.bindings[event][i].handler===handler)this.bindings[event].splice(i,1);else++i}}},{key:"trigger",value:function trigger(event){if(typeof this.bindings!=="undefined"&&this.bindings[event]){var i=0;for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];while(i<this.bindings[event].length){var _bindings$event$i=
this.bindings[event][i];var handler=_bindings$event$i.handler;var ctx=_bindings$event$i.ctx;var once=_bindings$event$i.once;var context=ctx;if(typeof context==="undefined")context=this;handler.apply(context,args);if(once)this.bindings[event].splice(i,1);else++i}}}}]);return Evented}();TetherBase.Utils={getScrollParent:getScrollParent,getBounds:getBounds,getOffsetParent:getOffsetParent,extend:extend,addClass:addClass,removeClass:removeClass,hasClass:hasClass,updateClasses:updateClasses,defer:defer,
flush:flush,uniqueId:uniqueId,Evented:Evented,getScrollBarSize:getScrollBarSize};"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e;}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;else if(Symbol.iterator in
Object(arr))return sliceIterator(arr,i);else throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,
protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}if(typeof TetherBase==="undefined")throw new Error("You must include the utils.js file before tether.js");var _TetherBase$Utils=TetherBase.Utils;var getScrollParent=_TetherBase$Utils.getScrollParent;var getBounds=_TetherBase$Utils.getBounds;var getOffsetParent=_TetherBase$Utils.getOffsetParent;
var extend=_TetherBase$Utils.extend;var addClass=_TetherBase$Utils.addClass;var removeClass=_TetherBase$Utils.removeClass;var updateClasses=_TetherBase$Utils.updateClasses;var defer=_TetherBase$Utils.defer;var flush=_TetherBase$Utils.flush;var getScrollBarSize=_TetherBase$Utils.getScrollBarSize;function within(a,b){var diff=arguments.length<=2||arguments[2]===undefined?1:arguments[2];return a+diff>=b&&b>=a-diff}var transformKey=function(){if(typeof document==="undefined")return"";var el=document.createElement("div");
var transforms=["transform","webkitTransform","OTransform","MozTransform","msTransform"];for(var i=0;i<transforms.length;++i){var key=transforms[i];if(el.style[key]!==undefined)return key}}();var tethers=[];var position=function position(){tethers.forEach(function(tether){tether.position(false)});flush()};function now(){if(typeof performance!=="undefined"&&typeof performance.now!=="undefined")return performance.now();return+new Date}(function(){var lastCall=null;var lastDuration=null;var pendingTimeout=
null;var tick=function tick(){if(typeof lastDuration!=="undefined"&&lastDuration>16){lastDuration=Math.min(lastDuration-16,250);pendingTimeout=setTimeout(tick,250);return}if(typeof lastCall!=="undefined"&&now()-lastCall<10)return;if(typeof pendingTimeout!=="undefined"){clearTimeout(pendingTimeout);pendingTimeout=null}lastCall=now();position();lastDuration=now()-lastCall};if(typeof window!=="undefined")["resize","scroll","touchmove"].forEach(function(event){window.addEventListener(event,tick)})})();
var MIRROR_LR={center:"center",left:"right",right:"left"};var MIRROR_TB={middle:"middle",top:"bottom",bottom:"top"};var OFFSET_MAP={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"};var autoToFixedAttachment=function autoToFixedAttachment(attachment,relativeToAttachment){var left=attachment.left;var top=attachment.top;if(left==="auto")left=MIRROR_LR[relativeToAttachment.left];if(top==="auto")top=MIRROR_TB[relativeToAttachment.top];return{left:left,top:top}};var attachmentToOffset=
function attachmentToOffset(attachment){var left=attachment.left;var top=attachment.top;if(typeof OFFSET_MAP[attachment.left]!=="undefined")left=OFFSET_MAP[attachment.left];if(typeof OFFSET_MAP[attachment.top]!=="undefined")top=OFFSET_MAP[attachment.top];return{left:left,top:top}};function addOffset(){var out={top:0,left:0};for(var _len=arguments.length,offsets=Array(_len),_key=0;_key<_len;_key++)offsets[_key]=arguments[_key];offsets.forEach(function(_ref){var top=_ref.top;var left=_ref.left;if(typeof top===
"string")top=parseFloat(top,10);if(typeof left==="string")left=parseFloat(left,10);out.top+=top;out.left+=left});return out}function offsetToPx(offset,size){if(typeof offset.left==="string"&&offset.left.indexOf("%")!==-1)offset.left=parseFloat(offset.left,10)/100*size.width;if(typeof offset.top==="string"&&offset.top.indexOf("%")!==-1)offset.top=parseFloat(offset.top,10)/100*size.height;return offset}var parseOffset=function parseOffset(value){var _value$split=value.split(" ");var _value$split2=_slicedToArray(_value$split,
2);var top=_value$split2[0];var left=_value$split2[1];return{top:top,left:left}};var parseAttachment=parseOffset;var TetherClass=function(){function TetherClass(options){var _this=this;_classCallCheck(this,TetherClass);this.position=this.position.bind(this);tethers.push(this);this.history=[];this.setOptions(options,false);TetherBase.modules.forEach(function(module){if(typeof module.initialize!=="undefined")module.initialize.call(_this)});this.position()}_createClass(TetherClass,[{key:"getClass",value:function getClass(){var key=
arguments.length<=0||arguments[0]===undefined?"":arguments[0];var classes=this.options.classes;if(typeof classes!=="undefined"&&classes[key])return this.options.classes[key];else if(this.options.classPrefix)return this.options.classPrefix+"-"+key;else return key}},{key:"setOptions",value:function setOptions(options){var _this2=this;var pos=arguments.length<=1||arguments[1]===undefined?true:arguments[1];var defaults={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};
this.options=extend(defaults,options);var _options=this.options;var element=_options.element;var target=_options.target;var targetModifier=_options.targetModifier;this.element=element;this.target=target;this.targetModifier=targetModifier;if(this.target==="viewport"){this.target=document.body;this.targetModifier="visible"}else if(this.target==="scroll-handle"){this.target=document.body;this.targetModifier="scroll-handle"}["element","target"].forEach(function(key){if(typeof _this2[key]==="undefined")throw new Error("Tether Error: Both element and target must be defined");
if(typeof _this2[key].jquery!=="undefined")_this2[key]=_this2[key][0];else if(typeof _this2[key]==="string")_this2[key]=document.querySelector(_this2[key])});addClass(this.element,this.getClass("element"));if(!(this.options.addTargetClasses===false))addClass(this.target,this.getClass("target"));if(!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=parseAttachment(this.options.targetAttachment);this.attachment=parseAttachment(this.options.attachment);
this.offset=parseOffset(this.options.offset);this.targetOffset=parseOffset(this.options.targetOffset);if(typeof this.scrollParent!=="undefined")this.disable();if(this.targetModifier==="scroll-handle")this.scrollParent=this.target;else this.scrollParent=getScrollParent(this.target);if(!(this.options.enabled===false))this.enable(pos)}},{key:"getTargetBounds",value:function getTargetBounds(){if(typeof this.targetModifier!=="undefined")if(this.targetModifier==="visible")if(this.target===document.body)return{top:pageYOffset,
left:pageXOffset,height:innerHeight,width:innerWidth};else{var bounds=getBounds(this.target);var out={height:bounds.height,width:bounds.width,top:bounds.top,left:bounds.left};out.height=Math.min(out.height,bounds.height-(pageYOffset-bounds.top));out.height=Math.min(out.height,bounds.height-(bounds.top+bounds.height-(pageYOffset+innerHeight)));out.height=Math.min(innerHeight,out.height);out.height-=2;out.width=Math.min(out.width,bounds.width-(pageXOffset-bounds.left));out.width=Math.min(out.width,
bounds.width-(bounds.left+bounds.width-(pageXOffset+innerWidth)));out.width=Math.min(innerWidth,out.width);out.width-=2;if(out.top<pageYOffset)out.top=pageYOffset;if(out.left<pageXOffset)out.left=pageXOffset;return out}else{if(this.targetModifier==="scroll-handle"){var bounds=undefined;var target=this.target;if(target===document.body){target=document.documentElement;bounds={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}}else bounds=getBounds(target);var style=getComputedStyle(target);
var hasBottomScroll=target.scrollWidth>target.clientWidth||[style.overflow,style.overflowX].indexOf("scroll")>=0||this.target!==document.body;var scrollBottom=0;if(hasBottomScroll)scrollBottom=15;var height=bounds.height-parseFloat(style.borderTopWidth)-parseFloat(style.borderBottomWidth)-scrollBottom;var out={width:15,height:height*.975*(height/target.scrollHeight),left:bounds.left+bounds.width-parseFloat(style.borderLeftWidth)-15};var fitAdj=0;if(height<408&&this.target===document.body)fitAdj=-1.1E-4*
Math.pow(height,2)-.00727*height+22.58;if(this.target!==document.body)out.height=Math.max(out.height,24);var scrollPercentage=this.target.scrollTop/(target.scrollHeight-height);out.top=scrollPercentage*(height-out.height-fitAdj)+bounds.top+parseFloat(style.borderTopWidth);if(this.target===document.body)out.height=Math.max(out.height,24);return out}}else return getBounds(this.target)}},{key:"clearCache",value:function clearCache(){this._cache={}}},{key:"cache",value:function cache(k,getter){if(typeof this._cache===
"undefined")this._cache={};if(typeof this._cache[k]==="undefined")this._cache[k]=getter.call(this);return this._cache[k]}},{key:"enable",value:function enable(){var pos=arguments.length<=0||arguments[0]===undefined?true:arguments[0];if(!(this.options.addTargetClasses===false))addClass(this.target,this.getClass("enabled"));addClass(this.element,this.getClass("enabled"));this.enabled=true;if(this.scrollParent!==document)this.scrollParent.addEventListener("scroll",this.position);if(pos)this.position()}},
{key:"disable",value:function disable(){removeClass(this.target,this.getClass("enabled"));removeClass(this.element,this.getClass("enabled"));this.enabled=false;if(typeof this.scrollParent!=="undefined")this.scrollParent.removeEventListener("scroll",this.position)}},{key:"destroy",value:function destroy(){var _this3=this;this.disable();tethers.forEach(function(tether,i){if(tether===_this3){tethers.splice(i,1);return}})}},{key:"updateAttachClasses",value:function updateAttachClasses(elementAttach,targetAttach){var _this4=
this;elementAttach=elementAttach||this.attachment;targetAttach=targetAttach||this.targetAttachment;var sides=["left","top","bottom","right","middle","center"];if(typeof this._addAttachClasses!=="undefined"&&this._addAttachClasses.length)this._addAttachClasses.splice(0,this._addAttachClasses.length);if(typeof this._addAttachClasses==="undefined")this._addAttachClasses=[];var add=this._addAttachClasses;if(elementAttach.top)add.push(this.getClass("element-attached")+"-"+elementAttach.top);if(elementAttach.left)add.push(this.getClass("element-attached")+
"-"+elementAttach.left);if(targetAttach.top)add.push(this.getClass("target-attached")+"-"+targetAttach.top);if(targetAttach.left)add.push(this.getClass("target-attached")+"-"+targetAttach.left);var all=[];sides.forEach(function(side){all.push(_this4.getClass("element-attached")+"-"+side);all.push(_this4.getClass("target-attached")+"-"+side)});defer(function(){if(!(typeof _this4._addAttachClasses!=="undefined"))return;updateClasses(_this4.element,_this4._addAttachClasses,all);if(!(_this4.options.addTargetClasses===
false))updateClasses(_this4.target,_this4._addAttachClasses,all);delete _this4._addAttachClasses})}},{key:"position",value:function position(){var _this5=this;var flushChanges=arguments.length<=0||arguments[0]===undefined?true:arguments[0];if(!this.enabled)return;this.clearCache();var targetAttachment=autoToFixedAttachment(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,targetAttachment);var elementPos=this.cache("element-bounds",function(){return getBounds(_this5.element)});
var width=elementPos.width;var height=elementPos.height;if(width===0&&height===0&&typeof this.lastSize!=="undefined"){var _lastSize=this.lastSize;width=_lastSize.width;height=_lastSize.height}else this.lastSize={width:width,height:height};var targetPos=this.cache("target-bounds",function(){return _this5.getTargetBounds()});var targetSize=targetPos;var offset=offsetToPx(attachmentToOffset(this.attachment),{width:width,height:height});var targetOffset=offsetToPx(attachmentToOffset(targetAttachment),
targetSize);var manualOffset=offsetToPx(this.offset,{width:width,height:height});var manualTargetOffset=offsetToPx(this.targetOffset,targetSize);offset=addOffset(offset,manualOffset);targetOffset=addOffset(targetOffset,manualTargetOffset);var left=targetPos.left+targetOffset.left-offset.left;var top=targetPos.top+targetOffset.top-offset.top;for(var i=0;i<TetherBase.modules.length;++i){var _module2=TetherBase.modules[i];var ret=_module2.position.call(this,{left:left,top:top,targetAttachment:targetAttachment,
targetPos:targetPos,elementPos:elementPos,offset:offset,targetOffset:targetOffset,manualOffset:manualOffset,manualTargetOffset:manualTargetOffset,scrollbarSize:scrollbarSize,attachment:this.attachment});if(ret===false)return false;else if(typeof ret==="undefined"||typeof ret!=="object")continue;else{top=ret.top;left=ret.left}}var next={page:{top:top,left:left},viewport:{top:top-pageYOffset,bottom:pageYOffset-top-height+innerHeight,left:left-pageXOffset,right:pageXOffset-left-width+innerWidth}};var scrollbarSize=
undefined;if(document.body.scrollWidth>window.innerWidth){scrollbarSize=this.cache("scrollbar-size",getScrollBarSize);next.viewport.bottom-=scrollbarSize.height}if(document.body.scrollHeight>window.innerHeight){scrollbarSize=this.cache("scrollbar-size",getScrollBarSize);next.viewport.right-=scrollbarSize.width}if(["","static"].indexOf(document.body.style.position)===-1||["","static"].indexOf(document.body.parentElement.style.position)===-1){next.page.bottom=document.body.scrollHeight-top-height;next.page.right=
document.body.scrollWidth-left-width}if(typeof this.options.optimizations!=="undefined"&&this.options.optimizations.moveElement!==false&&!(typeof this.targetModifier!=="undefined"))(function(){var offsetParent=_this5.cache("target-offsetparent",function(){return getOffsetParent(_this5.target)});var offsetPosition=_this5.cache("target-offsetparent-bounds",function(){return getBounds(offsetParent)});var offsetParentStyle=getComputedStyle(offsetParent);var offsetParentSize=offsetPosition;var offsetBorder=
{};["Top","Left","Bottom","Right"].forEach(function(side){offsetBorder[side.toLowerCase()]=parseFloat(offsetParentStyle["border"+side+"Width"])});offsetPosition.right=document.body.scrollWidth-offsetPosition.left-offsetParentSize.width+offsetBorder.right;offsetPosition.bottom=document.body.scrollHeight-offsetPosition.top-offsetParentSize.height+offsetBorder.bottom;if(next.page.top>=offsetPosition.top+offsetBorder.top&&next.page.bottom>=offsetPosition.bottom)if(next.page.left>=offsetPosition.left+
offsetBorder.left&&next.page.right>=offsetPosition.right){var scrollTop=offsetParent.scrollTop;var scrollLeft=offsetParent.scrollLeft;next.offset={top:next.page.top-offsetPosition.top+scrollTop-offsetBorder.top,left:next.page.left-offsetPosition.left+scrollLeft-offsetBorder.left}}})();this.move(next);this.history.unshift(next);if(this.history.length>3)this.history.pop();if(flushChanges)flush();return true}},{key:"move",value:function move(pos){var _this6=this;if(!(typeof this.element.parentNode!==
"undefined"))return;var same={};for(var type in pos){same[type]={};for(var key in pos[type]){var found=false;for(var i=0;i<this.history.length;++i){var point=this.history[i];if(typeof point[type]!=="undefined"&&!within(point[type][key],pos[type][key])){found=true;break}}if(!found)same[type][key]=true}}var css={top:"",left:"",right:"",bottom:""};var transcribe=function transcribe(_same,_pos){var hasOptimizations=typeof _this6.options.optimizations!=="undefined";var gpu=hasOptimizations?_this6.options.optimizations.gpu:
null;if(gpu!==false){var yPos=undefined,xPos=undefined;if(_same.top){css.top=0;yPos=_pos.top}else{css.bottom=0;yPos=-_pos.bottom}if(_same.left){css.left=0;xPos=_pos.left}else{css.right=0;xPos=-_pos.right}css[transformKey]="translateX("+Math.round(xPos)+"px) translateY("+Math.round(yPos)+"px)";if(transformKey!=="msTransform")css[transformKey]+=" translateZ(0)"}else{if(_same.top)css.top=_pos.top+"px";else css.bottom=_pos.bottom+"px";if(_same.left)css.left=_pos.left+"px";else css.right=_pos.right+"px"}};
var moved=false;if((same.page.top||same.page.bottom)&&(same.page.left||same.page.right)){css.position="absolute";transcribe(same.page,pos.page)}else if((same.viewport.top||same.viewport.bottom)&&(same.viewport.left||same.viewport.right)){css.position="fixed";transcribe(same.viewport,pos.viewport)}else if(typeof same.offset!=="undefined"&&same.offset.top&&same.offset.left)(function(){css.position="absolute";var offsetParent=_this6.cache("target-offsetparent",function(){return getOffsetParent(_this6.target)});
if(getOffsetParent(_this6.element)!==offsetParent)defer(function(){_this6.element.parentNode.removeChild(_this6.element);offsetParent.appendChild(_this6.element)});transcribe(same.offset,pos.offset);moved=true})();else{css.position="absolute";transcribe({top:true,left:true},pos.page)}if(!moved){var offsetParentIsBody=true;var currentNode=this.element.parentNode;while(currentNode&&currentNode.tagName!=="BODY"){if(getComputedStyle(currentNode).position!=="static"){offsetParentIsBody=false;break}currentNode=
currentNode.parentNode}if(!offsetParentIsBody){this.element.parentNode.removeChild(this.element);document.body.appendChild(this.element)}}var writeCSS={};var write=false;for(var key in css){var val=css[key];var elVal=this.element.style[key];if(elVal!==""&&val!==""&&["top","left","bottom","right"].indexOf(key)>=0){elVal=parseFloat(elVal);val=parseFloat(val)}if(elVal!==val){write=true;writeCSS[key]=val}}if(write)defer(function(){extend(_this6.element.style,writeCSS)})}}]);return TetherClass}();TetherClass.modules=
[];TetherBase.position=position;var Tether=extend(TetherClass,TetherBase);"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e;}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;else if(Symbol.iterator in
Object(arr))return sliceIterator(arr,i);else throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();var _TetherBase$Utils=TetherBase.Utils;var getBounds=_TetherBase$Utils.getBounds;var extend=_TetherBase$Utils.extend;var updateClasses=_TetherBase$Utils.updateClasses;var defer=_TetherBase$Utils.defer;var BOUNDS_FORMAT=["left","top","right","bottom"];function getBoundingRect(tether,to){if(to==="scrollParent")to=tether.scrollParent;else if(to==="window")to=[pageXOffset,pageYOffset,
innerWidth+pageXOffset,innerHeight+pageYOffset];if(to===document)to=to.documentElement;if(typeof to.nodeType!=="undefined")(function(){var size=getBounds(to);var pos=size;var style=getComputedStyle(to);to=[pos.left,pos.top,size.width+pos.left,size.height+pos.top];BOUNDS_FORMAT.forEach(function(side,i){side=side[0].toUpperCase()+side.substr(1);if(side==="Top"||side==="Left")to[i]+=parseFloat(style["border"+side+"Width"]);else to[i]-=parseFloat(style["border"+side+"Width"])})})();return to}TetherBase.modules.push({position:function position(_ref){var _this=
this;var top=_ref.top;var left=_ref.left;var targetAttachment=_ref.targetAttachment;if(!this.options.constraints)return true;var _cache=this.cache("element-bounds",function(){return getBounds(_this.element)});var height=_cache.height;var width=_cache.width;if(width===0&&height===0&&typeof this.lastSize!=="undefined"){var _lastSize=this.lastSize;width=_lastSize.width;height=_lastSize.height}var targetSize=this.cache("target-bounds",function(){return _this.getTargetBounds()});var targetHeight=targetSize.height;
var targetWidth=targetSize.width;var allClasses=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(constraint){var outOfBoundsClass=constraint.outOfBoundsClass;var pinnedClass=constraint.pinnedClass;if(outOfBoundsClass)allClasses.push(outOfBoundsClass);if(pinnedClass)allClasses.push(pinnedClass)});allClasses.forEach(function(cls){["left","top","right","bottom"].forEach(function(side){allClasses.push(cls+"-"+side)})});var addClasses=[];var tAttachment=
extend({},targetAttachment);var eAttachment=extend({},this.attachment);this.options.constraints.forEach(function(constraint){var to=constraint.to;var attachment=constraint.attachment;var pin=constraint.pin;if(typeof attachment==="undefined")attachment="";var changeAttachX=undefined,changeAttachY=undefined;if(attachment.indexOf(" ")>=0){var _attachment$split=attachment.split(" ");var _attachment$split2=_slicedToArray(_attachment$split,2);changeAttachY=_attachment$split2[0];changeAttachX=_attachment$split2[1]}else changeAttachX=
changeAttachY=attachment;var bounds=getBoundingRect(_this,to);if(changeAttachY==="target"||changeAttachY==="both"){if(top<bounds[1]&&tAttachment.top==="top"){top+=targetHeight;tAttachment.top="bottom"}if(top+height>bounds[3]&&tAttachment.top==="bottom"){top-=targetHeight;tAttachment.top="top"}}if(changeAttachY==="together"){if(top<bounds[1]&&tAttachment.top==="top")if(eAttachment.top==="bottom"){top+=targetHeight;tAttachment.top="bottom";top+=height;eAttachment.top="top"}else if(eAttachment.top===
"top"){top+=targetHeight;tAttachment.top="bottom";top-=height;eAttachment.top="bottom"}if(top+height>bounds[3]&&tAttachment.top==="bottom")if(eAttachment.top==="top"){top-=targetHeight;tAttachment.top="top";top-=height;eAttachment.top="bottom"}else if(eAttachment.top==="bottom"){top-=targetHeight;tAttachment.top="top";top+=height;eAttachment.top="top"}if(tAttachment.top==="middle")if(top+height>bounds[3]&&eAttachment.top==="top"){top-=height;eAttachment.top="bottom"}else if(top<bounds[1]&&eAttachment.top===
"bottom"){top+=height;eAttachment.top="top"}}if(changeAttachX==="target"||changeAttachX==="both"){if(left<bounds[0]&&tAttachment.left==="left"){left+=targetWidth;tAttachment.left="right"}if(left+width>bounds[2]&&tAttachment.left==="right"){left-=targetWidth;tAttachment.left="left"}}if(changeAttachX==="together")if(left<bounds[0]&&tAttachment.left==="left")if(eAttachment.left==="right"){left+=targetWidth;tAttachment.left="right";left+=width;eAttachment.left="left"}else{if(eAttachment.left==="left"){left+=
targetWidth;tAttachment.left="right";left-=width;eAttachment.left="right"}}else if(left+width>bounds[2]&&tAttachment.left==="right")if(eAttachment.left==="left"){left-=targetWidth;tAttachment.left="left";left-=width;eAttachment.left="right"}else{if(eAttachment.left==="right"){left-=targetWidth;tAttachment.left="left";left+=width;eAttachment.left="left"}}else if(tAttachment.left==="center")if(left+width>bounds[2]&&eAttachment.left==="left"){left-=width;eAttachment.left="right"}else if(left<bounds[0]&&
eAttachment.left==="right"){left+=width;eAttachment.left="left"}if(changeAttachY==="element"||changeAttachY==="both"){if(top<bounds[1]&&eAttachment.top==="bottom"){top+=height;eAttachment.top="top"}if(top+height>bounds[3]&&eAttachment.top==="top"){top-=height;eAttachment.top="bottom"}}if(changeAttachX==="element"||changeAttachX==="both"){if(left<bounds[0]&&eAttachment.left==="right"){left+=width;eAttachment.left="left"}if(left+width>bounds[2]&&eAttachment.left==="left"){left-=width;eAttachment.left=
"right"}}if(typeof pin==="string")pin=pin.split(",").map(function(p){return p.trim()});else if(pin===true)pin=["top","left","right","bottom"];pin=pin||[];var pinned=[];var oob=[];if(top<bounds[1])if(pin.indexOf("top")>=0){top=bounds[1];pinned.push("top")}else oob.push("top");if(top+height>bounds[3])if(pin.indexOf("bottom")>=0){top=bounds[3]-height;pinned.push("bottom")}else oob.push("bottom");if(left<bounds[0])if(pin.indexOf("left")>=0){left=bounds[0];pinned.push("left")}else oob.push("left");if(left+
width>bounds[2])if(pin.indexOf("right")>=0){left=bounds[2]-width;pinned.push("right")}else oob.push("right");if(pinned.length)(function(){var pinnedClass=undefined;if(typeof _this.options.pinnedClass!=="undefined")pinnedClass=_this.options.pinnedClass;else pinnedClass=_this.getClass("pinned");addClasses.push(pinnedClass);pinned.forEach(function(side){addClasses.push(pinnedClass+"-"+side)})})();if(oob.length)(function(){var oobClass=undefined;if(typeof _this.options.outOfBoundsClass!=="undefined")oobClass=
_this.options.outOfBoundsClass;else oobClass=_this.getClass("out-of-bounds");addClasses.push(oobClass);oob.forEach(function(side){addClasses.push(oobClass+"-"+side)})})();if(pinned.indexOf("left")>=0||pinned.indexOf("right")>=0)eAttachment.left=tAttachment.left=false;if(pinned.indexOf("top")>=0||pinned.indexOf("bottom")>=0)eAttachment.top=tAttachment.top=false;if(tAttachment.top!==targetAttachment.top||tAttachment.left!==targetAttachment.left||eAttachment.top!==_this.attachment.top||eAttachment.left!==
_this.attachment.left)_this.updateAttachClasses(eAttachment,tAttachment)});defer(function(){if(!(_this.options.addTargetClasses===false))updateClasses(_this.target,addClasses,allClasses);updateClasses(_this.element,addClasses,allClasses)});return{top:top,left:left}}});"use strict";var _TetherBase$Utils=TetherBase.Utils;var getBounds=_TetherBase$Utils.getBounds;var updateClasses=_TetherBase$Utils.updateClasses;var defer=_TetherBase$Utils.defer;TetherBase.modules.push({position:function position(_ref){var _this=
this;var top=_ref.top;var left=_ref.left;var _cache=this.cache("element-bounds",function(){return getBounds(_this.element)});var height=_cache.height;var width=_cache.width;var targetPos=this.getTargetBounds();var bottom=top+height;var right=left+width;var abutted=[];if(top<=targetPos.bottom&&bottom>=targetPos.top)["left","right"].forEach(function(side){var targetPosSide=targetPos[side];if(targetPosSide===left||targetPosSide===right)abutted.push(side)});if(left<=targetPos.right&&right>=targetPos.left)["top",
"bottom"].forEach(function(side){var targetPosSide=targetPos[side];if(targetPosSide===top||targetPosSide===bottom)abutted.push(side)});var allClasses=[];var addClasses=[];var sides=["left","top","right","bottom"];allClasses.push(this.getClass("abutted"));sides.forEach(function(side){allClasses.push(_this.getClass("abutted")+"-"+side)});if(abutted.length)addClasses.push(this.getClass("abutted"));abutted.forEach(function(side){addClasses.push(_this.getClass("abutted")+"-"+side)});defer(function(){if(!(_this.options.addTargetClasses===
false))updateClasses(_this.target,addClasses,allClasses);updateClasses(_this.element,addClasses,allClasses)});return true}});"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e;}}return _arr}return function(arr,
i){if(Array.isArray(arr))return arr;else if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);else throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();TetherBase.modules.push({position:function position(_ref){var top=_ref.top;var left=_ref.left;if(!this.options.shift)return;var shift=this.options.shift;if(typeof this.options.shift==="function")shift=this.options.shift.call(this,{top:top,left:left});var shiftTop=undefined,shiftLeft=undefined;if(typeof shift===
"string"){shift=shift.split(" ");shift[1]=shift[1]||shift[0];var _shift=shift;var _shift2=_slicedToArray(_shift,2);shiftTop=_shift2[0];shiftLeft=_shift2[1];shiftTop=parseFloat(shiftTop,10);shiftLeft=parseFloat(shiftLeft,10)}else{shiftTop=shift.top;shiftLeft=shift.left}top+=shiftTop;left+=shiftLeft;return{top:top,left:left}}});return Tether});
(function(root,factory){if(typeof define==="function"&&define.amd)define(["tether"],factory);else if(typeof exports==="object")module.exports=factory(require("tether"));else root.Shepherd=factory(root.Tether)})(this,function(Tether){var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,
descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x5,_x6,_x7){var _again=true;_function:while(_again){var object=_x5,property=_x6,receiver=_x7;desc=parent=getter=undefined;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=
Object.getPrototypeOf(object);if(parent===null)return undefined;else{_x5=parent;_x6=property;_x7=receiver;_again=true;continue _function}}else if("value"in desc)return desc.value;else{var getter=desc.get;if(getter===undefined)return undefined;return getter.call(receiver)}}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==
null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _Tether$Utils=Tether.Utils;var Evented=_Tether$Utils.Evented;var addClass=_Tether$Utils.addClass;var extend=_Tether$Utils.extend;var hasClass=
_Tether$Utils.hasClass;var removeClass=_Tether$Utils.removeClass;var uniqueId=_Tether$Utils.uniqueId;var Shepherd=new Evented;var ATTACHMENT={"top":"bottom center","left":"middle right","right":"middle left","bottom":"top center","center":"middle center"};function createFromHTML(html){var el=document.createElement("div");el.innerHTML=html;return el.children[0]}function matchesSelector(el,sel){var matches=undefined;if(typeof el.matches!=="undefined")matches=el.matches;else if(typeof el.matchesSelector!==
"undefined")matches=el.matchesSelector;else if(typeof el.msMatchesSelector!=="undefined")matches=el.msMatchesSelector;else if(typeof el.webkitMatchesSelector!=="undefined")matches=el.webkitMatchesSelector;else if(typeof el.mozMatchesSelector!=="undefined")matches=el.mozMatchesSelector;else if(typeof el.oMatchesSelector!=="undefined")matches=el.oMatchesSelector;return matches.call(el,sel)}function parseShorthand(obj,props){if(obj===null||typeof obj==="undefined")return obj;else if(typeof obj==="object")return obj;
var vals=obj.split(" ");var valsLen=vals.length;var propsLen=props.length;if(valsLen>propsLen){vals[0]=vals.slice(0,valsLen-propsLen+1).join(" ");vals.splice(1,(valsLen,propsLen))}var out={};for(var i=0;i<propsLen;++i){var prop=props[i];out[prop]=vals[i]}return out}var Step=function(_Evented){_inherits(Step,_Evented);function Step(tour,options){_classCallCheck(this,Step);_get(Object.getPrototypeOf(Step.prototype),"constructor",this).call(this,tour,options);this.tour=tour;this.bindMethods();this.setOptions(options);
return this}_createClass(Step,[{key:"bindMethods",value:function bindMethods(){var _this=this;var methods=["_show","show","hide","isOpen","cancel","complete","scrollTo","destroy"];methods.map(function(method){_this[method]=_this[method].bind(_this)})}},{key:"setOptions",value:function setOptions(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.options=options;this.destroy();this.id=this.options.id||this.id||"step-"+uniqueId();var when=this.options.when;if(when)for(var _event in when)if({}.hasOwnProperty.call(when,
_event)){var handler=when[_event];this.on(_event,handler,this)}if(!this.options.buttons)this.options.buttons=[{text:"Next",action:this.tour.next}]}},{key:"getTour",value:function getTour(){return this.tour}},{key:"bindAdvance",value:function bindAdvance(){var _this2=this;var _parseShorthand=parseShorthand(this.options.advanceOn,["selector","event"]);var event=_parseShorthand.event;var selector=_parseShorthand.selector;var handler=function handler(e){if(!_this2.isOpen())return;if(typeof selector!==
"undefined"){if(matchesSelector(e.target,selector))_this2.tour.next()}else if(_this2.el&&e.target===_this2.el)_this2.tour.next()};document.body.addEventListener(event,handler);this.on("destroy",function(){return document.body.removeEventListener(event,handler)})}},{key:"getAttachTo",value:function getAttachTo(){var opts=parseShorthand(this.options.attachTo,["element","on"])||{};var selector=opts.element;if(typeof selector==="string"){opts.element=document.querySelector(selector);if(!opts.element)throw new Error("The element for this Shepherd step was not found "+
selector);}return opts}},{key:"setupTether",value:function setupTether(){if(typeof Tether==="undefined")throw new Error("Using the attachment feature of Shepherd requires the Tether library");var opts=this.getAttachTo();var attachment=ATTACHMENT[opts.on||"right"];if(typeof opts.element==="undefined"){opts.element="viewport";attachment="middle center"}var tetherOpts={classPrefix:"shepherd",element:this.el,constraints:[{to:"window",pin:true,attachment:"together"}],target:opts.element,offset:opts.offset||
"0 0",attachment:attachment};if(this.tether)this.tether.destroy();this.tether=new Tether(extend(tetherOpts,this.options.tetherOptions))}},{key:"show",value:function show(){var _this3=this;if(typeof this.options.beforeShowPromise!=="undefined"){var beforeShowPromise=this.options.beforeShowPromise();if(typeof beforeShowPromise!=="undefined")return beforeShowPromise.then(function(){return _this3._show()})}this._show()}},{key:"_show",value:function _show(){var _this4=this;this.trigger("before-show");
if(!this.el)this.render();addClass(this.el,"shepherd-open");document.body.setAttribute("data-shepherd-step",this.id);this.setupTether();if(this.options.scrollTo)setTimeout(function(){_this4.scrollTo()});this.trigger("show")}},{key:"hide",value:function hide(){this.trigger("before-hide");removeClass(this.el,"shepherd-open");document.body.removeAttribute("data-shepherd-step");if(this.tether)this.tether.destroy();this.tether=null;this.trigger("hide")}},{key:"isOpen",value:function isOpen(){return hasClass(this.el,
"shepherd-open")}},{key:"cancel",value:function cancel(){this.tour.cancel();this.trigger("cancel")}},{key:"complete",value:function complete(){this.tour.complete();this.trigger("complete")}},{key:"scrollTo",value:function scrollTo(){var _getAttachTo=this.getAttachTo();var element=_getAttachTo.element;if(typeof this.options.scrollToHandler!=="undefined")this.options.scrollToHandler(element);else if(typeof element!=="undefined")element.scrollIntoView()}},{key:"destroy",value:function destroy(){if(typeof this.el!==
"undefined"){document.body.removeChild(this.el);delete this.el}if(this.tether)this.tether.destroy();this.tether=null;this.trigger("destroy")}},{key:"render",value:function render(){var _this5=this;if(typeof this.el!=="undefined")this.destroy();this.el=createFromHTML("<div class='shepherd-step "+(this.options.classes||"")+"' data-id='"+this.id+"' "+(this.options.idAttribute?'id="'+this.options.idAttribute+'"':"")+"></div>");var content=document.createElement("div");content.className="shepherd-content";
this.el.appendChild(content);var header=document.createElement("header");content.appendChild(header);if(typeof this.options.title!=="undefined"){header.innerHTML+="<h3 class='shepherd-title'>"+this.options.title+"</h3>";this.el.className+=" shepherd-has-title"}if(this.options.showCancelLink){var link=createFromHTML("<a href class='shepherd-cancel-link'>\u2715</a>");header.appendChild(link);this.el.className+=" shepherd-has-cancel-link";this.bindCancelLink(link)}if(typeof this.options.text!=="undefined")(function(){var text=
createFromHTML("<div class='shepherd-text'></div>");var paragraphs=_this5.options.text;if(typeof paragraphs==="function")paragraphs=paragraphs.call(_this5,text);if(paragraphs instanceof HTMLElement)text.appendChild(paragraphs);else{if(typeof paragraphs==="string")paragraphs=[paragraphs];paragraphs.map(function(paragraph){text.innerHTML+="<p>"+paragraph+"</p>"})}content.appendChild(text)})();var footer=document.createElement("footer");if(this.options.buttons)(function(){var buttons=createFromHTML("<ul class='shepherd-buttons'></ul>");
_this5.options.buttons.map(function(cfg){var button=createFromHTML("<li><a class='shepherd-button "+(cfg.classes||"")+"'>"+cfg.text+"</a>");buttons.appendChild(button);_this5.bindButtonEvents(cfg,button.querySelector("a"))});footer.appendChild(buttons)})();content.appendChild(footer);document.body.appendChild(this.el);this.setupTether();if(this.options.advanceOn)this.bindAdvance()}},{key:"bindCancelLink",value:function bindCancelLink(link){var _this6=this;link.addEventListener("click",function(e){e.preventDefault();
_this6.cancel()})}},{key:"bindButtonEvents",value:function bindButtonEvents(cfg,el){var _this7=this;cfg.events=cfg.events||{};if(typeof cfg.action!=="undefined")cfg.events.click=cfg.action;for(var _event2 in cfg.events)if({}.hasOwnProperty.call(cfg.events,_event2)){var handler=cfg.events[_event2];if(typeof handler==="string")(function(){var page=handler;handler=function(){return _this7.tour.show(page)}})();el.addEventListener(_event2,handler)}this.on("destroy",function(){for(var _event3 in cfg.events)if({}.hasOwnProperty.call(cfg.events,
_event3)){var handler=cfg.events[_event3];el.removeEventListener(_event3,handler)}})}}]);return Step}(Evented);var Tour=function(_Evented2){_inherits(Tour,_Evented2);function Tour(){var _this8=this;var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,Tour);_get(Object.getPrototypeOf(Tour.prototype),"constructor",this).call(this,options);this.bindMethods();this.options=options;this.steps=this.options.steps||[];var events=["complete","cancel","hide","start",
"show","active","inactive"];events.map(function(event){(function(e){_this8.on(e,function(opts){opts=opts||{};opts.tour=_this8;Shepherd.trigger(e,opts)})})(event)});return this}_createClass(Tour,[{key:"bindMethods",value:function bindMethods(){var _this9=this;var methods=["next","back","cancel","complete","hide"];methods.map(function(method){_this9[method]=_this9[method].bind(_this9)})}},{key:"addStep",value:function addStep(name,step){if(typeof step==="undefined")step=name;if(!(step instanceof Step)){if(typeof name===
"string"||typeof name==="number")step.id=name.toString();step=extend({},this.options.defaults,step);step=new Step(this,step)}else step.tour=this;this.steps.push(step);return this}},{key:"getById",value:function getById(id){for(var i=0;i<this.steps.length;++i){var step=this.steps[i];if(step.id===id)return step}}},{key:"getCurrentStep",value:function getCurrentStep(){return this.currentStep}},{key:"next",value:function next(){var index=this.steps.indexOf(this.currentStep);if(index===this.steps.length-
1){this.hide(index);this.trigger("complete");this.done()}else this.show(index+1,true)}},{key:"back",value:function back(){var index=this.steps.indexOf(this.currentStep);this.show(index-1,false)}},{key:"cancel",value:function cancel(){if(typeof this.currentStep!=="undefined")this.currentStep.hide();this.trigger("cancel");this.done()}},{key:"complete",value:function complete(){if(typeof this.currentStep!=="undefined")this.currentStep.hide();this.trigger("complete");this.done()}},{key:"hide",value:function hide(){if(typeof this.currentStep!==
"undefined")this.currentStep.hide();this.trigger("hide");this.done()}},{key:"done",value:function done(){Shepherd.activeTour=null;removeClass(document.body,"shepherd-active");this.trigger("inactive",{tour:this})}},{key:"show",value:function show(){var key=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var forward=arguments.length<=1||arguments[1]===undefined?true:arguments[1];if(this.currentStep)this.currentStep.hide();else{addClass(document.body,"shepherd-active");this.trigger("active",
{tour:this})}Shepherd.activeTour=this;var next=undefined;if(typeof key==="string")next=this.getById(key);else next=this.steps[key];if(next)if(typeof next.options.showOn!=="undefined"&&!next.options.showOn()){var index=this.steps.indexOf(next);var nextIndex=forward?index+1:index-1;this.show(nextIndex,forward)}else{this.trigger("show",{step:next,previous:this.currentStep});this.currentStep=next;next.show()}}},{key:"start",value:function start(){this.trigger("start");this.currentStep=null;this.next()}}]);
return Tour}(Evented);extend(Shepherd,{Tour:Tour,Step:Step,Evented:Evented});return Shepherd});
(function(f){"function"===typeof define&&define.amd?define(["jquery"],f):"undefined"!==typeof module&&module.exports?module.exports=f(require("jquery")):f(jQuery)})(function($){function n(a){return!a.nodeName||-1!==$.inArray(a.nodeName.toLowerCase(),["iframe","#document","html","body"])}function h(a){return $.isFunction(a)||$.isPlainObject(a)?a:{top:a,left:a}}var p=$.scrollTo=function(a,d,b){return $(window).scrollTo(a,d,b)};p.defaults={axis:"xy",duration:0,limit:!0};$.fn.scrollTo=function(a,d,b){"object"===
typeof d&&(b=d,d=0);"function"===typeof b&&(b={onAfter:b});"max"===a&&(a=9E9);b=$.extend({},p.defaults,b);d=d||b.duration;var u=b.queue&&1<b.axis.length;u&&(d/=2);b.offset=h(b.offset);b.over=h(b.over);return this.each(function(){function k(a){var k=$.extend({},b,{queue:!0,duration:d,complete:a&&function(){a.call(q,e,b)}});r.animate(f,k)}if(null!==a){var l=n(this),q=l?this.contentWindow||window:this,r=$(q),e=a,f={},t;switch(typeof e){case "number":case "string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(e)){e=
h(e);break}e=l?$(e):$(e,q);if(!e.length)return;case "object":if(e.is||e.style)t=(e=$(e)).offset()}var v=$.isFunction(b.offset)&&b.offset(q,e)||b.offset;$.each(b.axis.split(""),function(a,c){var d="x"===c?"Left":"Top",m=d.toLowerCase(),g="scroll"+d,h=r[g](),n=p.max(q,c);t?(f[g]=t[m]+(l?0:h-r.offset()[m]),b.margin&&(f[g]-=parseInt(e.css("margin"+d),10)||0,f[g]-=parseInt(e.css("border"+d+"Width"),10)||0),f[g]+=v[m]||0,b.over[m]&&(f[g]+=e["x"===c?"width":"height"]()*b.over[m])):(d=e[m],f[g]=d.slice&&
"%"===d.slice(-1)?parseFloat(d)/100*n:d);b.limit&&/^\d+$/.test(f[g])&&(f[g]=0>=f[g]?0:Math.min(f[g],n));!a&&1<b.axis.length&&(h===f[g]?f={}:u&&(k(b.onAfterFirst),f={}))});k(b.onAfter)}})};p.max=function(a,d){var b="x"===d?"Width":"Height",h="scroll"+b;if(!n(a))return a[h]-$(a)[b.toLowerCase()]();var b="client"+b,k=a.ownerDocument||a.document,l=k.documentElement,k=k.body;return Math.max(l[h],k[h])-Math.min(l[b],k[b])};$.Tween.propHooks.scrollLeft=$.Tween.propHooks.scrollTop={get:function(a){return $(a.elem)[a.prop]()},
set:function(a){var d=this.get(a);if(a.options.interrupt&&a._last&&a._last!==d)return $(a.elem).stop();var b=Math.round(a.now);d!==b&&($(a.elem)[a.prop](b),a._last=this.get(a))}};return p});
$.scrollLock=function scrollLockClosure(){var $html=$("html"),locked=false,prevScroll={scrollLeft:$(window).scrollLeft(),scrollTop:$(window).scrollTop()},prevStyles={},lockStyles={"overflow-y":"scroll","position":"fixed","width":"100%"};saveStyles();function saveStyles(){var styleAttr=$html.attr("style"),styleStrs=[],styleHash={};if(!styleAttr)return;styleStrs=styleAttr.split(/;\s/);$.each(styleStrs,function serializeStyleProp(styleString){if(!styleString)return;var keyValue=styleString.split(/\s:\s/);
if(keyValue.length<2)return;styleHash[keyValue[0]]=keyValue[1]});$.extend(prevStyles,styleHash)}function lock(){var appliedLock={};if(locked)return;prevScroll={scrollLeft:$(window).scrollLeft(),scrollTop:$(window).scrollTop()};saveStyles();$.extend(appliedLock,lockStyles,{"left":-prevScroll.scrollLeft+"px","top":-prevScroll.scrollTop+"px"});$html.css(appliedLock);$(window).scrollLeft(0).scrollTop(0);locked=true}function unlock(){if(!locked)return;$html.attr("style",$("<x>").css(prevStyles).attr("style")||
"");$(window).scrollLeft(prevScroll.scrollLeft).scrollTop(prevScroll.scrollTop);locked=false}return function scrollLock(on){if(arguments.length)if(on)lock();else unlock();else if(locked)unlock();else lock()}}();
(function(SA,$){var scope=SA.UsingNamespace("SA.Pages.Feeds.Tour");var shepherd,$secondPortfolioTicker,showBothSteps=false,showMostSteps=false,stepsLength=0;var highlightFeedFilters=function(){restoreDefault();$("#main_container .row:first").addClass("tour-feed-filter")};var highlightTickerFilter=function(){restoreDefault();$("#main_container .row:first").removeClass("tour-feed-filter").addClass("tour-ticker-filter")};var restoreDefault=function(completed){$("#main_container .row:first").attr("class",
"row");if(completed){$.scrollLock(false);$(window).scrollTo(0,300)}};var sendQuitEvent=function(){var step=shepherd.getCurrentStep();SA.Logger.Mone.event("tour","portfolio","clicked_exit",{data:{unit_number:step.id+"/"+stepsLength,unit_header:step.options.title,unit_body:step.options.text}})};var handleStepsMoneEvents=function(e){var action,stepNum,previous,currStep=e.step,data={};action="shown";data.unit_number=currStep.id+"/"+stepsLength;data.unit_header=currStep.options.title;data.unit_body=currStep.options.text;
SA.Logger.Mone.event("tour","portfolio",action,{data:data});if(e.previous){previous=e.previous;if(e.step.id>e.previous.id)action="clicked_next";if(e.step.id<e.previous.id)action="clicked_back";data.unit_number=previous.id+"/"+stepsLength;data.unit_header=previous.options.title;data.unit_body=previous.options.text;SA.Logger.Mone.event("tour","portfolio",action,{data:data})}};var setFirstFeedTourStep=function(){var btnText="Got It";if(showBothSteps)btnText="Next";shepherd.addStep("1",{title:"<b>Filter your feed</b>",
text:"You can now filter your feed by Articles, News or Posts.",attachTo:".feed-filters",buttons:[{text:"Close",classes:"shepherd-button-secondary",action:shepherd.cancel},{text:btnText,action:shepherd.next,classes:"shepherd-button-primary"}],when:{show:highlightFeedFilters},tetherOptions:{attachment:"top center",targetAttachment:"bottom center",offset:"-25px 5px",constraints:[{to:"scrollParent"}]}})};var setSecondFeedTourStep=function(){shepherd.addStep("2",{title:"<b>Filter by ticker</b>",text:"Click on a ticker to view updates related only to that stock. Remove the filter by clicking again.",
attachTo:"ul.side-portfolio",buttons:[{text:"Back",classes:"shepherd-button-secondary",action:shepherd.back},{text:"Got It",action:shepherd.next,classes:"shepherd-button-primary"}],when:{show:highlightTickerFilter},tetherOptions:{attachment:"top left",targetAttachment:"top right",targetOffset:"55px 0",constraints:[{to:"scrollParent"}]}})};var setupShepherd=function(){shepherd=new Shepherd.Tour({defaults:{classes:"shepherd shepherd-open shepherd-theme-square shepherd-transparent-text",showCancelLink:true}});
setupShepherdEvents();$secondPortfolioTicker=$("ul.side-portfolio li:eq(1)");showBothSteps=$secondPortfolioTicker.length!==0;setFirstFeedTourStep();if(showBothSteps)setSecondFeedTourStep();stepsLength=shepherd.steps.length;$(window).scrollTo(0);$.scrollLock(true);return shepherd.start()};var setupShepherdEvents=function(){shepherd.on("show",handleStepsMoneEvents);shepherd.on("complete",function(){SA.Logger.Mone.event("tour","portfolio","completed");restoreDefault(true)});shepherd.on("cancel",function(){sendQuitEvent();
restoreDefault(true)});shepherd.on("destroy",function(){sendQuitEvent();restoreDefault(true)})};scope.init=function(){var watchedTour=SA.Data.Cache.get("feed_tour");if(watchedTour!=="1"&&!SA.Utils.URL.param("skip_tour")){window.setTimeout(setupShepherd(),3E3);SA.Data.Cache.set("feed_tour",1)}}})(SA,jQuery);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/social/card_actions"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push('<div class="card-actions-popup">\n  ');if(deletable)__p.push('\n  <div class="action-container delete-post">\n    <div>Delete Post</div>\n    <div>Remove this post from all feeds</div>\n  </div>\n  ');__p.push("\n  ");if(hideable)__p.push('\n  <div class="action-container hide-post">\n    <div>Hide Post</div>\n    <div>Show less posts like these</div>\n  </div>\n  ');
__p.push("\n  ");if(muteable)__p.push('\n  <div class="action-container mute-author">\n    <div>Mute ',nick,"</div>\n    <div>Hide all posts by ",nick,"</div>\n  </div>\n  ");__p.push('\n  <div class="action-container post-link">\n    <div><a href="/post/',card_id,'"> Link to post page</a></div>\n  </div>\n  ');if(reportable){__p.push("\n  ");if(deletable||hideable||muteable)__p.push('\n  <div class="separator"></div>\n  ');__p.push('\n  <div class="action-container report-abuse">\n    <div>Report Abuse</div>\n  </div>\n  ')}__p.push("\n</div>\n")}return __p.join("")}}).call(this);
(function(){var scope=SA.UsingNamespace("SA.Models");scope.ReportAbuse=new function(){this.OnResponse=function(){this.beforeSend=function(){};this.onComplete=function(){};this.onFailed=function(){}};this.reportAbuse=function(data,onResponse){onResponse.beforeSend();$.ajax({method:"get",url:"/account/ajax_report_spam",data:data,dataType:"text"}).done(function(response,status,data){onResponse.onComplete(response,status,data)}).fail(function(response,errorType){onResponse.onFailed(response,errorType)})}}})();
(function(){var scope=SA.UsingNamespace("SA.Widgets");scope.ReportAbusePopup=new function(){var _modelCallbacks;var _eventSource,_reportAbuseId,_reportAbuseType,_isAuthor;var menu_type,_abuseSlug="";var userData={id:SA.Data.User.id()};var fields={messageContent:{errors:{empty:"You must explain your reason for reporting this comment or user.",emptyIsAuthor:"You must describe what you would like edited."}}};var abuse_data={"Offensive":[{slug:"personal_attack",name:"Personal attack",description:"We welcome disagreement with the perspectives offered on the site, but participation in the Seeking Alpha discussion community is contingent upon treating other community members with respect, especially when disagreeing with their arguments."},
{slug:"allegation",name:"Allegation of bad faith",description:"We ask that users provide evidence to support arguments for disagreeing with others, rather than impugning their motivation. This includes suggesting that they stand to gain financially by the change in a stock or ETF\u2019s value due to undisclosed investments or other dealings. Serious problems with articles should be filed as disputes."},{slug:"language",name:"Obscenities or abusive language",description:"We welcome posts that contain a strong disagreement about the issues under discussion, but ask that they maintain the serious and polite tone that we aim to encourage on the site."},
{slug:"stereotyping",name:"Stereotyping, prejudiced or racist language",description:"The posting of racist, ethnic and similar slurs is grounds for being banned from Seeking Alpha. This includes criticizing commenters for their use of non-fluent English."}],"Quality of Discussion":[{slug:"unrelated",name:"Unrelated to the topic under discussion",description:"Seeking Alpha is a platform for investment research. It is natural for discussions to take tangents, but this is not a forum for general political or social dialogue."},
{slug:"blanket_dismissal",name:"Blanket dismissal of someone else\u2019s ideas",description:"We welcome disagreement with the perspectives offered on the site but we encourage users to focus their response on detailing why and how they disagree with the substance of the post being addressed."},{slug:"non_standard",name:"Written in a non-standard form",description:"Using ALL CAPS, strange punctuation, no capital letters or languages other than English make it hard for other readers to follow and engage with posts."}],
"Promotional":[{slug:"spam",name:"Contains a link to poster\u2019s blog or business",description:"Users who wish to mention their own finance-related products or websites on Seeking Alpha may do so only once, by posting a single link on their user profile. Comments, Stocktalks and Instablogs are not an appropriate venue for marketing products or proprietary investment techniques."}],"Other":[{slug:"other",name:"Other",description:"We cannot fact-check comments, Stocktalks and Instablogs. If you think this contains incorrect information, politely explain why you disagree in a reply."}]};
var _resetAbuseReportData=function(){$("#send-report-popup-btn").addClass("disabled");_abuseSlug=""};var _updateAbuseReportData=function(){$("#send-report-popup-btn").removeClass("disabled");_abuseSlug=$(".menu_wrap input[name=abuse_sub_category]:checked").val()};var _toggleMenu=function(radio_button){var i,j,max;var sub_wraps=$(".report_abuse_lightbox .sub_wrap"),sub_checks=$('input[name="abuse_sub_category"]');for(i=0,max=sub_wraps.length;i<max;i+=1)$(sub_wraps[i]).addClass("no_show");for(j=0,max=
sub_checks.length;j<max;j+=1)sub_checks[j].checked=false;if(radio_button[0].checked){var sub_cats=radio_button.nextAll(".sub_wrap").find("li input");if(sub_cats.length==1){sub_cats[0].checked=true;_updateAbuseReportData()}else if(sub_cats.length==0){_abuseSlug="";$("#send-report-popup-btn").removeClass("disabled")}else _resetAbuseReportData();radio_button.nextAll(".sub_wrap").removeClass("no_show")}};var _getModalHtml=function(){var i,max;var boxHtml='<div class="report_abuse_lightbox">',sub_menus;
boxHtml+='<ul class="menu_wrap">';for(menu_type in abuse_data){if(menu_type=="Other")continue;boxHtml+="<li>";boxHtml+='  <input type="radio" name="abuse_top_category" /> <span class="menu_item">'+menu_type+"</span>";boxHtml+='  <ul class="sub_wrap no_show">';sub_menus=abuse_data[menu_type];for(i=0,max=sub_menus.length;i<max;i+=1)boxHtml+='  <li class="sub_category"><input type="radio" name="abuse_sub_category" value="'+sub_menus[i].slug+'" /> <span class="sub_menu_item">'+sub_menus[i].name+'</span><span class="info-popover">&nbsp;</span><span class="pop_description no_show">'+
sub_menus[i].description+"</span></li>";boxHtml+="  </ul>";boxHtml+="</li>"}boxHtml+="<li>";boxHtml+='  <input type="radio" name="abuse_top_category" value="other" /> <span class="menu_item">Other</span><span class="info-popover">&nbsp;</span><span class="pop_description no_show">'+abuse_data["Other"][0]["description"]+"</span>";boxHtml+='  <ul class="sub_wrap no_show">';boxHtml+='    <div id="report_reason_error_message" class="error_message"></div>';boxHtml+='    <div class="text_box_wrap"><textarea id="report_content" autocomplete="off" class="form-control" rows="3" placeholder="Please describe the problem"></textarea></div>';
boxHtml+="  </ul>";boxHtml+="</li>";boxHtml+="</ul>";boxHtml+='<div class="bottom_description"><b class="red">Please note:</b> Reports are assessed by Seeking Alpha\'s moderation team, not by article authors. Please see our <a href="/page/comment_guidelines?source=reportabusebox" target="_blank">guidelines</a> for details on what constitutes inappropriate user behavior.</div>';boxHtml+='  <div id="moveable_popup" class="pop_description hidden"><span class="content"></span><span class="pop_bubble_pointer"></span></div>';
boxHtml+="</div>";return boxHtml};var _init=function(data){var opt={};_eventSource=data.eventSource||"";_reportAbuseId=data.reportAbuseId||"";_reportAbuseType=data.reportAbuseType||"";_isAuthor=data.isAuthor;var templates;if(_isAuthor)templates={modalNewMessage:{header:'<p class="modal-message-header">Request Edit or Delete comment from Moderation Team</p>',body:'<div class="text_box_wrap"><textarea id="report_content" autocomplete="off" class="form-control" rows="3" placeholder="Write precisely in this box what edits you want us to make for you on this comment (describe the changes in as much detail as required) / Write \'Delete\' in this box if you\'d like us to remove this comment"></textarea></div>',
footer:'<div style="display: none" id="form-error" class="form-error" />'+'<button type="button" class="btn btn-primary orange-btn" id="send-report-popup-btn">Submit Request</button>'}};else templates={modalNewMessage:{header:'<p class="modal-message-header">Please indicate the primary problem with this '+_reportAbuseType+":</p>",body:_getModalHtml(),footer:'<div style="display: none" id="form-error" class="form-error" />'+'<button type="button" class="disabled btn btn-primary orange-btn" id="send-report-popup-btn">Submit Report</button>'}};
opt.className="sa-report-abuse-modal";opt.headerContent=templates.modalNewMessage.header;opt.bodyContent=templates.modalNewMessage.body;opt.footerContent=templates.modalNewMessage.footer;opt.keyboard=true;opt.backdrop=true;opt.removeAfterClose=true;opt.afterOpen=function(){var sendReportBtn=$("#send-report-popup-btn");sendReportBtn.on("click",function(){if(_validateMessageContent()){_showLoader(sendReportBtn);_sendReportAbuse()}});if(!_isAuthor){$("input[type=radio][name=abuse_top_category]").on("change",
function(){var btn=$(this);_hideError($("#form-error"));_toggleMenu(btn)});$("input[type=radio][name=abuse_sub_category]").on("change",function(){_updateAbuseReportData()})}var messageContent=$("#report_content");messageContent.on("change keyup paste",function(){_hideError($("#form-error"))});_initInfoPopover()};var _sendReportAbuse=function(){var data={},other=$(".menu_wrap input:checked").val()==="other"||_isAuthor;data.type=_reportAbuseType;data.id=_reportAbuseId;data.reason=other?$("#report_content").val():
"";data.abuse_slug=other?"other":_abuseSlug;SA.Models.ReportAbuse.reportAbuse(data,_modelCallbacks)};var _buildModelCallbacks=function(popup){var callback=new SA.Models.ReportAbuse.OnResponse;callback.onComplete=function(response,status){if(status=="success"){_sendReportEvent();_removeLoader($("#send-report-popup-btn"));popup.hide()}else _handleModelFailure()};callback.beforeSend=function(){};callback.onFailed=function(){_handleModelFailure()};return callback};var _handleModelFailure=function(errorText){_messageFailEvent(errorText);
alert("There was an error while sending abuse report")};var _sendInvalidFieldEvent=function(field){SA.Logger.Mone.event("report-abuse",_eventSource,"validation_error",{data:{invalid:field,user_id:userData.id.toString(),source:userData.source}})};var _validateMessageContent=function(){if((_isAuthor||$(".menu_wrap input:checked").val()=="other")&&$("#report_content").val()==""){var errorMsg=_isAuthor?fields.messageContent.errors.emptyIsAuthor:fields.messageContent.errors.empty;_showError($("#form-error"),
errorMsg);_sendInvalidFieldEvent("ta_content");return false}_hideError($("#form-error"));return true};var _showError=function(element,errorText){element.text(errorText);element.show()};var _hideError=function(element){element.text("");element.hide()};var popup=SA.Widgets.Popup.build(opt);_modelCallbacks=_buildModelCallbacks(popup);return popup};var _initInfoPopover=function(){$(".info-popover").each(function(){$(this).popover({placement:"top",trigger:"hover",html:true,content:$(this).parent().find(".pop_description").html()})})};
var _showLoader=function(btn){btn.addClass("sa-animated")};var _removeLoader=function(btn){btn.removeClass("sa-animated")};var _sendReportEvent=function(){SA.Logger.Mone.event("report-abuse",_eventSource,"report_sent")};var _messageFailEvent=function(errorText){SA.Logger.Mone.event("report-abuse",_eventSource,"error_message",{error:"server_error: "+errorText})};this.buildReportAbusePopup=function(data){if(!SA.Widgets.Popup.isRunning()){var reportAbuseModal=_init(data);reportAbuseModal.show()}}}})();
(function(window,SA,$){var targetClass=".sa-report-abuse-btn",source;var reportAbuse=function(btn){var data={};data.eventSource=btn.data("source");data.reportAbuseId=btn.data("id");data.reportAbuseType=btn.data("type");data.isAuthor=btn.data("is-author");SA.Widgets.ReportAbusePopup.buildReportAbusePopup(data)};var initialize=function(){$(document).on("click",targetClass,function(event){event.preventDefault();var btn=$(this);if(SA.Data.User.loggedIn())reportAbuse(btn);else window.location=SA.Models.Authentication.staticLoginLink+
"?rt="+encodeURI(window.location.href)})};initialize()})(window,SA,jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Models");scope.Card=new function(){var saveCardUrl="/cards/ajax_save_card";var muteAuthorUrl="/muted_users/ajax_mute_user_feeds";var hideCardUrl="/cards/ajax_hide_card";var deleteCardUrl="/cards/ajax_delete_card";this.OnResponse=function(){this.onComplete=function(){};this.onFailed=function(){}};this.saveCard=function(data,onResponse){$.ajax({method:"POST",url:saveCardUrl,data:data,dataType:"json"}).done(function(response,status,data){onResponse.onComplete(response,
status,data)}).fail(function(response,errorType){onResponse.onFailed(response,errorType)})};this.ajaxMuteAuthor=function(data,onResponse){$.ajax({method:"POST",url:muteAuthorUrl,data:data,dataType:"json"}).done(function(response,status,data){onResponse.onComplete(response,status,data)}).fail(function(response,errorType){onResponse.onFailed(response,errorType)})};this.ajaxHideCard=function(data,onResponse){$.ajax({method:"POST",url:hideCardUrl,data:data,dataType:"json"}).done(function(response,status,
data){onResponse.onComplete(response,status,data)}).fail(function(response,errorType){onResponse.onFailed(response,errorType)})};this.ajaxDeleteCard=function(data,onResponse){$.ajax({method:"DELETE",url:deleteCardUrl,data:data,dataType:"json"}).done(function(response,status,data){onResponse.onComplete(response,status,data)}).fail(function(response,errorType){onResponse.onFailed(response,errorType)})}}})(SA,jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Widgets");scope.CardActionsPopup=new function(){this.init=function(opt){opt=opt||{};setEvents(opt)};function setEvents(opt){$("body").on("click",function(e){var $self=$(e.target);if($self.data("toggle")!=="popover"&&!$self.hasClass("action-dropdown-btn")&&$self.parents(".popover.in").length===0)closeAllCardActionsPopovers()});$("body").on("click",".card-actions",function(){buildCardActionsPopup(this,opt)}).on("click",".card-actions-popup .delete-post",
function(){var $card=$(this).closest(".card");SA.Logger.Mone.event("manage_posts","portfolio","clicked_delete",{data:{"type":$card.data("type"),"id":$card.data("subject-id"),"card_id":$card.attr("id")}});SA.Models.Card.ajaxDeleteCard({id:$card.attr("id")},responseCallback(function(){$card.remove()}))}).on("click",".card-actions-popup .hide-post",function(){var $card=$(this).closest(".card");SA.Logger.Mone.event("manage_posts","portfolio","clicked_hide",{data:{"type":$card.data("type"),"id":$card.data("subject-id"),
"card_id":$card.attr("id")}});SA.Models.Card.ajaxHideCard({id:$card.attr("id")},responseCallback(function(){$card.remove()}))}).on("click",".card-actions-popup .mute-author",function(){var $card=$(this).closest(".card");SA.Logger.Mone.event("manage_posts","portfolio","clicked_mute",{data:{"type":$card.data("type"),"id":$card.data("subject-id"),"target_mute":$card.data("author-id"),"card_id":$card.attr("id")}});SA.Models.Card.ajaxMuteAuthor({id:$card.data("author-id")},responseCallback(function(){$('.card[data-author-id="'+
$card.data("author-id")+'"]').remove()}))}).on("click",".card-actions-popup .report-abuse",function(e){e.preventDefault();var $card=$(this).closest(".card");SA.Logger.Mone.event("manage_posts","portfolio","clicked_report_abuse",{data:{"type":$card.data("type"),"id":$card.data("subject-id")||$card.attr("id"),"card_id":$card.attr("id")}});SA.Widgets.ReportAbusePopup.buildReportAbusePopup({eventSource:"portfolio",reportAbuseId:$card.data("subject-id")||$card.attr("id"),reportAbuseType:$card.data("type")})}).on("click",
".card-actions-popup .post-link",function(){window.location=$(this).find("a").attr("href")})}function buildCardActionsPopup(elem,opt){var userId=opt.userId||SA.Data.User.id();var loggedIn=opt.loggedIn||SA.Data.User.loggedIn();var singlePost=opt.singlePost;var isSymbolPage=opt.source==="symbol",isProfilePage=opt.source==="profile";var $card=$(elem).closest(".card");var card={id:$card.attr("id"),type:$card.data("type"),subjectId:$card.data("subject-id"),author:{id:parseInt($card.data("author-id")),
nick:$card.data("author-nick")}};var cardActionPopup=$(elem).popover({placement:"bottom",template:JST["jst/widgets/social/card_actions"]({nick:card.author.nick,deletable:!singlePost&&loggedIn&&card.author.id===userId&&SA.Pages.Feed.Common.E_TYPES.DELETEABLE.indexOf(card.type)>-1&&!isSymbolPage,hideable:!singlePost&&loggedIn&&!isProfilePage&&!isSymbolPage,muteable:!singlePost&&loggedIn&&card.author.id!==userId&&SA.Pages.Feed.Common.E_TYPES.MUTEABLE.indexOf(card.type)>-1&&!isSymbolPage&&!isProfilePage,
reportable:singlePost||SA.Pages.Feed.Common.E_TYPES.REPORTABLE.indexOf(card.type)>-1,card_id:card.id}),trigger:"manual",html:true,animation:true,title:"",content:"TEST"});SA.Logger.Mone.event("manage_posts","portfolio","clicked_dropdown_menu",{data:{"type":card.type,"id":card.subjectId,"card_id":card.id}});closeAllCardActionsPopovers();cardActionPopup.popover("show")}function closeAllCardActionsPopovers(){$(".card-actions-popup").popover("hide")}var responseCallback=function(callback){var res=new SA.Models.Card.OnResponse;
res.onComplete=function(response,status){if(status=="success"&&!response.errors){closeAllCardActionsPopovers();if(callback)callback()}else Rollbar.error("General Error while handling vote request: "+response.errors)};res.onFailed=function(response,errorType){Rollbar.error("Error "+errorType+" while handling card request: "+response.errors)};return res}}})(SA,jQuery);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/filter_by_ticker"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("");$.each(data,function(key,value){__p.push('\n  <span class="ticker-btn" data-type="',type,'" data-behavior="filter-ticker" data-ticker="',key,'" title="',value.name," (",value.count,')">',value.name," (",value.count,")</span>\n")});__p.push("\n")}return __p.join("")}}).call(this);
(function(SA,$){var scope=SA.UsingNamespace("SA.Widgets"),mone_source,mone_type,filterCallback,viewType,userId,$contentContainer,$tickers,ARTICLE_FILTER_URLS={premium_articles:"ajax_load_premium_articles_ticker_count",regular_articles:"ajax_load_articles_ticker_count",pro_articles:"ajax_load_pro_articles_ticker_count",instablogs:"ajax_load_instablogs_ticker_count"};scope.FilterByTicker=new function(){this.loadTickerCounts=function(tabName){showTickerFilter();clearUITickerFilter();filterLoader();$.get(ARTICLE_FILTER_URLS[tabName]||
"ajax_load_ticker_counts_per_activity_type",{type:tabName,user_id:userId}).done(function(response){var filtersCount=0;var displayTickerFilter=!$.isEmptyObject(response.tickers);var displayAuthorFilter=!$.isEmptyObject(response.authors);var displayThemeFilter=!$.isEmptyObject(response.themes);filtersCount+=populateFilter(displayTickerFilter,"ticker",response.tickers);filtersCount+=populateFilter(displayAuthorFilter,"author",response.authors);filtersCount+=populateFilter(displayThemeFilter,"theme",
response.themes);setSelectedFilters();if(filtersCount>1)initMultiFilter();dropFilterLoader()})};function populateFilter(allowDisplay,type,data){var $filter=$("[data-behavior='filter'][data-filter-type='"+type+"']");if(allowDisplay){var tags=JST["jst/widgets/filter_by_ticker"]({data:data,type:type});$filter.find(".tickers").html(tags);return 1}else{$filter.hide();return 0}}function setMultiFiltersState(){var $selectedFilter;var $filterWithPickedTag;var $otherFilters;var $filters=$(".accordion [data-behavior='filter']:visible");
var pickedFilterTags=getTickerFilter();var $selectedFilterArr=$filters.filter(".active");var validTagPicked=$tickers.find(".selected:visible").length>0;if(validTagPicked)if(pickedFilterTags.tickers.length)$filterWithPickedTag=$filters.filter("[data-filter-type='ticker']");else if(pickedFilterTags.authors.length)$filterWithPickedTag=$filters.filter("[data-filter-type='author']");else if(pickedFilterTags.themes.length)$filterWithPickedTag=$filters.filter("[data-filter-type='theme']");if($filterWithPickedTag)$selectedFilter=
$filterWithPickedTag;else if($selectedFilterArr.length)$selectedFilter=$selectedFilterArr.first();else $selectedFilter=$filters.first();$otherFilters=$filters.filter(function(){return!$(this).is($selectedFilter)});$otherFilters.removeClass("active").addClass("multi-filter-close");$selectedFilter.addClass("active").removeClass("multi-filter-close");$selectedFilter.find(".ticker-container").css("display","block");$otherFilters.find(".ticker-container").css("display","none")}function initMultiFilter(){$(".accordion .ticker-filter-container").addClass("multi-filter");
setMultiFiltersState();setAccordion()}function setAccordion(){$(".accordion .filter-header").off("click").on("click",function(e){var $clickedFilter=$(this).parent();var $activeFilter=$(".multi-filter.active");if($clickedFilter.is(".active"))closeAccordionSection($clickedFilter);else{closeAccordionSection($activeFilter);$clickedFilter.addClass("active");$clickedFilter.removeClass("multi-filter-close");var openPanel=$clickedFilter.find(".ticker-container");openPanel.slideDown(300)}e.preventDefault()})}
function closeAccordionSection($filter){$filter.removeClass("active");$filter.find(".ticker-container").slideUp(300,function(){$filter.addClass("multi-filter-close")})}this.hideTickerFilter=function(){hideTickerFilter()};this.showTickerFilter=function(){showTickerFilter()};function hideTickerFilter(){$(".ticker-filter-container").hide()}function showTickerFilter(){$(".ticker-filter-container").show()}this.clearHashFilter=function(){window.location.hash="";$(".ticker-btn").removeClass("selected")};
var setSelectedFilters=function(){var tags=getTickerFilter();if(tags.tickers.length)selectSymbolFromFilterList(tags.tickers,"ticker");if(tags.authors.length)selectSymbolFromFilterList(tags.authors,"author");if(tags.themes.length)selectSymbolFromFilterList(tags.themes,"theme")};var selectSymbolFromFilterList=function(tags,dataBehavior){$.each(tags,function(){$tickers.find('[data-type="'+dataBehavior+'"][data-ticker="'+this+'"]').addClass("selected")})};var clearUITickerFilter=function(){$(".ticker-btn").remove()};
var filterLoader=function(){$tickers.addClass("ticker-filter-loader")};var dropFilterLoader=function(){$tickers.removeClass("ticker-filter-loader")};var setEvents=function(){$(".ticker-container").on("click",'[data-behavior="filter-ticker"]',function(){var $ticker=$(this);if($ticker.hasClass("selected"))$ticker.removeClass("selected");else{$(".ticker-btn").removeClass("selected");$ticker.addClass("selected")}SA.Logger.Mone.event(mone_type,mone_source,"filter_"+($ticker.hasClass("selected")?"on":"off"),
{data:{symbol:$ticker.data("ticker")}});setHashParamsFilter();filterData()})};var filterData=function(){$("body").animate({scrollTop:$contentContainer.offset().top-125},200);filterCallback("page_load")};this.setFilterView=function(source){mone_source=source};this.getTickerFilter=function(){return getTickerFilter()};var getTickerFilter=function(){var urlHash=window.location.hash.split("#"),filterTagsSelected={tickers:[],authors:[],themes:[]};if(urlHash.length>1){var params=window.location.hash.split("#")[1];
if(params.length>1){var hashes=params.split("&");for(var i=0;i<hashes.length;i++){var hash=hashes[i].split("=");if(hash[0]=="ticker"){filterTagsSelected.tickers.push(hash[1]);break}else if(hash[0]=="author"){filterTagsSelected.authors.push(hash[1]);break}else if(hash[0]=="theme"){filterTagsSelected.themes.push(hash[1]);break}}}}return filterTagsSelected};var clearTickersFromHash=function(){var params=window.location.hash.split("#")[1],nonTickerHash=[];if(params){var hashes=params.split("&");for(var i=
0;i<hashes.length;i++){var hash=hashes[i].split("=");if($.inArray(hash[0],["ticker","author","theme"])==-1)nonTickerHash.push(hashes[i])}}window.location.hash=nonTickerHash.join("&")};var setHashParamsFilter=function(){clearTickersFromHash();var params=[];params.push(window.location.hash.split("#")[1]);$(".tickers .ticker-btn.selected:visible").each(function(){params.push($(this).attr("data-type")+"="+$(this).attr("data-ticker"))});window.location.hash=params.join("&")};var setHandlers=function(){$tickers=
$(".tickers")};this.buildFilter=function(opt){mone_type=opt.source||"";filterCallback=opt.filterCallback;viewType=opt.viewType;userId=opt.userId;$contentContainer=$(opt.contentContainer);setHandlers();setEvents();return this}}})(SA,jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Models");scope.PortfolioModel=function(){this.listPortfolios=function(onsuccess,onfailure,searchSymbol){var params={};if(searchSymbol)params["sym"]=searchSymbol;$.ajax({url:"/account/get_portfolios_list",data:{parameters:params}}).done(function(response){onsuccess(response)}).fail(function(){onfailure("Unknown error")})};var portfolio={name:"Portfolio 1",stocks:{},stocksLength:0};var curDiff=diffObj([],[]);this.addSymbols=function(options){options=options||
{};var alerts=options.alerts||"";var pu=options.pu||"";var symbols=options.symbols;if(!symbols)return;$.ajax("/account/add_symbols_to_portfolio",{data:{symbols:symbols,pu:pu,rta:alerts},dataType:"json",method:"post"}).done(function(response){if(response&&response.errors==null){for(var i=0,ar=symbols.split(",");i<ar.length;i++){var slug=ar[i].toLowerCase().replace(/ /g,"");if(slug!="")addToPortfolioCookie(slug)}adjustPortfolio(response);if($.isFunction(options.oncomplete))options.oncomplete(response,
options)}kruxPortfolioEvent(response.recognized[0])}).fail(function(){if($.isFunction(options.onfailure))options.onfailure(response,options)});function kruxPortfolioEvent(slug){if(typeof slug!="string")return;if(alerts){$("#krux_container_rta").remove();var str="<div id='krux_container_rta' style='display:none'>";str+="<div id='rta_added_"+slug.toLowerCase()+"'></div>";str+="<img src='http://beacon.krxd.net/event.gif?event_id=KRoUG3qj&event_type=cact&RTA_Added=1' />";str+="</div>"}else{$("#krux_container").remove();
var str="<div id='krux_container' style='display:none'>";str+="<div id='portfolio_added_"+slug.toLowerCase()+"'></div>";str+="<img src='http://beacon.krxd.net/event.gif?event_id=KRq8URwJ&event_type=cact&Portfolio_Add=1' />";str+="</div>"}$("body").append(str)}};function addToPortfolioCookie(slug){var arr=(user_cookie["user_watchlist_slugs"]||"").split(",");arr.push(slug);user_cookie["user_watchlist_slugs"]=arr.join(",")}function removeFromPortfolioCookie(slug){var arr=(user_cookie["user_watchlist_slugs"]||
"").split(",");var index=arr.indexOf(slug);arr.splice(index,1);user_cookie["user_watchlist_slugs"]=arr.join(",")}this.removeSymbol=function(tagId,slug,onComplete,onFailed){if(!tagId)return;$.ajax("/account/remove_slug_from_portfolio",{data:{tag_id:tagId},dataType:"json",method:"post"}).done(function(response){if(response.errors==null){adjustPortfolio(response);removeFromPortfolioCookie(slug);if($.isFunction(onComplete))onComplete(response)}else if($.isFunction(onFailed))onFailed(response)}).fail(function(response){if(onFailed)onFailed(response)})};
this.createPortfolioOfSlugsTags=function(portfolioName,slugs,tags){portfolio.name=portfolioName;portfolio.stocks={};portfolio.stocksLength=0;for(var q in slugs)if(slugs.hasOwnProperty(q)){portfolio.stocks[slugs[q]]=tags[q];portfolio.stocksLength++}return portfolio};this.getSlugs=function(){return $.map(portfolio.stocks,function(tagId,slug){return slug})};function adjustPortfolio(response){var q;var cq;var slug;var diff;if(!portfolio.name)return;diff=portfolioDiff(response.portfolio_stocks);for(q in diff.added){cq=
diff.added[q];portfolio.stocks[cq.slug]=cq.tag}for(q in diff.removed){slug=diff.removed[q];delete portfolio.stocks[slug]}portfolio.stocksLength=portfolio.stocksLength+diff.added.length-diff.removed.length;return portfolio}this.getDiff=function(){return curDiff};this.getPortfolio=function(){return portfolio};this.renamePortfolio=function(portfolioTitle,portfolioUriName,oncomplete){$("#p_name_error").html("&nbsp;");$("#p_name_pop").focus();if(portfolioTitle.length==0){$("#p_name_error").text("Portfolio name must not be empty");
return}if(portfolioTitle.length>50){$("#p_name_error").text("Portfolio name can't be longer than 50 characters");return}$.ajax("/account/save_holdings",{data:{"portfolio[title]":portfolioTitle,"portfolio[pu]":portfolioUriName},dataType:"json",method:"post"}).done(function(response){if(response&&response.errors==null)if(oncomplete)if(typeof oncomplete=="function")oncomplete(response)})};this.deletePortfolio=function(portfolioUriName,oncomplete){if(!portfolioUriName)return;$.ajax("/account/destroy_portfolio",
{data:{pu:portfolioUriName},dataType:"json",method:"post"}).done(function(response){if(response&&response.errors==null)if(oncomplete)if(typeof oncomplete=="function")oncomplete(response)})};function diffObj(added,removed){return{added:added,removed:removed}}function portfolioDiff(updatedList){var added=[];var exists=[];var removed=[];var q;var cq;var slug;for(q in updatedList){cq=updatedList[q];if(portfolio.stocks[cq.slug]){if(exists.indexOf(slug)===-1)exists.push(cq.slug)}else added.push({slug:cq.slug,
tag:cq.tag_id})}for(slug in portfolio.stocks)if(exists.indexOf(slug)===-1)removed.push(slug);curDiff=diffObj(added,removed);return curDiff}}})(SA,jQuery);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/ticker_alert"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="add-alerts-popup">\n  <div class="add-alerts-inside">\n    <div class="title">',title,'</div>\n    <div class="description">\n      ',message,'\n    </div>\n    <div class="close-alerts">OK</div>\n    <div class="without-alerts">Add without alerts</div>\n    <div class="loader"></div>\n    </div>\n  </div>\n</span>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/side_slug"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<li data-name="',slug,'" id="sp_slug_',slug.replace(/\./gi,"_"),'">\n  <div class="del-btn" data-id="',tag_id,'"></div>\n  <div class="slug-info">\n    <a class="slug" sasource="side_portfolios" href="/symbol/',slug.toUpperCase(),'" title="',title,'">',slug,'</a>\n    <div class="title-ticker">',title,"</div>\n  </div>\n  <div class='drag-element'>",
dragEl,'</div>\n  <div class="price-changes">\n    <div class="price"></div>\n      <div class="change"></div>\n      <div class="percentage">-</div>\n  </div>\n  <div class="separator"></div>\n</li>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/rename_popup"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="add-alerts-popup edit">\n  <div class="add-alerts-inside">\n    <div class="title">Rename your portfolio</div>\n    <div class="description">\n      <input value="',p_name,'" id="p_name_pop" maxlength="50" type="text"/>\n      <div id="p_name_error" class="p_name_error">&nbsp;</div>\n      <div class="get-alerts">Save</div>\n      <div class="no-thanks">No thanks</div>\n      <div class="loader"></div>\n    </div>\n</span>\n');
return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/delete_popup"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="add-alerts-popup edit">\n  <div class="add-alerts-inside">\n    <div class="title">Are you sure you want to delete portfolio: \'',p_name,'\'?</div>\n    <div class="description">\n      <div id="p_name_error" class="p_name_error">&nbsp;</div>\n      <div id="delete-portfolio" class="get-alerts">Delete</div>\n      <div id="delete-no-thanks" class="no-thanks">No thanks</div>\n      <div class="loader"></div>\n    </div>\n</span>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/etf_alternative_slug"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<li id="etf_alt_slug_',slug.replace(/\./gi,"_"),'">\n      <div class="left">\n        <a class="slug" sasource="etf_alt_portfolio_page" href="/symbol/',slug,'">',title,'</a>\n          <div class="title-ticker">',description,'</div>\n      </div>\n      <div class="add-btn" data-behavior="add-ticker"></div>\n      <div class="right">\n          <div class="price">-</div>\n          <div class="change"></div>\n      </div>\n</li>\n');
return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/delete_btn"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n     width="20px" height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n<g>\n  <path d="M13,4V2H8v2H4v2h13V4H13z M9,3h3v1H9V3z"/>\n  <g>\n    <path d="M5,7v1.028L6,19h9l1-10.99V7H5z M8,18H6.922L6.078,9H8V18z M10,18H9V9h1V18z M12,18h-1V9h1V18z M14,18h-1V9h1.969L14,18z"\n    />\n  </g>\n</g>\n</svg>\n');return __p.join("")}}).call(this);
(function($){var scope=SA.UsingNamespace("SA.Pages.Feeds.Modules.Portfolio");scope.Resize=function(defaults,$wrapper){var params={page:{$header:$("#sa-hd"),$headerMainNav:$("#main-nav-wrapper-row")},defaults:defaults,$wrapper:$wrapper};var init=function(){params.$portfolioMain=$(params.defaults.portfolioMain);params.$innerUnit={get:function(){if(!this._$innerUnit)this._$innerUnit=$(params.defaults.innerUnit);return this._$innerUnit}};var headerHeight=0;$.each(params.page.$header.find(".container-fluid"),
function(){headerHeight+=$(this).outerHeight(true)});var proFlashSaleBanner=$(".top_pro_flash_sale_banner");if(proFlashSaleBanner.length)headerHeight+=proFlashSaleBanner.outerHeight();params.coordinates={height:{min:params.page.$headerMainNav.outerHeight(true),max:headerHeight},width:{min:params.$wrapper.width,current:params.$wrapper.width}}};init();var resize=function(){var currentTop=params.coordinates.height.max-$(window).scrollTop();if(currentTop<params.coordinates.height.min)currentTop=params.coordinates.height.min;
var height=$(window).height()-currentTop;params.$wrapper.css({top:currentTop,left:0,height:height});if(!$("#left-rail-portfolio").length)params.$wrapper.css({width:params.$portfolioMain.offset().left-6});adjustInnerScroll(height)};var adjustInnerScroll=function(wrapperHeight){var innerUnitPositionTop=params.$innerUnit.get().position().top;if(!params.coordinates.innerUnitPositionTop||innerUnitPositionTop<params.coordinates.innerUnitPositionTop)params.coordinates.innerUnitPositionTop=params.$innerUnit.get().position().top;
var unitHeight=wrapperHeight-params.coordinates.innerUnitPositionTop;var innerHeight=0;params.$innerUnit.get().children().each(function(){innerHeight+=$(this).outerHeight(true)});if(params.$innerUnit.get().hasClass("scrollable"))if(innerHeight<=unitHeight)params.$innerUnit.get().removeClass("scrollable").removeAttr("style");else params.$innerUnit.get().css({"height":unitHeight});else if(innerHeight>unitHeight)params.$innerUnit.get().addClass("scrollable").css({"height":unitHeight})};return{resize:resize}}})(jQuery);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/popover_sort_content"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="portfolio-sort-container">\n  <div class="title">Sort By</div>\n  <div id=\'gainers-losers\' class="option-container">\n    <div class="option-icon">',JST["jst/portfolio/sort_gainers_losers"](),'</div> <span>Gainers & Losers</span>\n  </div>\n  <div id=\'gainers\' class="option-container">\n    <div class="option-icon">',
JST["jst/portfolio/sort_gainers"](),'</div> <span>Gainers</span>\n  </div>\n  <div id=\'losers\' class="option-container">\n    <div class="option-icon">',JST["jst/portfolio/sort_losers"](),'</div> <span>Losers</span>\n  </div>\n  <div id=\'volume\' class="option-container">\n    <div class="option-icon">',JST["jst/portfolio/sort_volume"](),'</div> <span>Volume</span>\n  </div>\n  <div id=\'a-z\' class="option-container">\n    <div class="option-icon">',JST["jst/portfolio/sort_a_z"](),'</div> <span>A - Z</span>\n  </div>\n  <div id=\'z-a\' class="option-container">\n    <div class="option-icon">',
JST["jst/portfolio/sort_z_a"](),'</div> <span>Z - A</span>\n  </div>\n  <div id=\'custom\' class="option-container">\n    <div class="option-icon">',JST["jst/portfolio/sort_custom"](),"</div> <span>Custom</span>\n  </div>\n</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/popover_sort_template"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="popover portfolio-sort-popover">\n  <div class="arrow"></div>\n  <h3 class="popover-title"></h3>\n  <div class="popover-content"></div>\n</div>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/sort_gainers_losers"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n     width="20px" height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n  <g>\n    <polyline fill="" stroke="#020202" stroke-width="2.9394" stroke-miterlimit="10" points="6,3 6,12"></polyline>\n    <g>\n      <polygon points="2,12 10,12 6,19"></polygon>\n    </g>\n  </g>\n  <g>\n    <polyline fill="" stroke="#020202" stroke-width="2.9394" stroke-miterlimit="10" points="14,9 14,18"></polyline>\n    <g>\n      <polygon points="14,2 10,10 18,10"></polygon>\n    </g>\n  </g>\n</svg>\n');
return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/sort_gainers"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg version="1.1" id="Layer_8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"\n     y="0px"\n     width="20px" height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n<g>\n  <polyline fill="none" stroke="#020202" stroke-width="2.9394" stroke-miterlimit="10"\n            points="3.037,14.974 7.796,10.214 10.02,12.438 12.94,9.517"/>\n  <g>\n    <polygon points="13.444,10.697 15.401,12.956 18,4.801 9.558,6.213 11.515,8.472"/>\n  </g>\n</g>\n</svg>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/sort_losers"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg version="1.1" id="Layer_3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n     width="20px" height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n<g>\n  <polyline fill="none" stroke="#020202" stroke-width="3.0443" stroke-miterlimit="10" points="3.037,4.452 7.815,9.538\n\t\t10.047,7.163 12.979,10.284 \t"/>\n  <g>\n    <polygon points="13.484,9.024 15.449,6.609 18.058,15.323 9.583,13.815 11.547,11.4 \t\t"/>\n  </g>\n</g>\n</svg>\n');
return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/sort_volume"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg version="1.1" id="Layer_4" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n     width="20px" height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n<g>\n  <rect x="10" y="5" fill="#020202" width="3" height="13"/>\n  <rect x="14" y="2" fill="#020202" width="3" height="16"/>\n  <rect x="2" y="12" fill="#020202" width="3" height="6"/>\n  <rect x="6" y="8" fill="#020202" width="3" height="10"/>\n</g>\n</svg>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/sort_a_z"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px"\n     height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n<symbol  id="Arrow_26" viewBox="-33.36 -13.047 55.72 26.28">\n  <g>\n    <polygon points="-33.359,-4.246 -0.431,-4.246 -0.431,-13.047 22.36,0.094 -0.431,13.232 -0.431,4.432 -33.359,4.432 \t\t"/>\n  </g>\n</symbol>\n  <g id="Layer_7" display="none">\n  </g>\n  <g id="Layer_5">\n    <g>\n\n      <g>\n        <polyline fill="" stroke="#020202" stroke-width="2.9394" stroke-miterlimit="10" points="15,3 15,12"></polyline>\n        <g>\n          <polygon points="11,12 19,12 15,19"></polygon>\n        </g>\n      </g>\n      <g>\n        <path d="M9.433,9.357H7.929L7.331,7.801H4.592L4.027,9.357H2.56l2.668-6.85h1.463L9.433,9.357z M6.887,6.647L5.943,4.105\n\t\t\t\tL5.018,6.647H6.887z"/>\n        <path d="M3.214,17.97v-1.248l3.597-4.442H3.621V11.12h5.014v1.074l-3.752,4.62h3.896v1.155H3.214z"/>\n      </g>\n    </g>\n  </g>\n</svg>\n');
return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/sort_z_a"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg version="1.1" id="Layer_6" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n     width="20px" height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n<symbol  id="Arrow_26" viewBox="-33.36 -13.047 55.72 26.28">\n  <g>\n    <polygon points="-33.359,-4.246 -0.431,-4.246 -0.431,-13.047 22.36,0.094 -0.431,13.232 -0.431,4.432 -33.359,4.432 \t\t"/>\n  </g>\n</symbol>\n  <g>\n\n    <g>\n      <polyline fill="" stroke="#020202" stroke-width="2.9394" stroke-miterlimit="10" points="15,9 15,18"></polyline>\n      <g>\n        <polygon points="15,2 11,10 19,10"></polygon>\n      </g>\n    </g>    <g>\n      <path d="M9.795,17.971H8.29l-0.599-1.557H4.954l-0.565,1.557H2.921l2.668-6.85h1.463L9.795,17.971z M7.248,15.26l-0.943-2.541\n\t\t\tL5.379,15.26H7.248z"/>\n      <path d="M3.576,9.357V8.109l3.597-4.442H3.982V2.507h5.014v1.074l-3.752,4.62h3.897v1.155H3.576z"/>\n    </g>\n  </g>\n</svg>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/sort_custom"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg version="1.1" id="Layer_4" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n   viewBox="0 0 20 20" xml:space="preserve">\n<g>\n  <rect x="2.4" y="3" width="11.6" height="3"/>\n  <rect x="2.4" y="13.5" width="15.1" height="3"/>\n  <rect x="2.4" y="8.2" width="8.9" height="3"/>\n</g>\n</svg>\n');
return __p.join("")}}).call(this);
(function(SA,$,window){var scope=SA.UsingNamespace("SA.Utils");scope.PortfolioSort=new function(){var self=this,portfolioId,customSortType=7,$container,popoverConfig={placement:"right",trigger:"click",html:true,content:JST["jst/portfolio/popover_sort_content"](),template:JST["jst/portfolio/popover_sort_template"](),animation:true},sortedOnce;var sortMappings={"a-z":{title:"A-Z",method:sortAZ},"z-a":{method:sortZA,title:"Z-A"},"gainers-losers":{method:sortGainersLosers,title:"Gainers & Losers"},"gainers":{method:sortGainers,
title:"Gainers"},"losers":{method:sortLosers,title:"Losers"},"volume":{method:sortVolume,title:"Volume"},"custom":{title:"Custom",method:sortCustom}};var initEvents=function(){$container.on("click",openSortMenu);$("body").on("click",".portfolio-sort-container .option-container",selectSortOption)};var selectSortOption=function(){var sortOption=$(this).attr("id");setSortOption(sortOption);sortPortfolio();if(sortOption!=="custom")SA.Logger.Mone.event("left_rail","portfolio_unit","sort",{data:{sort_type:getSortOption()}})};
function setSortButton(){$("#portfolio_sort").html(JST["jst/portfolio/sort_"+getSortOption().replace("-","_")]());$("#portfolio_sort").attr("title","Sorted by: "+sortMappings[getSortOption()].title)}function sortPortfolio(){setSortButton();sortMappings[getSortOption()].method();$(".inner-unit .portfolio-loader").addClass("hidden");sidePortfolio().removeClass("hidden");$(".inner-unit").scrollTop(0)}function setSortOption(id){SA.Data.Cookies.set("portfolio_sort_type",id)}self.updateCustomSort=function(stocks,
callback){var stocks=stocks||getSlugs().join(",");var callback=callback||{};SA.Logger.Mone.event("left_rail","portfolio_unit","sort",{data:{"sort_type":"custom","custom_order":"true"}});$.ajax({method:"POST",url:"/api/v1/portfolio/save_sort_order",data:{custom_sort:stocks,type_id:customSortType}}).done(callback)};function getCustomSort(callback){$.ajax("/api/v1/portfolio/get_portfolio_sort").done(callback)}self.getCustomSort=getCustomSort;self.getSortOption=getSortOption;function getSortOption(){return SA.Data.Cookies.get("portfolio_sort_type")||
"a-z"}var hideSortMenu=function(){$container.popover("hide").data("bs.popover").inState.click=false;setBtnActive(false)};function setBtnActive(active){active?$container.addClass("open"):$container.removeClass("open")}var openSortMenu=function(){setBtnActive(true);SA.Logger.Mone.event("left_rail","portfolio_unit","clicked_sort_button")};function sortElements(slugs){var html=[];$.each(slugs,function(){var $elem=sidePortfolio().find('li[data-name="'+this+'"]');if($elem.length)html.push($elem[0].outerHTML)});
sidePortfolio().html(html.join(""));if(!sortedOnce){SA.Utils.SidePortfolio.insertPortfolioAd(slugs);sortedOnce=true}}function getSlugs(){var slugs=[];$.each(sidePortfolio().find("li"),function(){slugs.push($(this).data("name"))});return slugs}function sortCustom(){getCustomSort(function(data){data=data[0];var customOrder="false";if(data&&data.custom_sort.length){customOrder=true;sortElements(data.custom_sort.split(","))}SA.Logger.Mone.event("left_rail","portfolio_unit","sort",{data:{sort_type:getSortOption(),
custom_order:customOrder}})})}self.sortElements=sortElements;function sortAZ(){sortElements(getSlugs().sort())}function sortZA(){sortElements(getSlugs().sort().reverse())}function sortGainersLosers(){sortElements(sortData("change",true,true))}function sortGainers(){sortElements(sortData("change",true))}function sortLosers(){sortElements(sortData("change"))}function sortVolume(){sortElements(sortData("volume",true))}function sortData(key,descending,abs){var slugs=[];var stockData=gatherData();var hashToSort=
swapHashByValue(stockData,key);var sortFunction=abs?absValueSort:regularValueSort;var sortedChanges=Object.keys(hashToSort).sort(sortFunction);if(descending)sortedChanges=sortedChanges.reverse();for(var i in sortedChanges)slugs.push(hashToSort[sortedChanges[i]]);return slugs}function regularValueSort(a,b){return parseFloat(a)-parseFloat(b)}function absValueSort(a,b){return Math.abs(parseFloat(a))-Math.abs(parseFloat(b))}function gatherData(){var data={};$.each(sidePortfolio().find("li"),function(){var $this=
$(this);data[$this.data("name")]={price:this.getAttribute("price"),change:this.getAttribute("change"),volume:this.getAttribute("volume")}});return data}function swapHashByValue(hash,dataKey){var ret={};for(var k in hash)ret[hash[k][dataKey]]=k;return ret}self.sort=function(){sortPortfolio()};self.isAlphabeticalSort=function(){return["a-z","z-a"].indexOf(getSortOption())>-1};function initializeTooltip(){getAnyCustomSort(function(data){data=data[0];if(!data){$("#portfolio_edit_large_btn").tooltipster({theme:"tooltipster-light",
trigger:"custom",position:"bottom"});$("body").on("click","#custom",function(){if($(".tooltipstered").length)$("#portfolio_edit_large_btn").tooltipster("show")});$("#portfolio_edit_large_btn").click(function(){if($(".tooltipstered").length)$("#portfolio_edit_large_btn").tooltipster("hide")})}})}function getAnyCustomSort(callback){$.ajax("/api/v1/portfolio/get_any_custom_sort").done(callback)}function addCustomSort(){initializeTooltip();$(".input-wrapper").addClass("custom-sort-ab-test")}function sidePortfolio(){return $("#side_portfolio")}
self.setSortOption=setSortOption;self.sortPortfolio=sortPortfolio;self.init=function(isCustomSortAbTest){$container=$("#portfolio_sort");$container.popover(popoverConfig).on("shown.bs.popover",function(){$("#"+getSortOption()).addClass("selected");$("body").one("click",hideSortMenu)});if(isCustomSortAbTest)addCustomSort();setSortButton();initEvents()}}})(SA,jQuery,window);
(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}
function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass=
"ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul",
"Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,
gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=
e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),
-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}
function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function h(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===
i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),
e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+
this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,
t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),
s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||
"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var l=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,
n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),
r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,
namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=
function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,o=u.call(arguments,1),r=this;return a?this.each(function(){var i,a=e.data(this,s);return"instance"===n?(r=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):(o.length&&
(n=e.widget.extend.apply(null,[n].concat(o))),this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))})),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=
e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,
_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,
i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);
return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=
this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),
this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,
{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",
hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",
distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+
this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&
(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&
(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,
this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},
_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),
height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),
i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;
return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,
y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?y.left+=m:"center"===n.at[0]&&(y.left+=m/2),"bottom"===n.at[1]?y.top+=g:"center"===n.at[1]&&(y.top+=g/2),
p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+f+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,M=e.extend({},y),C=t(T.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?M.left-=d:"center"===n.my[0]&&(M.left-=d/2),"bottom"===n.my[1]?M.top-=c:"center"===n.my[1]&&(M.top-=c/2),M.left+=C[0],M.top+=C[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},
e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-M.left,i=t+m-d,s=v.top-M.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>
a?"top":s>0?"bottom":"middle"};d>m&&m>r(t+i)&&(h.horizontal="center"),c>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>
l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?
n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:
n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,
arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),
h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,
snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||
this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=
this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=
this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),
this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-
this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=
s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,
s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?
!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):
this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],
top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===
this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);
return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),
height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-
this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=
[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),
10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?
-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,
e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:
n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-
this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),
"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,
offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,
e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=
s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,
a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,
!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&
e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&
(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+
n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<
n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,
i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,
t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",
{top:0,left:l}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&
(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+
o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,
over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},
_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;
this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),
this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=
e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",
t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,
c=u+i.proportions().height;switch(s){case "fit":return a>=l&&d>=r&&o>=u&&c>=h;case "intersect":return a+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case "pointer":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case "touch":return(o>=u&&c>=o||h>=u&&c>=h||u>o&&h>c)&&(a>=l&&d>=a||r>=l&&d>=r||l>a&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,
i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,
height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",
function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===
n}),a.length&&(s=e(a[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",
widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=
!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),
width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,
marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",
se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);
this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():
s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),
r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,
s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),
height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,
s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",
t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||
null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e=
{};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?
o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=
e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,
s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),
s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+
i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),
this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;
return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,
[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=
e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,
step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):
d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-
i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+
(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,
o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*
o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&
!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,
o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable",
"ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");
t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>
f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=l-t.width,i.size.width=p,
i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",
{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),
this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,
s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,"selectable-item");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),
!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&
(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),
i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=
!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,
cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||
/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):
this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,
a.widgetName+"-item")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),
this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&
(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&
(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===
this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=
this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),
this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",
null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=
this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,
i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s+l>r&&h>s+l,c="y"===this.options.axis||t+u>a&&o>t+u,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/
2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===
n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":
"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],
this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),
s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],
c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,
left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),
a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=
t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===s?t._createTrPlaceholder(t.currentItem,n):"img"===s&&n.attr("src",t.currentItem.attr("src")),
i||n.css("visibility","hidden"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,
t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],
p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1E4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",d=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],
this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(t,a,null,!0):
this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===
i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||
i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+
(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||
0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-
this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+
(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);
var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():
a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&
(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=
this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?
-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},
_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&
!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),
n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),
this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,
arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},
hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),
this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},
_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display",
"").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",
!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr("tabIndex",
-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):
this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},
_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),s=t.next(),n=s.uniqueId().attr("id");t.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",
"aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(t=n.height(),this.element.siblings(":visible").each(function(){var i=e(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),
this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i=
{keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r};t.preventDefault(),a&&!i.collapsible||
this._trigger("beforeActivate",t,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},
_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),
10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.css("box-sizing"),l=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=l&&u.down||u,c=function(){o._toggleComplete(i)};return"number"==typeof d&&(a=d),"string"==typeof d&&(n=d),n=n||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,
easing:n,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:a,easing:n,complete:c,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-r),r=0)}}),void 0):t.animate(this.hideProps,a,n,c):e.animate(this.showProps,a,n,c)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),
t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,
tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",
[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||
this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,s,n,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);
break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);
break;default:o=!1,s=this.previousFilter||"",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||
(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+
n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],
this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),
this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||
0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&
(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));
s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=
this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=
e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),
void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(e.trim(e(this).text()))})}}),
e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||
o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&
(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",
s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),
this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),
this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&
(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),
this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),
t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===
this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},
_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&
(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),
this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,
t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,
{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||
this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var c,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},
1)},g=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?e(s).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?
this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,
function(){i.disabled||this===c&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?
this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var s=t.element[0];g(s).not(s).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?
!1:(e(this).addClass("ui-state-active"),c=this,t.document.one("mouseup",function(){c=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),
this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),
this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+
" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):
(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?
this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?
(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},
_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?
"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,
e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+
"'>"+o+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:n,
title:n}):n)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=
0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),
i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,n,a){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),r(c.settings,
n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(t,i,s){var n,a,o,h,l=this._getInst(t);return 2===arguments.length&&"string"==
typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,
h)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,
t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),
i=e.datepicker._get(a,"onSelect"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),
o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&
e.datepicker._adjustDate(t.target,r?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);
return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),
e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),
a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),
e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),n=s[1],a=17,r=t.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),
t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,
i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):
0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||
e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),
a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),
this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,
this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=
null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864E5)/7)+1},parseDate:function(t,
i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=
t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n="y"===e?s:1,a=RegExp("^\\d{"+n+","+s+"}"),o=i.substring(h).match(a);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?
(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+h;},k=function(){if(i.charAt(h)!==t.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;t.length>n;n++)if(b)"'"!==t.charAt(n)||_("'")?k():b=!1;else switch(t.charAt(n)){case "d":v=x("d");break;case "D":w("D",d,c);break;case "o":y=x("o");break;case "m":g=x("m");break;case "M":g=w("M",p,f);break;case "y":m=x("y");break;case "@":r=new Date(x("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case "!":r=
new Date((x("!")-this._ticksTo1970)/1E4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case "'":_("'")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+
1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1E7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,
o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case "d":d+=l("d",t.getDate(),2);break;case "D":d+=u("D",t.getDay(),n,a);break;case "o":d+=
l("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":d+=l("m",t.getMonth()+1,2);break;case "M":d+=u("M",t.getMonth(),o,r);break;case "y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case "@":d+=t.getTime();break;case "!":d+=1E4*t.getTime()+this._ticksTo1970;break;case "'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,
n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case "d":case "m":case "y":case "@":i+="0123456789";break;case "D":case "M":return null;case "'":n("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=
e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?"":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,
i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case "d":case "D":r+=parseInt(l[1],10);break;case "w":case "W":r+=7*parseInt(l[1],10);break;case "m":case "M":o+=
parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case "y":case "Y":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>
12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===
e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,
+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,M,C,N,A,P,I,H,z,F,E,O,j,W,L=new Date,R=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),
Y=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),J=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),K=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),U=this._get(e,"stepMonths"),Q=1!==K[0]||1!==K[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),
$.getMonth()-K[0]*K[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":J?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+
i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":J?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+
(Y?"w":"e")+"'>"+n+"</span></a>",o=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?G:R,o=q?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
o+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;K[0]>w;w++){for(k="",this.maxRows=4,T=0;K[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",
M="",Q){if(M+="<div class='ui-datepicker-group",K[1]>1)switch(T){case 0:M+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case K[1]-1:M+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:M+=" ui-datepicker-group-middle",S=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?Y?a:s:"")+(/all|right/.test(S)&&0===w?Y?s:a:"")+this._generateMonthYearHeader(e,Z,et,X,$,w>0||T>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+
"<tr>",C=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)N=(x+u)%7,C+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[N]+"'>"+p[N]+"</span></th>";for(M+=C+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),H=Q?this.maxRows>I?this.maxRows:I:I,this.maxRows=H,z=this._daylightSavingAdjust(new Date(et,
Z,1-P)),F=0;H>F;F++){for(M+="<tr>",E=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(z)+"</td>":"",x=0;7>x;x++)O=g?g.apply(e.input?e.input[0]:null,[z]):[!0,""],j=z.getMonth()!==Z,W=j&&!y||!O[0]||X&&X>z||$&&z>$,E+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(z.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(W?" "+this._unselectableClass+
" ui-state-disabled":"")+(j&&!v?"":" "+O[1]+(z.getTime()===G.getTime()?" "+this._currentClass:"")+(z.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(W?"":" data-handler='selectDay' data-event='click' data-month='"+z.getMonth()+"' data-year='"+z.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":W?"<span class='ui-state-default'>"+z.getDate()+"</span>":"<a class='ui-state-default"+(z.getTime()===R.getTime()?" ui-state-highlight":"")+(z.getTime()===
G.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+z.getDate()+"</a>")+"</td>",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);M+=E+"</tr>"}Z++,Z>11&&(Z=0,et++),M+="</tbody></table>"+(Q?"</div>"+(K[0]>0&&T===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=M}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),
b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+
i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":
"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),n=e.drawMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===
i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},
_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,r=null,h=
this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,
"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;
e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+
t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,
minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,
minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),
this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),
this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=
this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),s=!0),s&&!i&&this._trigger("focus",
t),s},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;
e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+
this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==
this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),
this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),
this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),
this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,s){var n,a;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(t.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e("<button></button>",s).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),
void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,t(n))},drag:function(e,s){i._trigger("drag",e,t(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();
s.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",
alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,t(n))},resize:function(e,s){i._trigger("resize",e,t(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+
" "+"top"+(h>=0?"+":"")+h,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=
this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&
(n[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,s,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=n.is(":data(ui-draggable)"),i&&!t&&n.draggable("destroy"),
!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(s=n.is(":data(ui-resizable)"),s&&!t&&n.resizable("destroy"),s&&"string"==typeof t&&n.resizable("option","handles",t),s||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:"auto",
width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):"none","auto"===s.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),
height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||
(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),
this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),
this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,
t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",
this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",
options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),
this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",
{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),
this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var s=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&s.index!==t.focusIndex&&(t._trigger("focus",e,{item:s}),t.isOpen||t._select(s,e)),t.focusIndex=s.index,t.button.attr("aria-activedescendant",t.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,
"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),
e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},
this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var s=this,n="";e.each(i,function(i,a){a.optgroup!==n&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:a.optgroup}).appendTo(t),n=a.optgroup),s._renderItemData(t,
a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var s=e("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===e||"last"===e?i["first"===e?"prevAll":
"nextAll"](n).eq(-1):i[e+"All"](n).eq(0),s.length&&this.menuInstance.focus(t,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||
this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",
t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=
this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",
t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=
this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),
this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,s){var n=e(s),a=n.parent("optgroup");i.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:a.attr("label")||"",disabled:a.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),
this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),
this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",
o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),
this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),
this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),
n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||
0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=
null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&
(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&
(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i=
{handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;
if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-
1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case "orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case "value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=
!1;break;case "values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case "step":case "min":case "max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);
if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,
s=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=s+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,
h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&
h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?
"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),
!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-
this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.spinner",{version:"1.11.4",
defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,
{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&
this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===
this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):
void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=
this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+
"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+
e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5E4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,
i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),
void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:h(function(e){this._super(e)}),_parse:function(e){return"string"==
typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?
!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&
(this._spin((e||1)*this.options.step),this._stop())},stepDown:h(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:h(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:h(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(h(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",
delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,""),s=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,
n){return e(n).attr("aria-controls")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;
if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}t.preventDefault(),
clearTimeout(this.activating),s=this._focusNextTab(s,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,
!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,
t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&
this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",
"aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role",
"tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),
this.panels=e(),this.anchors.each(function(i,s){var n,a,o,r=e(s).uniqueId().attr("id"),h=e(s).closest("li"),l=h.attr("aria-controls");t._isLocal(s)?(n=s.hash,o=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(o=h.attr("aria-controls")||e({}).uniqueId()[0].id,n="#"+o,a=t.element.find(n),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":o,"aria-labelledby":r}),
a.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===
this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,
{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();"fill"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,
i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?e():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:r?e():a,newPanel:h};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||
this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),l.length||h.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function s(){a.running=!1,a._trigger("activate",t,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,
s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",
-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&
this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),
this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=
this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),a=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(e,t){"abort"===t&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,
i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),s._trigger("load",i,r),h(n,t)},1)}).fail(function(e,t){setTimeout(function(){h(e,t)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href"),beforeSend:function(t,a){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+
i))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))},_removeDescribedBy:function(t){var i=
t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,s);-1!==n&&s.splice(n,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},
_setOption:function(t,i){var s=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur");n.target=n.currentTarget=s.element[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},
_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=
t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(t,s),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,n=this,a=t?t.type:null;return"string"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){n._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=a),this._open(t,e,i))})}),i&&this._open(t,e,i),void 0)},_open:function(t,i,s){function n(e){l.of=
e,o.is(":hidden")||o.position(l)}var a,o,r,h,l=e.extend({},this.options.position);if(s){if(a=this._find(i))return a.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),o=a.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,e("<div>").html(h).appendTo(this.liveRegion),
this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(n(l.of),clearInterval(r))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],
this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,i,s)},close:function(t){var i,s=this,n=e(t?t.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,a.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),
this._hide(i,this.options.hide,function(){s._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete s.parents[t]}),a.closing=!0,this._trigger("close",t,{tooltip:i}),a.hiding||(a.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var i=e("<div>").attr("role",
"tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur"),
a=s.element;n.target=n.currentTarget=a[0],t.close(n,!0),e("#"+i).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}});var y="ui-effects-",b=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),
f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=
p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var d=this,c=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],c="array"),"string"===c?this.parse(s(n)||a._default):"array"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):"object"===c?(n instanceof l?f(u,function(e,
t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!d[a]&&s.to){if("alpha"===e||null==n[e])return;d[a]=s.to(d._rgba)}d[a][t.idx]=i(n[e],t,!0)}),d[a]&&0>e.inArray(null,d[a].slice(0,3))&&(d[a][3]=1,s.from&&(d._rgba=s.from(d[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),
s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=d[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),
s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*
s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,d=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%
360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),d="array"===r||"object"===r?s:arguments,c=this[o].slice();return f(a,
function(e,t){var s=d["object"===r?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(n=l(u(c)),n[o]=c,n):l(c)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===o?u:("function"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]=
{set:function(t,n){var a,o,r="";if("transparent"!==n&&("string"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!c.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=e.css(o,"backgroundColor"),o=o.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,
t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var i,
s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,
borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr("class")||"",l=h.children?
o.find("*").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+"Class"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;
e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return"boolean"==typeof s||void 0===s?n?e.effects.animateClass.call(this,
s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:
"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(y+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(y+t[s]),void 0===i&&(i=""),e.css(t[s],
i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case "top":i=0;break;case "middle":i=.5;break;case "bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case "left":s=0;break;case "center":s=.5;break;case "right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},
s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,
s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&
a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||"fx",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,
n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||"boolean"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),
s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,
function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var s,n,a,o=e(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(o,t.mode||"hide"),d=t.direction||"up",c=r.test(d),p=c?"height":"width",f=c?"top":"left",m=h.test(d),g={},v="show"===u;o.parent().is(".ui-effects-wrapper")?
e.effects.save(o.parent(),l):e.effects.save(o,l),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:n+a),v&&(s.css(p,0),m||s.css(f,a+n)),s.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&o.hide(),e.effects.restore(o,l),e.effects.removeWrapper(o),i()}})},e.effects.effect.bounce=function(t,i){var s,n,a,o=e(this),
r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"effect"),l="hide"===h,u="show"===h,d=t.direction||"up",c=t.distance,p=t.times||5,f=2*p+(u||l?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=o.queue(),_=b.length;for((u||l)&&r.push("opacity"),e.effects.save(o,r),o.show(),e.effects.createWrapper(o),c||(c=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,y?2*-c:2*c).animate(a,
m,g)),l&&(c/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g).animate(a,m,g),c=l?2*c:c/2;l&&(n={opacity:0},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g)),o.queue(function(){l&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),o.dequeue()},e.effects.effect.clip=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"hide"),l="show"===
h,u=t.direction||"vertical",d="vertical"===u,c=d?"height":"width",p=d?"top":"left",f={};e.effects.save(o,r),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[c](),l&&(n.css(c,0),n.css(p,a/2)),f[c]=l?a:0,f[p]=l?0:a/2,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.drop=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right",
"opacity","height","width"],o=e.effects.setMode(n,t.mode||"hide"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",d={opacity:r?1:0};e.effects.save(n,a),n.show(),e.effects.createWrapper(n),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===u?-s:s),d[l]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,
a),e.effects.removeWrapper(n),i()}})},e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&n()}function n(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var a,o,r,h,l,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(a=0;d>a;a++)for(h=g.top+a*y,u=a-(d-1)/2,o=0;c>o;o++)r=g.left+o*
v,l=o-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:r+(m?l*v:0),top:h+(m?u*y:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,s)},e.effects.effect.fade=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:t.duration,
easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var s,n,a=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(a,t.mode||"hide"),h="show"===r,l="hide"===r,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=h!==c,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(a,o),a.show(),s=e.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*n[l?
0:1]),h&&s.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})},e.effects.effect.highlight=function(t,i){var s=e(this),n=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(s,t.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),e.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:t.color||
"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&s.hide(),e.effects.restore(s,n),i()}})},e.effects.effect.size=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth",
"paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),y=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||s):(o.from=t.from||("show"===p?b:s),o.to=t.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/
s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===m||"both"===m)&&(a.from.y!==a.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,a.from.y,o.from),o.to=e.effects.setTransition(o,d,a.to.y,o.to)),a.from.x!==a.to.x&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,a.from.x,o.from),o.to=e.effects.setTransition(o,c,a.to.x,o.to))),("content"===m||"both"===m)&&a.from.y!==a.to.y&&(y=y.concat(u).concat(l),o.from=e.effects.setTransition(o,u,a.from.y,o.from),o.to=e.effects.setTransition(o,
u,a.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(n=e.effects.getBaseline(g,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),l=r.concat(d).concat(c),o.find("*[width]").each(function(){var i=
e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,l),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,d,a.from.y,i.from),i.to=e.effects.setTransition(i,d,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,
c,a.from.x,i.from),i.to=e.effects.setTransition(i,c,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var s=parseInt(i,10),n=e?o.to.left:o.to.top;
return"auto"===i?n+"px":s+n+"px"})})),e.effects.removeWrapper(o),i()}})},e.effects.effect.scale=function(t,i){var s=e(this),n=e.extend(!0,{},t),a=e.effects.setMode(s,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),r=t.direction||"both",h=t.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=
h||["middle","center"],n.restore=!0),n.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},e.effects.effect.puff=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"hide"),a="hide"===n,o=parseInt(t.percent,10)||150,r=o/100,h={height:s.height(),width:s.width(),
outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(t)},e.effects.effect.pulsate=function(t,i){var s,n=e(this),a=e.effects.setMode(n,t.mode||"show"),o="show"===a,r="hide"===a,h=o||"hide"===a,l=2*(t.times||5)+(h?1:0),u=t.duration/l,d=0,c=n.queue(),p=c.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),
d=1),s=1;l>s;s++)n.animate({opacity:d},u,t.easing),d=1-d;n.animate({opacity:d},u,t.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,l+1))),n.dequeue()},e.effects.effect.shake=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m=
{},g={},v=n.queue(),y=v.length;for(e.effects.save(n,a),n.show(),e.effects.createWrapper(n),f[c]=(p?"-=":"+=")+h,m[c]=(p?"+=":"-=")+2*h,g[c]=(p?"-=":"+=")+2*h,n.animate(f,d,t.easing),s=1;l>s;s++)n.animate(m,d,t.easing).animate(g,d,t.easing);n.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),n.dequeue()},e.effects.effect.slide=function(t,i){var s,n=e(this),
a=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(n,t.mode||"show"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(n,a),n.show(),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),d[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),
e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.transfer=function(t,i){var s=e(this),n=e(t.to),a="fixed"===n.css("position"),o=e("body"),r=a?o.scrollTop():0,h=a?o.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},d=s.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-r,left:d.left-h,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(u,
t.duration,t.easing,function(){c.remove(),i()})}});
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/drag"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg version="1.1" id="Layer_4" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <rect x="15" y="6" class="st0" width="2" height="2"/>\n  <rect x="11" y="6" class="st0" width="2" height="2"/>\n  <rect x="7" y="6" class="st0" width="2" height="2"/>\n  <rect x="3" y="6" class="st0" width="2" height="2"/>\n  <rect x="15" y="10" class="st0" width="2" height="2"/>\n  <rect x="11" y="10" class="st0" width="2" height="2"/>\n  <rect x="7" y="10" class="st0" width="2" height="2"/>\n  <rect x="3" y="10" class="st0" width="2" height="2"/>\n</svg>\n');return __p.join("")}}).call(this);
!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(a){function b(a){this.$container,this.constraints=null,this.__$tooltip,this.__init(a)}function c(b,c){var d=!0;return a.each(b,function(a,e){return void 0===c[a]||b[a]!==c[a]?(d=!1,!1):void 0}),d}function d(b){var c=b.attr("id"),d=c?h.window.document.getElementById(c):null;return d?d===b[0]:a.contains(h.window.document.body,
b[0])}function e(){if(!g)return!1;var a=g.document.body||g.document.documentElement,b=a.style,c="transition",d=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;c=c.charAt(0).toUpperCase()+c.substr(1);for(var e=0;e<d.length;e++)if("string"==typeof b[d[e]+c])return!0;return!1}var f={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,
functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},g="undefined"!=typeof window?window:null,h={hasTouchCapability:!(!g||!("ontouchstart"in
g||g.DocumentTouch&&g.document instanceof g.DocumentTouch||g.navigator.maxTouchPoints)),hasTransitions:e(),IE:!1,semVer:"4.1.8",window:g},i=function(){this.__$emitterPrivate=a({}),this.__$emitterPublic=a({}),this.__instancesLatestArr=[],this.__plugins={},this._env=h};i.prototype={__bridge:function(b,c,d){if(!c[d]){var e=function(){};e.prototype=b;var g=new e;g.__init&&g.__init(c),a.each(b,function(a,b){0!=a.indexOf("__")&&(c[a]?f.debug&&console.log("The "+a+" method of the "+d+" plugin conflicts with another plugin or native methods"):
(c[a]=function(){return g[a].apply(g,Array.prototype.slice.apply(arguments))},c[a].bridged=g))}),c[d]=g}return this},__setWindow:function(a){return h.window=a,this},_getRuler:function(a){return new b(a)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,
Array.prototype.slice.apply(arguments)),this},_plugin:function(b){var c=this;if("string"==typeof b){var d=b,e=null;return d.indexOf(".")>0?e=c.__plugins[d]:a.each(c.__plugins,function(a,b){return b.name.substring(b.name.length-d.length-1)=="."+d?(e=b,!1):void 0}),e}if(b.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return c.__plugins[b.name]=b,b.core&&c.__bridge(b.core,c,b.name),this},_trigger:function(){var a=Array.prototype.slice.apply(arguments);return"string"==typeof a[0]&&
(a[0]={type:a[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,a),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,a),this},instances:function(b){var c=[],d=b||".tooltipstered";return a(d).each(function(){var b=a(this),d=b.data("tooltipster-ns");d&&a.each(d,function(a,d){c.push(b.data(d))})}),c},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},
on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(b){var c=b?b+" ":"";return a(c+".tooltipstered").toArray()},setDefaults:function(b){return a.extend(f,b),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),
this}},a.tooltipster=new i,a.Tooltipster=function(b,c){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__destroying=!1,this.__$emitterPrivate=a({}),this.__$emitterPublic=a({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1E6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts=
{close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(b,c)},a.Tooltipster.prototype={__init:function(b,c){var d=this;if(d._$origin=a(b),d.__options=a.extend(!0,{},f,c),d.__optionsFormat(),!h.IE||h.IE>=d.__options.IEmin){var e=null;if(void 0===d._$origin.data("tooltipster-initialTitle")&&(e=d._$origin.attr("title"),void 0===e&&(e=null),d._$origin.data("tooltipster-initialTitle",e)),null!==d.__options.content)d.__contentSet(d.__options.content);else{var g,
i=d._$origin.attr("data-tooltip-content");i&&(g=a(i)),g&&g[0]?d.__contentSet(g.first()):d.__contentSet(e)}d._$origin.removeAttr("title").addClass("tooltipstered"),d.__prepareOrigin(),d.__prepareGC(),a.each(d.__options.plugins,function(a,b){d._plug(b)}),h.hasTouchCapability&&a(h.window.document.body).on("touchmove."+d.__namespace+"-triggerOpen",function(a){d._touchRecordEvent(a)}),d._on("created",function(){d.__prepareTooltip()})._on("repositioned",function(a){d.__lastPosition=a.position})}else d.__options.disabled=
!0},__contentInsert:function(){var a=this,b=a._$tooltip.find(".tooltipster-content"),c=a.__Content,d=function(a){c=a};return a._trigger({type:"format",content:a.__Content,format:d}),a.__options.functionFormat&&(c=a.__options.functionFormat.call(a,a,{origin:a._$origin[0]},a.__Content)),"string"!=typeof c||a.__options.contentAsHTML?b.empty().append(c):b.text(c),a},__contentSet:function(b){return b instanceof a&&this.__options.contentCloning&&(b=b.clone(!0)),this.__Content=b,this._trigger({type:"updated",
content:b}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.");},__geometry:function(){var b=this,c=b._$origin,d=b._$origin.is("area");if(d){var e=b._$origin.parent().attr("name");c=a('img[usemap="#'+e+'"]')}var f=c[0].getBoundingClientRect(),g=a(h.window.document),i=a(h.window),j=c,k={available:{document:null,window:null},document:{size:{height:g.height(),width:g.width()}},window:{scroll:{left:h.window.scrollX||h.window.document.documentElement.scrollLeft,
top:h.window.scrollY||h.window.document.documentElement.scrollTop},size:{height:i.height(),width:i.width()}},origin:{fixedLineage:!1,offset:{},size:{height:f.bottom-f.top,width:f.right-f.left},usemapImage:d?c[0]:null,windowOffset:{bottom:f.bottom,left:f.left,right:f.right,top:f.top}}};if(d){var l=b._$origin.attr("shape"),m=b._$origin.attr("coords");if(m&&(m=m.split(","),a.map(m,function(a,b){m[b]=parseInt(a)})),"default"!=l)switch(l){case "circle":var n=m[0],o=m[1],p=m[2],q=o-p,r=n-p;k.origin.size.height=
2*p,k.origin.size.width=k.origin.size.height,k.origin.windowOffset.left+=r,k.origin.windowOffset.top+=q;break;case "rect":var s=m[0],t=m[1],u=m[2],v=m[3];k.origin.size.height=v-t,k.origin.size.width=u-s,k.origin.windowOffset.left+=s,k.origin.windowOffset.top+=t;break;case "poly":for(var w=0,x=0,y=0,z=0,A="even",B=0;B<m.length;B++){var C=m[B];"even"==A?(C>y&&(y=C,0===B&&(w=y)),w>C&&(w=C),A="odd"):(C>z&&(z=C,1==B&&(x=z)),x>C&&(x=C),A="even")}k.origin.size.height=z-x,k.origin.size.width=y-w,k.origin.windowOffset.left+=
w,k.origin.windowOffset.top+=x}}var D=function(a){k.origin.size.height=a.height,k.origin.windowOffset.left=a.left,k.origin.windowOffset.top=a.top,k.origin.size.width=a.width};for(b._trigger({type:"geometry",edit:D,geometry:{height:k.origin.size.height,left:k.origin.windowOffset.left,top:k.origin.windowOffset.top,width:k.origin.size.width}}),k.origin.windowOffset.right=k.origin.windowOffset.left+k.origin.size.width,k.origin.windowOffset.bottom=k.origin.windowOffset.top+k.origin.size.height,k.origin.offset.left=
k.origin.windowOffset.left+k.window.scroll.left,k.origin.offset.top=k.origin.windowOffset.top+k.window.scroll.top,k.origin.offset.bottom=k.origin.offset.top+k.origin.size.height,k.origin.offset.right=k.origin.offset.left+k.origin.size.width,k.available.document={bottom:{height:k.document.size.height-k.origin.offset.bottom,width:k.document.size.width},left:{height:k.document.size.height,width:k.origin.offset.left},right:{height:k.document.size.height,width:k.document.size.width-k.origin.offset.right},
top:{height:k.origin.offset.top,width:k.document.size.width}},k.available.window={bottom:{height:Math.max(k.window.size.height-Math.max(k.origin.windowOffset.bottom,0),0),width:k.window.size.width},left:{height:k.window.size.height,width:Math.max(k.origin.windowOffset.left,0)},right:{height:k.window.size.height,width:Math.max(k.window.size.width-Math.max(k.origin.windowOffset.right,0),0)},top:{height:Math.max(k.origin.windowOffset.top,0),width:k.window.size.width}};"html"!=j[0].tagName.toLowerCase();){if("fixed"==
j.css("position")){k.origin.fixedLineage=!0;break}j=j.parent()}return k},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==
typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=a(h.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=a(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose=
{click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var b=this;return b.__options.selfDestruction?b.__garbageCollector=setInterval(function(){var c=(new Date).getTime();b.__touchEvents=a.grep(b.__touchEvents,function(a,b){return c-a.time>6E4}),d(b._$origin)||b.destroy()},2E4):clearInterval(b.__garbageCollector),b},__prepareOrigin:function(){var a=this;if(a._$origin.off("."+a.__namespace+"-triggerOpen"),h.hasTouchCapability&&a._$origin.on("touchstart."+a.__namespace+"-triggerOpen touchend."+
a.__namespace+"-triggerOpen touchcancel."+a.__namespace+"-triggerOpen",function(b){a._touchRecordEvent(b)}),a.__options.triggerOpen.click||a.__options.triggerOpen.tap&&h.hasTouchCapability){var b="";a.__options.triggerOpen.click&&(b+="click."+a.__namespace+"-triggerOpen "),a.__options.triggerOpen.tap&&h.hasTouchCapability&&(b+="touchend."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){a._touchIsMeaningfulEvent(b)&&a._open(b)})}if(a.__options.triggerOpen.mouseenter||a.__options.triggerOpen.touchstart&&
h.hasTouchCapability){var b="";a.__options.triggerOpen.mouseenter&&(b+="mouseenter."+a.__namespace+"-triggerOpen "),a.__options.triggerOpen.touchstart&&h.hasTouchCapability&&(b+="touchstart."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){!a._touchIsTouchEvent(b)&&a._touchIsEmulatedEvent(b)||(a.__pointerIsOverOrigin=!0,a._openShortly(b))})}if(a.__options.triggerClose.mouseleave||a.__options.triggerClose.touchleave&&h.hasTouchCapability){var b="";a.__options.triggerClose.mouseleave&&(b+=
"mouseleave."+a.__namespace+"-triggerOpen "),a.__options.triggerClose.touchleave&&h.hasTouchCapability&&(b+="touchend."+a.__namespace+"-triggerOpen touchcancel."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){a._touchIsMeaningfulEvent(b)&&(a.__pointerIsOverOrigin=!1)})}return a},__prepareTooltip:function(){var b=this,c=b.__options.interactive?"auto":"";return b._$tooltip.attr("id",b.__namespace).css({"pointer-events":c,zIndex:b.__options.zIndex}),a.each(b.__previousThemes,function(a,c){b._$tooltip.removeClass(c)}),
a.each(b.__options.theme,function(a,c){b._$tooltip.addClass(c)}),b.__previousThemes=a.merge([],b.__options.theme),b},__scrollHandler:function(b){var c=this;if(c.__options.triggerClose.scroll)c._close(b);else if(d(c._$origin)&&d(c._$tooltip)){if(b.target===h.window.document)c.__Geometry.origin.fixedLineage||c.__options.repositionOnScroll&&c.reposition(b);else{var e=c.__geometry(),f=!1;if("fixed"!=c._$origin.css("position")&&c.__$originParents.each(function(b,c){var d=a(c),g=d.css("overflow-x"),h=d.css("overflow-y");
if("visible"!=g||"visible"!=h){var i=c.getBoundingClientRect();if("visible"!=g&&(e.origin.windowOffset.left<i.left||e.origin.windowOffset.right>i.right))return f=!0,!1;if("visible"!=h&&(e.origin.windowOffset.top<i.top||e.origin.windowOffset.bottom>i.bottom))return f=!0,!1}return"fixed"==d.css("position")?!1:void 0}),f)c._$tooltip.css("visibility","hidden");else if(c._$tooltip.css("visibility","visible"),c.__options.repositionOnScroll)c.reposition(b);else{var g=e.origin.offset.left-c.__Geometry.origin.offset.left,
i=e.origin.offset.top-c.__Geometry.origin.offset.top;c._$tooltip.css({left:c.__lastPosition.coord.left+g,top:c.__lastPosition.coord.top+i})}}c._trigger({type:"scroll",event:b})}return c},__stateSet:function(a){return this.__state=a,this._trigger({type:"state",state:a}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,a.each(this.__timeouts.close,function(a,b){clearTimeout(b)}),this.__timeouts.close=[],this},__trackerStart:function(){var a=this,b=
a._$tooltip.find(".tooltipster-content");return a.__options.trackTooltip&&(a.__contentBcr=b[0].getBoundingClientRect()),a.__tracker=setInterval(function(){if(d(a._$origin)&&d(a._$tooltip)){if(a.__options.trackOrigin){var e=a.__geometry(),f=!1;c(e.origin.size,a.__Geometry.origin.size)&&(a.__Geometry.origin.fixedLineage?c(e.origin.windowOffset,a.__Geometry.origin.windowOffset)&&(f=!0):c(e.origin.offset,a.__Geometry.origin.offset)&&(f=!0)),f||(a.__options.triggerClose.mouseleave?a._close():a.reposition())}if(a.__options.trackTooltip){var g=
b[0].getBoundingClientRect();g.height===a.__contentBcr.height&&g.width===a.__contentBcr.width||(a.reposition(),a.__contentBcr=g)}}else a._close()},a.__options.trackerInterval),a},_close:function(b,c){var d=this,e=!0;if(d._trigger({type:"close",event:b,stop:function(){e=!1}}),e||d.__destroying){c&&d.__callbacks.close.push(c),d.__callbacks.open=[],d.__timeoutsClear();var f=function(){a.each(d.__callbacks.close,function(a,c){c.call(d,d,{event:b,origin:d._$origin[0]})}),d.__callbacks.close=[]};if("closed"!=
d.__state){var g=!0,i=new Date,j=i.getTime(),k=j+d.__options.animationDuration[1];if("disappearing"==d.__state&&k>d.__closingTime&&(g=!1),g){d.__closingTime=k,"disappearing"!=d.__state&&d.__stateSet("disappearing");var l=function(){clearInterval(d.__tracker),d._trigger({type:"closing",event:b}),d._$tooltip.off("."+d.__namespace+"-triggerClose").removeClass("tooltipster-dying"),a(h.window).off("."+d.__namespace+"-triggerClose"),d.__$originParents.each(function(b,c){a(c).off("scroll."+d.__namespace+
"-triggerClose")}),d.__$originParents=null,a(h.window.document.body).off("."+d.__namespace+"-triggerClose"),d._$origin.off("."+d.__namespace+"-triggerClose"),d._off("dismissable"),d.__stateSet("closed"),d._trigger({type:"after",event:b}),d.__options.functionAfter&&d.__options.functionAfter.call(d,d,{event:b,origin:d._$origin[0]}),f()};h.hasTransitions?(d._$tooltip.css({"-moz-animation-duration":d.__options.animationDuration[1]+"ms","-ms-animation-duration":d.__options.animationDuration[1]+"ms","-o-animation-duration":d.__options.animationDuration[1]+
"ms","-webkit-animation-duration":d.__options.animationDuration[1]+"ms","animation-duration":d.__options.animationDuration[1]+"ms","transition-duration":d.__options.animationDuration[1]+"ms"}),d._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),d.__options.animationDuration[1]>0&&d._$tooltip.delay(d.__options.animationDuration[1]),d._$tooltip.queue(l)):d._$tooltip.stop().fadeOut(d.__options.animationDuration[1],l)}}else f()}return d},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,
Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(b,c){var e=this;if(!e.__destroying&&d(e._$origin)&&e.__enabled){var f=!0;if("closed"==e.__state&&(e._trigger({type:"before",event:b,stop:function(){f=!1}}),f&&e.__options.functionBefore&&(f=e.__options.functionBefore.call(e,
e,{event:b,origin:e._$origin[0]}))),f!==!1&&null!==e.__Content){c&&e.__callbacks.open.push(c),e.__callbacks.close=[],e.__timeoutsClear();var g,i=function(){"stable"!=e.__state&&e.__stateSet("stable"),a.each(e.__callbacks.open,function(a,b){b.call(e,e,{origin:e._$origin[0],tooltip:e._$tooltip[0]})}),e.__callbacks.open=[]};if("closed"!==e.__state)g=0,"disappearing"===e.__state?(e.__stateSet("appearing"),h.hasTransitions?(e._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),
e.__options.animationDuration[0]>0&&e._$tooltip.delay(e.__options.animationDuration[0]),e._$tooltip.queue(i)):e._$tooltip.stop().fadeIn(i)):"stable"==e.__state&&i();else{if(e.__stateSet("appearing"),g=e.__options.animationDuration[0],e.__contentInsert(),e.reposition(b,!0),h.hasTransitions?(e._$tooltip.addClass("tooltipster-"+e.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":e.__options.animationDuration[0]+"ms","-ms-animation-duration":e.__options.animationDuration[0]+
"ms","-o-animation-duration":e.__options.animationDuration[0]+"ms","-webkit-animation-duration":e.__options.animationDuration[0]+"ms","animation-duration":e.__options.animationDuration[0]+"ms","transition-duration":e.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=e.__state&&(e._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),e.__options.animationDuration[0]>0&&e._$tooltip.delay(e.__options.animationDuration[0]),e._$tooltip.queue(i))},0)):e._$tooltip.css("display",
"none").fadeIn(e.__options.animationDuration[0],i),e.__trackerStart(),a(h.window).on("resize."+e.__namespace+"-triggerClose",function(b){var c=a(document.activeElement);(c.is("input")||c.is("textarea"))&&a.contains(e._$tooltip[0],c[0])||e.reposition(b)}).on("scroll."+e.__namespace+"-triggerClose",function(a){e.__scrollHandler(a)}),e.__$originParents=e._$origin.parents(),e.__$originParents.each(function(b,c){a(c).on("scroll."+e.__namespace+"-triggerClose",function(a){e.__scrollHandler(a)})}),e.__options.triggerClose.mouseleave||
e.__options.triggerClose.touchleave&&h.hasTouchCapability){e._on("dismissable",function(a){a.dismissable?a.delay?(m=setTimeout(function(){e._close(a.event)},a.delay),e.__timeouts.close.push(m)):e._close(a):clearTimeout(m)});var j=e._$origin,k="",l="",m=null;e.__options.interactive&&(j=j.add(e._$tooltip)),e.__options.triggerClose.mouseleave&&(k+="mouseenter."+e.__namespace+"-triggerClose ",l+="mouseleave."+e.__namespace+"-triggerClose "),e.__options.triggerClose.touchleave&&h.hasTouchCapability&&(k+=
"touchstart."+e.__namespace+"-triggerClose",l+="touchend."+e.__namespace+"-triggerClose touchcancel."+e.__namespace+"-triggerClose"),j.on(l,function(a){if(e._touchIsTouchEvent(a)||!e._touchIsEmulatedEvent(a)){var b="mouseleave"==a.type?e.__options.delay:e.__options.delayTouch;e._trigger({delay:b[1],dismissable:!0,event:a,type:"dismissable"})}}).on(k,function(a){!e._touchIsTouchEvent(a)&&e._touchIsEmulatedEvent(a)||e._trigger({dismissable:!1,event:a,type:"dismissable"})})}e.__options.triggerClose.originClick&&
e._$origin.on("click."+e.__namespace+"-triggerClose",function(a){e._touchIsTouchEvent(a)||e._touchIsEmulatedEvent(a)||e._close(a)}),(e.__options.triggerClose.click||e.__options.triggerClose.tap&&h.hasTouchCapability)&&setTimeout(function(){if("closed"!=e.__state){var b="",c=a(h.window.document.body);e.__options.triggerClose.click&&(b+="click."+e.__namespace+"-triggerClose "),e.__options.triggerClose.tap&&h.hasTouchCapability&&(b+="touchend."+e.__namespace+"-triggerClose"),c.on(b,function(b){e._touchIsMeaningfulEvent(b)&&
(e._touchRecordEvent(b),e.__options.interactive&&a.contains(e._$tooltip[0],b.target)||e._close(b))}),e.__options.triggerClose.tap&&h.hasTouchCapability&&c.on("touchstart."+e.__namespace+"-triggerClose",function(a){e._touchRecordEvent(a)})}},0),e._trigger("ready"),e.__options.functionReady&&e.__options.functionReady.call(e,e,{origin:e._$origin[0],tooltip:e._$tooltip[0]})}if(e.__options.timer>0){var m=setTimeout(function(){e._close()},e.__options.timer+g);e.__timeouts.close.push(m)}}}return e},_openShortly:function(a){var b=
this,c=!0;if("stable"!=b.__state&&"appearing"!=b.__state&&!b.__timeouts.open&&(b._trigger({type:"start",event:a,stop:function(){c=!1}}),c)){var d=0==a.type.indexOf("touch")?b.__options.delayTouch:b.__options.delay;d[0]?b.__timeouts.open=setTimeout(function(){b.__timeouts.open=null,b.__pointerIsOverOrigin&&b._touchIsMeaningfulEvent(a)?(b._trigger("startend"),b._open(a)):b._trigger("startcancel")},d[0]):(b._trigger("startend"),b._open(a))}return b},_optionsExtract:function(b,c){var d=this,e=a.extend(!0,
{},c),f=d.__options[b];return f||(f={},a.each(c,function(a,b){var c=d.__options[a];void 0!==c&&(f[a]=c)})),a.each(e,function(b,c){void 0!==f[b]&&("object"!=typeof c||c instanceof Array||null==c||"object"!=typeof f[b]||f[b]instanceof Array||null==f[b]?e[b]=f[b]:a.extend(e[b],f[b]))}),e},_plug:function(b){var c=a.tooltipster._plugin(b);if(!c)throw new Error('The "'+b+'" plugin is not defined');return c.instance&&a.tooltipster.__bridge(c.instance,this,c.name),this},_touchIsEmulatedEvent:function(a){for(var b=
!1,c=(new Date).getTime(),d=this.__touchEvents.length-1;d>=0;d--){var e=this.__touchEvents[d];if(!(c-e.time<500))break;e.target===a.target&&(b=!0)}return b},_touchIsMeaningfulEvent:function(a){return this._touchIsTouchEvent(a)&&!this._touchSwiped(a.target)||!this._touchIsTouchEvent(a)&&!this._touchIsEmulatedEvent(a)},_touchIsTouchEvent:function(a){return 0==a.type.indexOf("touch")},_touchRecordEvent:function(a){return this._touchIsTouchEvent(a)&&(a.time=(new Date).getTime(),this.__touchEvents.push(a)),
this},_touchSwiped:function(a){for(var b=!1,c=this.__touchEvents.length-1;c>=0;c--){var d=this.__touchEvents[c];if("touchmove"==d.type){b=!0;break}if("touchstart"==d.type&&a===d.target)break}return b},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]={type:b[0]}),b[0].instance=this,b[0].origin=this._$origin?this._$origin[0]:null,b[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),a.tooltipster._trigger.apply(a.tooltipster,
b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},_unplug:function(b){var c=this;if(c[b]){var d=a.tooltipster._plugin(b);d.instance&&a.each(d.instance,function(a,d){c[a]&&c[a].bridged===c[b]&&delete c[a]}),c[b].__destroy&&c[b].__destroy(),delete c[b]}return c},close:function(a){return this.__destroyed?this.__destroyError():this._close(null,a),this},content:function(a){var b=this;if(void 0===a)return b.__Content;if(b.__destroyed)b.__destroyError();else if(b.__contentSet(a),null!==
b.__Content){if("closed"!==b.__state&&(b.__contentInsert(),b.reposition(),b.__options.updateAnimation))if(h.hasTransitions){var c=b.__options.updateAnimation;b._$tooltip.addClass("tooltipster-update-"+c),setTimeout(function(){"closed"!=b.__state&&b._$tooltip.removeClass("tooltipster-update-"+c)},1E3)}else b._$tooltip.fadeTo(200,.5,function(){"closed"!=b.__state&&b._$tooltip.fadeTo(200,1)})}else b._close();return b},destroy:function(){var b=this;return b.__destroyed?b.__destroyError():b.__destroying||
(b.__destroying=!0,b._close(null,function(){b._trigger("destroy"),b.__destroying=!1,b.__destroyed=!0,b._$origin.removeData(b.__namespace).off("."+b.__namespace+"-triggerOpen"),a(h.window.document.body).off("."+b.__namespace+"-triggerOpen");var c=b._$origin.data("tooltipster-ns");if(c)if(1===c.length){var d=null;"previous"==b.__options.restoration?d=b._$origin.data("tooltipster-initialTitle"):"current"==b.__options.restoration&&(d="string"==typeof b.__Content?b.__Content:a("<div></div>").append(b.__Content).html()),
d&&b._$origin.attr("title",d),b._$origin.removeClass("tooltipstered"),b._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else c=a.grep(c,function(a,c){return a!==b.__namespace}),b._$origin.data("tooltipster-ns",c);b._trigger("destroyed"),b._off(),b.off(),b.__Content=null,b.__$emitterPrivate=null,b.__$emitterPublic=null,b.__options.parent=null,b._$origin=null,b._$tooltip=null,a.tooltipster.__instancesLatestArr=a.grep(a.tooltipster.__instancesLatestArr,function(a,c){return b!==
a}),clearInterval(b.__garbageCollector)})),b},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(a){return this.close(a)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,
Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(a){return this.__destroyed||this.__destroying?this.__destroyError():this._open(null,a),this},option:function(b,c){return void 0===
c?this.__options[b]:(this.__destroyed?this.__destroyError():(this.__options[b]=c,this.__optionsFormat(),a.inArray(b,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===b&&this.__prepareGC()),this)},reposition:function(a,b){var c=this;return c.__destroyed?c.__destroyError():"closed"!=c.__state&&d(c._$origin)&&(b||d(c._$tooltip))&&(b||c._$tooltip.detach(),c.__Geometry=c.__geometry(),c._trigger({type:"reposition",event:a,helper:{geo:c.__Geometry}})),c},show:function(a){return this.open(a)},
status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},a.fn.tooltipster=function(){var b=Array.prototype.slice.apply(arguments),c="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";
if(0===this.length)return this;if("string"==typeof b[0]){var d="#*$~&";return this.each(function(){var e=a(this).data("tooltipster-ns"),f=e?a(this).data(e[0]):null;if(!f)throw new Error("You called Tooltipster's \""+b[0]+'" method on an uninitialized element');if("function"!=typeof f[b[0]])throw new Error('Unknown method "'+b[0]+'"');this.length>1&&"content"==b[0]&&(b[1]instanceof a||"object"==typeof b[1]&&null!=b[1]&&b[1].tagName)&&!f.__options.contentCloning&&f.__options.debug&&console.log(c);var g=
f[b[0]](b[1],b[2]);return g!==f||"instance"===b[0]?(d=g,!1):void 0}),"#*$~&"!==d?d:this}a.tooltipster.__instancesLatestArr=[];var e=b[0]&&void 0!==b[0].multiple,g=e&&b[0].multiple||!e&&f.multiple,h=b[0]&&void 0!==b[0].content,i=h&&b[0].content||!h&&f.content,j=b[0]&&void 0!==b[0].contentCloning,k=j&&b[0].contentCloning||!j&&f.contentCloning,l=b[0]&&void 0!==b[0].debug,m=l&&b[0].debug||!l&&f.debug;return this.length>1&&(i instanceof a||"object"==typeof i&&null!=i&&i.tagName)&&!k&&m&&console.log(c),
this.each(function(){var c=!1,d=a(this),e=d.data("tooltipster-ns"),f=null;e?g?c=!0:m&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):c=!0,c&&(f=new a.Tooltipster(this,b[0]),e||(e=[]),e.push(f.__namespace),d.data("tooltipster-ns",e),d.data(f.__namespace,f),f.__options.functionInit&&f.__options.functionInit.call(f,f,{origin:this}),f._trigger("init")),a.tooltipster.__instancesLatestArr.push(f)}),this},b.prototype={__init:function(b){this.__$tooltip=
b,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=a('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(h.window.document.body)},__forceRedraw:function(){var a=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(a)},constrain:function(a,b){return this.constraints={width:a,height:b},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:a}),this},
destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var a=this.__$tooltip[0].getBoundingClientRect(),b={size:{height:a.height||a.bottom,width:a.width||a.right}};if(this.constraints){var c=this.__$tooltip.find(".tooltipster-content"),d=this.__$tooltip.outerHeight(),
e=c[0].getBoundingClientRect(),f={height:d<=this.constraints.height,width:a.width<=this.constraints.width&&e.width>=c[0].scrollWidth-1};b.fits=f.height&&f.width}return h.IE&&h.IE<=11&&b.size.width!==h.window.document.documentElement.clientWidth&&(b.size.width=Math.ceil(b.size.width)+1),b}};var j=navigator.userAgent.toLowerCase();-1!=j.indexOf("msie")?h.IE=parseInt(j.split("msie")[1]):-1!==j.toLowerCase().indexOf("trident")&&-1!==j.indexOf(" rv:11")?h.IE=11:-1!=j.toLowerCase().indexOf("edge/")&&(h.IE=
parseInt(j.toLowerCase().split("edge/")[1]));var k="tooltipster.sideTip";return a.tooltipster._plugin({name:k,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(a){var b=this;b.__instance=a,b.__namespace="tooltipster-sideTip-"+Math.round(1E6*Math.random()),b.__previousState="closed",b.__options,b.__optionsFormat(),b.__instance._on("state."+b.__namespace,function(a){"closed"==
a.state?b.__close():"appearing"==a.state&&"closed"==b.__previousState&&b.__create(),b.__previousState=a.state}),b.__instance._on("options."+b.__namespace,function(){b.__optionsFormat()}),b.__instance._on("reposition."+b.__namespace,function(a){b.__reposition(a.event,a.helper)})},__close:function(){this.__instance.content()instanceof a&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var b=a('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');
this.__options.arrow||b.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&b.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&b.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=b,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var b=this;if(b.__options=b.__instance._optionsExtract(k,b.__defaults()),b.__options.position&&
(b.__options.side=b.__options.position),"object"!=typeof b.__options.distance&&(b.__options.distance=[b.__options.distance]),b.__options.distance.length<4&&(void 0===b.__options.distance[1]&&(b.__options.distance[1]=b.__options.distance[0]),void 0===b.__options.distance[2]&&(b.__options.distance[2]=b.__options.distance[0]),void 0===b.__options.distance[3]&&(b.__options.distance[3]=b.__options.distance[1]),b.__options.distance={top:b.__options.distance[0],right:b.__options.distance[1],bottom:b.__options.distance[2],
left:b.__options.distance[3]}),"string"==typeof b.__options.side){var c={top:"bottom",right:"left",bottom:"top",left:"right"};b.__options.side=[b.__options.side,c[b.__options.side]],"left"==b.__options.side[0]||"right"==b.__options.side[0]?b.__options.side.push("top","bottom"):b.__options.side.push("right","left")}6===a.tooltipster._env.IE&&b.__options.arrow!==!0&&(b.__options.arrow=!1)},__reposition:function(b,c){var d,e=this,f=e.__targetFind(c),g=[];e.__instance._$tooltip.detach();var h=e.__instance._$tooltip.clone(),
i=a.tooltipster._getRuler(h),j=!1,k=e.__instance.option("animation");switch(k&&h.removeClass("tooltipster-"+k),a.each(["window","document"],function(d,k){var l=null;if(e.__instance._trigger({container:k,helper:c,satisfied:j,takeTest:function(a){l=a},results:g,type:"positionTest"}),1==l||0!=l&&0==j&&("window"!=k||e.__options.viewportAware))for(var d=0;d<e.__options.side.length;d++){var m={horizontal:0,vertical:0},n=e.__options.side[d];"top"==n||"bottom"==n?m.vertical=e.__options.distance[n]:m.horizontal=
e.__options.distance[n],e.__sideChange(h,n),a.each(["natural","constrained"],function(a,d){if(l=null,e.__instance._trigger({container:k,event:b,helper:c,mode:d,results:g,satisfied:j,side:n,takeTest:function(a){l=a},type:"positionTest"}),1==l||0!=l&&0==j){var h={container:k,distance:m,fits:null,mode:d,outerSize:null,side:n,size:null,target:f[n],whole:null},o="natural"==d?i.free():i.constrain(c.geo.available[k][n].width-m.horizontal,c.geo.available[k][n].height-m.vertical),p=o.measure();if(h.size=p.size,
h.outerSize={height:p.size.height+m.vertical,width:p.size.width+m.horizontal},"natural"==d?c.geo.available[k][n].width>=h.outerSize.width&&c.geo.available[k][n].height>=h.outerSize.height?h.fits=!0:h.fits=!1:h.fits=p.fits,"window"==k&&(h.fits?"top"==n||"bottom"==n?h.whole=c.geo.origin.windowOffset.right>=e.__options.minIntersection&&c.geo.window.size.width-c.geo.origin.windowOffset.left>=e.__options.minIntersection:h.whole=c.geo.origin.windowOffset.bottom>=e.__options.minIntersection&&c.geo.window.size.height-
c.geo.origin.windowOffset.top>=e.__options.minIntersection:h.whole=!1),g.push(h),h.whole)j=!0;else if("natural"==h.mode&&(h.fits||h.size.width<=c.geo.available[k][n].width))return!1}})}}),e.__instance._trigger({edit:function(a){g=a},event:b,helper:c,results:g,type:"positionTested"}),g.sort(function(a,b){if(a.whole&&!b.whole)return-1;if(!a.whole&&b.whole)return 1;if(a.whole&&b.whole){var c=e.__options.side.indexOf(a.side),d=e.__options.side.indexOf(b.side);return d>c?-1:c>d?1:"natural"==a.mode?-1:
1}if(a.fits&&!b.fits)return-1;if(!a.fits&&b.fits)return 1;if(a.fits&&b.fits){var c=e.__options.side.indexOf(a.side),d=e.__options.side.indexOf(b.side);return d>c?-1:c>d?1:"natural"==a.mode?-1:1}return"document"==a.container&&"bottom"==a.side&&"natural"==a.mode?-1:1}),d=g[0],d.coord={},d.side){case "left":case "right":d.coord.top=Math.floor(d.target-d.size.height/2);break;case "bottom":case "top":d.coord.left=Math.floor(d.target-d.size.width/2)}switch(d.side){case "left":d.coord.left=c.geo.origin.windowOffset.left-
d.outerSize.width;break;case "right":d.coord.left=c.geo.origin.windowOffset.right+d.distance.horizontal;break;case "top":d.coord.top=c.geo.origin.windowOffset.top-d.outerSize.height;break;case "bottom":d.coord.top=c.geo.origin.windowOffset.bottom+d.distance.vertical}"window"==d.container?"top"==d.side||"bottom"==d.side?d.coord.left<0?c.geo.origin.windowOffset.right-this.__options.minIntersection>=0?d.coord.left=0:d.coord.left=c.geo.origin.windowOffset.right-this.__options.minIntersection-1:d.coord.left>
c.geo.window.size.width-d.size.width&&(c.geo.origin.windowOffset.left+this.__options.minIntersection<=c.geo.window.size.width?d.coord.left=c.geo.window.size.width-d.size.width:d.coord.left=c.geo.origin.windowOffset.left+this.__options.minIntersection+1-d.size.width):d.coord.top<0?c.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?d.coord.top=0:d.coord.top=c.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:d.coord.top>c.geo.window.size.height-d.size.height&&(c.geo.origin.windowOffset.top+
this.__options.minIntersection<=c.geo.window.size.height?d.coord.top=c.geo.window.size.height-d.size.height:d.coord.top=c.geo.origin.windowOffset.top+this.__options.minIntersection+1-d.size.height):(d.coord.left>c.geo.window.size.width-d.size.width&&(d.coord.left=c.geo.window.size.width-d.size.width),d.coord.left<0&&(d.coord.left=0)),e.__sideChange(h,d.side),c.tooltipClone=h[0],c.tooltipParent=e.__instance.option("parent").parent[0],c.mode=d.mode,c.whole=d.whole,c.origin=e.__instance._$origin[0],
c.tooltip=e.__instance._$tooltip[0],delete d.container,delete d.fits,delete d.mode,delete d.outerSize,delete d.whole,d.distance=d.distance.horizontal||d.distance.vertical;var l=a.extend(!0,{},d);if(e.__instance._trigger({edit:function(a){d=a},event:b,helper:c,position:l,type:"position"}),e.__options.functionPosition){var m=e.__options.functionPosition.call(e,e.__instance,c,l);m&&(d=m)}i.destroy();var n,o;"top"==d.side||"bottom"==d.side?(n={prop:"left",val:d.target-d.coord.left},o=d.size.width-this.__options.minIntersection):
(n={prop:"top",val:d.target-d.coord.top},o=d.size.height-this.__options.minIntersection),n.val<this.__options.minIntersection?n.val=this.__options.minIntersection:n.val>o&&(n.val=o);var p;p=c.geo.origin.fixedLineage?c.geo.origin.windowOffset:{left:c.geo.origin.windowOffset.left+c.geo.window.scroll.left,top:c.geo.origin.windowOffset.top+c.geo.window.scroll.top},d.coord={left:p.left+(d.coord.left-c.geo.origin.windowOffset.left),top:p.top+(d.coord.top-c.geo.origin.windowOffset.top)},e.__sideChange(e.__instance._$tooltip,
d.side),c.geo.origin.fixedLineage?e.__instance._$tooltip.css("position","fixed"):e.__instance._$tooltip.css("position",""),e.__instance._$tooltip.css({left:d.coord.left,top:d.coord.top,height:d.size.height,width:d.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(n.prop,n.val),e.__instance._$tooltip.appendTo(e.__instance.option("parent")),e.__instance._trigger({type:"repositioned",event:b,position:d})},__sideChange:function(a,b){a.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+
b)},__targetFind:function(a){var b={},c=this.__instance._$origin[0].getClientRects();if(c.length>1){var d=this.__instance._$origin.css("opacity");1==d&&(this.__instance._$origin.css("opacity",.99),c=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))}if(c.length<2)b.top=Math.floor(a.geo.origin.windowOffset.left+a.geo.origin.size.width/2),b.bottom=b.top,b.left=Math.floor(a.geo.origin.windowOffset.top+a.geo.origin.size.height/2),b.right=b.left;else{var e=c[0];b.top=
Math.floor(e.left+(e.right-e.left)/2),e=c.length>2?c[Math.ceil(c.length/2)-1]:c[0],b.right=Math.floor(e.top+(e.bottom-e.top)/2),e=c[c.length-1],b.bottom=Math.floor(e.left+(e.right-e.left)/2),e=c.length>2?c[Math.ceil((c.length+1)/2)-1]:c[c.length-1],b.left=Math.floor(e.top+(e.bottom-e.top)/2)}return b}}}),a});
!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&
(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,
"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);
(function(window,SA,$){var scope=SA.UsingNamespace("SA.Utils");scope.SidePortfolio=new function(){var _this=this,$leftRailPortfolio=$("#left-rail-portfolio"),portfolioType=$leftRailPortfolio.length?"left_rail":"portfolio_page",portfolioUnit=portfolioType==="left_rail"?"portfolio_unit":"portfolio_page",$sidePortfolio,addSlugs,addedAlerts="rta_market_currents,rta_articles",addStockBtn,addStockInput,alertsPopup,filtersContainer,title,fullNames={},portfolioSelector,pricesInterval,slugPrefix="sp_slug_",
portfolioUriName,portfolioId,portfolioName,renamePopup,etfAlternativesSlugs=[],etfAlternativesContainer=$("#portfolio_etf_alternatives_unit"),etfAlternativesSlugPrefix="etf_alt_slug_",RECOMMENDATIONS_ACTIONS_WAIT_TIME=4E3,etfAlternativesRecommendations,PortfolioModel,SymbolData,Resize,doResize,CURRENT_PORTFOLIO="current_selected_portfolio",portfolioSideAd,$portfolioSideAdLi,PORTFOLIO_PAGE_WIDTH_LIMIT=115,RAIL_WIDTH_LIMIT=78,userId=SA.Data.User.id(),isProUser=SA.Data.User.isPro(),portfolioSortTest=
false,formatter=SA.Utils.Formatter,abTestPortfolioRedesign,$selectorContainer,recommendedSlugs;this.widget={page:{$title:$(".portfolio-title")},container:{defaults:{wrapper:".side-portfolio-wrapper",innerUnit:".inner-unit",sidePortfolio:"#side_portfolio",portfolioMain:".portfolio-main",enableSlugSelectionClass:"selectable"}}};this.init=function(opt){if(navigator.userAgent.indexOf("Chrome/56")>-1)$(".inner-unit").css("overflow-y","auto").css("overflow-x","hidden");opt=opt||{};_this.widget.container.$wrapper=
$(opt.containerWrapper?opt.containerWrapper:_this.widget.container.defaults.wrapper);_this.widget.container.$sidePortfolio=$(opt.container?opt.container:_this.widget.container.defaults.sidePortfolio);filtersContainer=opt.filtersContainer?$(opt.filtersContainer):$(".portfolio-filters");portfolioSelector=opt.port_selector?$(opt.port_selector):$("#portfolio_selector");addStockInput=opt.add_stock_inp?$(opt.add_stock_inp):$("#add_stock_inp");addStockBtn=opt.add_stock_btn?$(opt.add_stock_btn):$("#add_stock_btn");
pricesInterval=opt.prices_interval||2E4;portfolioUriName=opt.portfolio_name;portfolioId=opt.portfolioId;portfolioName=portfolioSelector.find(":selected").attr("title").trim();etfAlternativesRecommendations=opt.etf_alternatives_recommendations;doResize=typeof opt.doResize==="undefined"?true:opt.doResize;portfolioSideAd=opt.nativeAd;abTestPortfolioRedesign=opt.abTestPortfolioRedesign;$selectorContainer=$(".portfolio-selector-section");$("#portfolio_delete_btn").html(JST["jst/portfolio/delete_btn"]());
if(etfAlternativesRecommendations)etfAlternativesSlugs=$.map($(etfAlternativesRecommendations),function(el){return el.slug});PortfolioModel=new SA.Models.PortfolioModel;SymbolData=SA.Utils.SymbolData;if(doResize)Resize=new SA.Pages.Feeds.Modules.Portfolio.Resize(_this.widget.container.defaults,_this.widget.container.$wrapper);if(opt.portfolio_name&&opt.slugs&&opt.tag_ids&&opt.tag_company_names){PortfolioModel.createPortfolioOfSlugsTags(opt.portfolio_name,opt.slugs.split(","),opt.tag_ids.split(","));
fullNames=opt.tag_company_names}if(opt.recommended_tickers)SA.Widgets.TickerRecommendations.init({tickers:opt.recommended_tickers,marketDay:opt.market_day,portfolioModel:PortfolioModel,companyNames:opt.tag_company_names,portfolioId:portfolioId});initEvents();bindEditButtons();SA.Utils.AbTests.init({"Portfolio Sort Default":initPortfolioSortTest});if(opt.market_day==="true")setInterval(updateAllPrices,pricesInterval)};function startPortfolio(){fillWithStocks();initEtfAlternativesUnit()}function initPortfolioSortTest(variation){if(SA.Data.Cookies.get("portfolio_sort_type")==
null)if(variation==="gainers_losers")SA.Data.Cookies.set("portfolio_sort_type","gainers-losers");else if(variation==="gainers")SA.Data.Cookies.set("portfolio_sort_type","gainers");else SA.Data.Cookies.set("portfolio_sort_type","a-z");SA.Utils.PortfolioSort.init(_this.isCustomSortAbTest);$(".svg-sa-loader").remove();$("#side_portfolio, #portfolio_unit").removeClass("hidden");startPortfolio()}function updateCustomSort(event,ui){_this.customSortUpdated=true;_this.currentSortOption="custom";if($(".tooltipstered").length)$("#portfolio_edit_large_btn").tooltipster("destroy");
SA.Utils.PortfolioSort.updateCustomSort()}function initEvents(){if(portfolioType==="left_rail"){$sidePortfolio=$("#side_portfolio");if(_this.isCustomSortAbTest){$sidePortfolio.sortable({axis:"y",containment:".draggable-container",zIndex:9999,update:updateCustomSort});$sidePortfolio.sortable("disable")}}new SA.Utils.Autocomplete(addStockInput,{authors:false,symbols:true,symbolSelectCallback:_this.addSymbolToInput,multiple:true,onBeforeShowAutoComplete:hideAlertsPopup});portfolioSelector.on("focus",
function(){portfolioSelector.data("previous",this.value)}).on("change",function(){_this.changePortfolio(this.value)});_this.widget.container.$wrapper.on("click",_this.widget.container.defaults.sidePortfolio+".selectable li .left a",function(e){e.stopPropagation()}).on("click",_this.widget.container.defaults.sidePortfolio+" li:not(.selected)",function(){if(!_this.deletedSlug)_this.filters.add($(this))}).on("click","li.selected",function(){_this.filters.remove(_this.filters.actions.remove,[$(this).data("name")],
true)}).on(_this.filters.actions.clearTickers.event,_this.filters.clearTickers);filtersContainer.on("click",".ticker a",function(e){e.preventDefault();_this.filters.remove(_this.filters.actions.removeTop,[$(this).parent().data("name")],true)});if(doResize)$(window).bind("resize scroll",Resize.resize).ready(function(){_this.widget.container.$wrapper.removeClass("hide");Resize.resize()});$("#portfolio_unit").on("click",".inner-unit .del-btn",function(event){_this.deletedSlug=$(event.target).closest("li").find("a").text();
var wasAlert=SA.Data.User.getRTASymbols().indexOf(_this.deletedSlug)!==-1;SA.Logger.Mone.event(portfolioType,"portfolio_unit","ticker_removed",{data:{"symbol":_this.deletedSlug,"alerts":wasAlert,"portfolio_id":portfolioId}});PortfolioModel.removeSymbol($(this).data("id"),_this.deletedSlug,_this.stockRemoved)});$(".add-stock form").on("submit",function(){SA.Utils.SidePortfolio.addStockToPortfolio();return false});initDeletePopupEvents()}function updateAllPrices(){var slugs=SA.Data.User.portfolioTickers();
slugs=slugs.concat(etfAlternativesSlugs);SymbolData.removeAllScripts();if(slugs.length)addPrices(slugs)}this.addStockToPortfolio=function(){addSlugs=addStockInput.val();if(addSlugs){_this.hideAutoComplete();addStockDisable(true);PortfolioModel.addSymbols({symbols:addSlugs,oncomplete:_this.stocksAdded,onfailed:_this.problemsEvent,alerts:addedAlerts});clearStockInput();if(_this.isCustomSortAbTest)addStockCustomSortAbTest()}};function addStockCustomSortAbTest(slug){var stockToAdd=slug||addSlugs.toLowerCase();
SA.Utils.PortfolioSort.getCustomSort(function(data){data=data[0];if(data&&data.custom_sort.length){var newData=[stockToAdd,data.custom_sort].join(","),callback=function(data){SA.Utils.PortfolioSort.sortElements(data.custom_sort.split(","))};SA.Utils.PortfolioSort.updateCustomSort(newData,callback)}})}this.addStockCustomSortAbTest=addStockCustomSortAbTest;this.addFundMatchTicker=function(ticker){addStockDisable(true);PortfolioModel.addSymbols({symbols:ticker,oncomplete:_this.fundMatchAdded,onfailed:_this.problemsEvent,
alerts:addedAlerts})};var clearStockInput=function(){addStockInput.data("current",null)};var getSymbolString=function(symbolArray){return $.map(symbolArray,function(obj){return obj.slug}).join(",")};var getSymbolId=function(symbolArray){return $.map(symbolArray,function(obj){return obj.tag}).join(",")};this.hideAutoComplete=function(){$("#add_stock_inp_sa_autocomplete").hide()};this.stocksAdded=function(response){var diff=PortfolioModel.getDiff();SA.Utils.SidePortfolio.updatePortfolioElements(diff);
addStockDisable(false);if(diff.added.length){var from_rec=response.from_rec?"yes":"no";$.each(diff.added,function(index,ticker){SA.Logger.Mone.event(portfolioType,"portfolio_unit","ticker_added",{data:{"symbol":ticker.slug,"alerts":false,"portfolio_id":portfolioId,"recommended_ticker":from_rec}})});SA.Utils.SidePortfolio.showAlertsPopup(diff.added,from_rec);if(SA.Pages){if(SA.Pages.PortfolioFeeds)updatePortfolioFeeds();if(SA.Pages.PortfolioCalendar)updatePortfolioCalendar(diff)}if($(".rec-unit").length){$.each(diff.added,
function(i,ticker){var $RecEl=$("#rec_slug_"+ticker.slug);if($RecEl.length)$RecEl.remove()});if(!$(".rec-tickers>li").length)$(".rec-unit").remove()}}addStockInput.val("").focus();if(_this.editMode)$(".drag-element").addClass("shown")};this.fundMatchAdded=function(response,options){var ticker=options.symbols;var diff=PortfolioModel.getDiff();var ticker_id=getSymbolId(diff.added);SA.Utils.SidePortfolio.updatePortfolioElements(diff);addStockDisable(false);$portfolioSideAdLi.remove();SA.Logger.Mone.event("fundmatch_card_unit",
"fundmatch_card_portfolio_page","ticker_added_to_portfolio_with_alerts",{data:{User_id:userId,ticker:ticker}});showFundMatchAlertsPopup({slug:ticker,id:ticker_id});if(SA.Pages){if(SA.Pages.PortfolioFeeds)updatePortfolioFeeds();if(SA.Pages.PortfolioCalendar)updatePortfolioCalendar(diff)}};this.etfAlternativesStockAdded=function(){var diff=PortfolioModel.getDiff();if(diff.added.length){updatePortfolioElements(diff);if(SA.Pages.PortfolioFeeds)updatePortfolioFeeds();if(SA.Pages.PortfolioCalendar)updatePortfolioCalendar(diff);
if(diff.added[0].slug){etfAlternativesSlugs.splice($.inArray(diff.added[0].slug,etfAlternativesSlugs),1);var loaderElem=["<div><strong>",diff.added[0].slug.toUpperCase(),"</strong> has been added to your portfolio</div>","<div>Fetching new recommendation...</div>"];var nrLoader=$("#next_recommendation_loader");nrLoader.html(loaderElem.join(""));var onCompleteHide=function(){var innerMessageElem=["<div class='etf_alt_stock_added'><strong>",diff.added[0].slug.toUpperCase(),"</strong> has been added to your portfolio.</div>"];
$("#"+etfAlternativesSlugPrefix+diff.added[0].slug).html(innerMessageElem.join(""));_this.getNextRecommendation(diff.added[0].slug)};changeRecommendationsScreen(nrLoader,$("#recommendations_container"),onCompleteHide)}}};this.updatePortfolioElements=function(diff){var priceSlugs=[];var cName;$.each(diff.added,function(q,cq){priceSlugs.push(cq.slug);cName=SA.Utils.Search.findSymbols(cq.slug,{limit:1});var newElm=$(buildStockElm(cq.slug,cName[0]?cName[0].desc:"",cq.tag));insertElement(newElm)});if(priceSlugs.length)addPrices(priceSlugs,
true)};function updatePortfolioFeeds(){if($("#portfolio-feed-list").length>0)SA.Pages.PortfolioFeeds.slugsChanged(PortfolioModel.getSlugs().join(","));else SA.Pages.Feeds.Cards.reload("page_reloaded")}function updatePortfolioCalendar(diff){SA.Pages.PortfolioCalendar.addTicker(diff.added)}this.showAlertsPopup=function(tickers,from_rec){from_rec=from_rec||"no";var messages=buildPopupMessages(tickers);alertsPopup=$(JST["jst/portfolio/ticker_alert"]({title:messages.title,message:messages.message}));addStockInput.parent().append(alertsPopup);
alertPopupEvents(from_rec);$(document).one("mouseup",function(e){if(alertsPopup&&!alertsPopup.is(e.target)&&alertsPopup.has(e.target).length===0)hideAlertsPopup()})};function hideAlertsPopup(){if(alertsPopup){alertsPopup.hide();alertsPopup=null}}function buildPopupMessages(tickers){var messages={one:{title:"{ticker} added to portfolio",message:"You will also get alerts on {ticker}"},many:{title:"Stocks added to portfolio",message:"You will also get alerts on these stocks."}};if(tickers.length>1)return messages.many;
else return{title:messages.one.title.replace(/\{ticker\}/g,tickers[0].slug.toUpperCase()),message:messages.one.message.replace(/\{ticker\}/g,tickers[0].slug.toUpperCase())}}function showFundMatchAlertsPopup(ticker){if(alertsPopup)alertsPopup.hide();var fundMatchAlertsPopup=$(JST["jst/portfolio/ticker_alert"]({title:ticker.slug.toUpperCase()+" added to portfolio",message:"You will also get alerts on "+ticker.slug.toUpperCase()}));addStockInput.parent().append(fundMatchAlertsPopup);fundmatchAlertPopupEvent(fundMatchAlertsPopup,
ticker);$(document).one("mouseup",function(e){if(!fundMatchAlertsPopup.is(e.target)&&fundMatchAlertsPopup.has(e.target).length===0)fundMatchAlertsPopup.hide()})}function fundmatchAlertPopupEvent(popup,ticker){popup.on("click",".without-alerts",function(){SA.Models.SubscriptionModel.unsubscribe({tagIds:ticker.id,modes:addedAlerts});SA.Logger.Mone.event("fundmatch_card_unit","fundmatch_card_portfolio_page","rta_not_added",{data:{User_id:userId,ticker:ticker.slug}});popup.hide()});popup.on("click",".close-alerts",
function(){popup.hide()})}function alertPopupEvents(from_rec){from_rec=from_rec||"no";var diff=PortfolioModel.getDiff();if(portfolioType==="left_rail")SA.Logger.Mone.event("get_alerts_tooltip","portfolio_unit","shown");alertsPopup.find(".without-alerts").click(function(){SA.Models.SubscriptionModel.unsubscribe({tagIds:getSymbolId(diff.added),modes:addedAlerts});if(addSlugs)SA.Logger.Mone.event("get_alerts_tooltip",portfolioUnit,"without_alerts",{data:{"symbol":getSymbolString(diff.added),"stocks":addSlugs.split(",").length,
"recommended_ticker":from_rec}});alertsPopup.hide();addStockInput.focus()});alertsPopup.find(".close-alerts").click(function(){if(addSlugs)SA.Logger.Mone.event("get_alerts_tooltip",portfolioUnit,"clicked_ok",{data:{"symbol":getSymbolString(diff.added),"stocks":addSlugs.split(",").length,"recommended_ticker":from_rec}});alertsPopup.hide();addStockInput.focus()})}this.stockRemoved=function(){var diff=PortfolioModel.getDiff();var slug;for(var q in diff.removed){slug=diff.removed[q];$("#"+slugPrefix+
slug.replace(/\./gi,"_")).remove()}if(SA.Pages){if(SA.Pages.PortfolioFeeds)updatePortfolioFeeds();if(SA.Pages.PortfolioCalendar)SA.Pages.PortfolioCalendar.remTicker(diff.removed)}_this.deletedSlug=null};this.alertsAdded=function(){alertsPopup.find(".loader").hide();alertsPopup.hide()};this.problemsEvent=function(){addStockDisable(false)};this.changePortfolio=function(val){if(val==="new"){portfolioSelector.val(portfolioSelector.data("previous"));SA.Logger.Mone.event("left_rail","portfolio_unit","portfolio_added");
document.location="/account/create_portfolio"}else if(val==="all_holdings")document.location="/account/portfolio/holdings?pu=all_holdings";else if($leftRailPortfolio.length){var portfolioElem=$leftRailPortfolio.find(".sticky-wrapper"),styles={wrapper:portfolioElem.attr("style"),mainPortfolio:portfolioElem.find(".side-portfolio-wrapper.portfolio-main").attr("style")};portfolioElem.remove();SA.Widgets.RailPortfolio.showPortfolio(window.leftRailPortfolioVariation,val,styles)}else{SA.Data.Cache.set(CURRENT_PORTFOLIO,
val);document.location="?pu="+val}};this.addSymbolToInput=function(slug){var inputValues=addStockInput.val().split(",");if(inputValues.length>1){inputValues.pop();addStockInput.val(inputValues.join(",")+","+slug)}else addStockInput.val(slug);SA.Utils.SidePortfolio.addStockToPortfolio()};this.getModel=function(){return PortfolioModel};this.attachCompanyName=function(key,result){$("#"+slugPrefix+key.replace(/\./gi,"_")).find(".title-ticker").html(result[0].desc)};this.attachCurrentPrice=function(slug,
quote,slugPrefix){var slugElm=$("#"+slugPrefix+slug.replace(/\./gi,"_"));if(slugElm.length&&quote.Last!=slugElm.find(".price").data("last-price")){var slugElm=$("#"+slugPrefix+slug.replace(/\./gi,"_"));var pClass;var $price=slugElm.find(".price");slugElm.attr({price:quote.Last,change:quote.PercentChange,volume:quote.Volume});if($price.data("last-price")&&portfolioType==="portfolio_page"){pClass=parseFloat(quote.Last)>parseFloat(slugElm.find(".price").data("last-price"))?"up":"down";slugElm.find(".price").addClass(pClass);
setTimeout(function(){slugElm.find(".price").removeClass(pClass)},5E3)}var priceOpt={prefix:"$"};var changeOpt={};var percentageOpt={decimals:1,suffix:"%"};var qClass=quote.PercentChange>0?"up":quote.PercentChange==0?"zero":"down";if(abTestPortfolioRedesign){priceOpt.limit=6;changeOpt={limit:5};percentageOpt.limit=6}else{percentageOpt.prefix="(";percentageOpt.suffix=")";var widthLimit=$(".portfolio").length?PORTFOLIO_PAGE_WIDTH_LIMIT:RAIL_WIDTH_LIMIT;if(slugElm.find(".right").width()<widthLimit)addGraph(slug,
qClass)}$price.html(formatter.number(quote.Last,priceOpt)).data("last-price",quote.Last);slugElm.find(".change").html(formatter.number(quote.Change,changeOpt));slugElm.find(".percentage").html(formatter.number(quote.PercentChange,percentageOpt));slugElm.find(".change, .percentage").removeClass("up down").addClass(qClass)}};this.getNextRecommendation=function(replaced_slug){$.get("/account/ajax_get_next_recommendation",{current_recommendations:etfAlternativesSlugs}).done(function(data){if(data["slug"]){var existingRecommentadionElement=
$("#"+etfAlternativesSlugPrefix+data["slug"].replace(/\./gi,"_"));if(existingRecommentadionElement.length)existingRecommentadionElement.remove();else{var replacedSlugElement=$("#"+etfAlternativesSlugPrefix+replaced_slug.replace(/\./gi,"_"));replacedSlugElement.remove()}etfAlternativesSlugs.push(data["slug"]);var description=data["full_name"];var title=data["slug"];addEtfAlternativeElm(data["slug"],title,description);updateAllPrices();var recommendationsPreviewTickers=$("#portfolio_etf_alternatives_unit_container").find("[data-behavior='recommended_ticker_info']");
if(recommendationsPreviewTickers.length){var viewedRecommendations=[];$("#portfolio_etf_alternatives_unit").find("li").each(function(){var splitIdArr=this.id.split("_");viewedRecommendations.push(splitIdArr[splitIdArr.length-1])});recommendationsPreviewTickers[0].innerHTML=viewedRecommendations[0].toUpperCase();recommendationsPreviewTickers[1].innerHTML=viewedRecommendations[1].toUpperCase()}setTimeout(function(){changeRecommendationsScreen($("#recommendations_container"),$("#next_recommendation_loader"))},
RECOMMENDATIONS_ACTIONS_WAIT_TIME)}else setTimeout(function(){changeRecommendationsScreen($("#recommendations_container"),$("#next_recommendation_loader"))},RECOMMENDATIONS_ACTIONS_WAIT_TIME)}).fail(function(){setTimeout(function(){changeRecommendationsScreen($("#recommendations_container"),$("#next_recommendation_loader"))},RECOMMENDATIONS_ACTIONS_WAIT_TIME)})};function changeRecommendationsScreen(showScreen,hideScreen,onCompleteHide){$(hideScreen).fadeOut("slow",function(){if(onCompleteHide&&typeof onCompleteHide===
"function")onCompleteHide();$(showScreen).fadeIn("slow")})}function addStockDisable(disable){addStockInput.prop("disabled",disable);addStockBtn.prop("disabled",disable)}function fillWithStocks(){var portfolio=PortfolioModel.getPortfolio();if(portfolio.stocksLength===0)return;var slugs=Object.keys(portfolio.stocks);for(var i in slugs){var slug=slugs[i];var newElm=$(buildStockElm(slug,fullNames[slug],portfolio.stocks[slug]));_this.widget.container.$sidePortfolio.append(newElm)}if(SA.Utils.PortfolioSort.isAlphabeticalSort())SA.Utils.PortfolioSort.sort();
if(doResize)Resize.resize();$.each(etfAlternativesSlugs,function(){slugs.push(this)});if(slugs.length)addPrices(slugs,true)}this.insertPortfolioAd=function(slugs){insertPortfolioAd(slugs)};function insertPortfolioAd(slugs){if(!isProUser&&portfolioSideAd){var insertAdSelector="ul#side_portfolio > li:nth-child("+Math.min(4,slugs.length)+")";$(insertAdSelector).after('<li id="portfolio_side_ad"></li>');$portfolioSideAdLi=$("#portfolio_side_ad");SA.Ads.defineAds(portfolioSideAd)}}function initEtfAlternativesUnit(){var action=
"hidden";if(etfAlternativesSlugs.length){fillEtfAlternatives();action="shown"}SA.Logger.Mone.event("etf_alt_portfolio_page","portfolio_etf_alt_unit",action,{data:{user_id:userId}})}function fillEtfAlternatives(){var title,description;$.each(etfAlternativesSlugs,function(){description=fullNames[this];title=this;addEtfAlternativeElm(this,title,description)})}function addEtfAlternativeElm(slug,title,description){var newElm=$(buildEtfAlternativeElm(slug,title,description));etfAlternativesContainer.append(newElm);
newElm.find('[data-behavior="add-ticker"]').click(function(){var addTickerOptions={"portfolioModel":PortfolioModel,"onCompleteAddToPortfolio":_this.etfAlternativesStockAdded,"slugs":PortfolioModel.getSlugs().join(",")};SA.Widgets.AddTickerByClick(slug,"etf_alt_portfolio_page",addTickerOptions)})}function buildEtfAlternativeElm(slug,title,description){return JST["jst/portfolio/etf_alternative_slug"]({slug:slug,title:title,description:description})}function bindEditButtons(){var divButtons=$("#side_portfolio_edit_btn");
if(divButtons.find(".rename, .delete, .edit, .done").length===4){divButtons.find(".rename").click(showRename);divButtons.find(".delete").click(showDelete);divButtons.find(".edit").click(showEdit);divButtons.find(".done").click(doneEdit)}if(abTestPortfolioRedesign){$("#portfolio_edit_large_btn").click(showEdit);$("#portfolio_save_large_btn").click(doneEdit);$("#portfolio_delete_btn").click(showDelete)}}function insertElement(newElm){var elms=_this.widget.container.$sidePortfolio.children();var pos=
0;if(elms.length>0)while(elms[pos]&&newElm.attr("id")>$(elms[pos]).attr("id"))pos++;if(pos===elms.length)_this.widget.container.$sidePortfolio.append(newElm);else newElm.insertBefore(elms[pos])}function addGraph(slug,change){var id="mini-chart-"+slug;var src=["http://seekingalpha.com/quotetools/getChart","?chscale=1d&webmasterId=102684&chdon=off&chton=off&snap=false&chtype=line&chwid=34&chhig=40&chmrg=0&chfrmon=off&chton=off&chcon=off&chfnts=0&chbgch=pink&chpcon=on","&chln=",change==="up"?"27ae61":
"ff5f4f","&chgrdon=off&chbdron=off&chpccol=dedede&chln=6&Width=34&Height=40&chbg=pink&chxyc=pink&symbol=",slug.toLowerCase()].join("");var img=$(_this.widget.container.defaults.sidePortfolio+" img#"+id);if(img.length)preloadSource(img,src);else{img='<img id="'+id+'" class="mini-chart" src="'+src+'">';$(_this.widget.container.defaults.sidePortfolio+" #sp_slug_"+slug+" .price-changes").after(img)}}function preloadSource($img,src){var img=new Image;img.onload=function(){$img.attr("src",src)};img.src=
src}function addPrices(slugs,shouldSort){SymbolData.getFromSuperQuotes(slugs,function(quotes){$.map(quotes,function(cq,q){_this.attachCurrentPrice(q,cq,slugPrefix);if(etfAlternativesSlugs.indexOf(q)>-1)_this.attachCurrentPrice(q,cq,etfAlternativesSlugPrefix)});if(shouldSort&&!SA.Utils.PortfolioSort.isAlphabeticalSort())SA.Utils.PortfolioSort.sort()})}function buildStockElm(slug,title,tagId){return JST["jst/portfolio/side_slug"]({slug:slug,title:title,tag_id:tagId,dragEl:JST["jst/portfolio/drag"]()})}
function showRename(){if(!renamePopup){renamePopup=$(getRenamePopUp(portfolioName));$("#side_portfolio_edit_btn").append(renamePopup);renamePopupEvents()}renamePopup.show();$(document).one("mouseup",function(e){if(!renamePopup.is(e.target)&&renamePopup.has(e.target).length===0)renamePopup.hide()})}function getRenamePopUp(p_name){return JST["jst/portfolio/rename_popup"]({p_name:p_name})}function renamePopupEvents(){renamePopup.find("#p_name_pop").load($("#p_name_pop").select());renamePopup.find(".get-alerts").click(function(){PortfolioModel.renamePortfolio($("#p_name_pop").val(),
portfolioUriName,_this.portfolioRenamed);if($("#p_name_error").text()===" ")renamePopup.find(".loader").show()});renamePopup.find(".no-thanks").click(function(){renamePopup.hide()})}this.portfolioRenamed=function(){if(abTestPortfolioRedesign){var newName=$("#portfolio_name").val();var $selected=$('#portfolio_selector [selected="selected"]');$selected.html(newName).attr("title",newName);portfolioName=newName}else{var newName=$("#p_name_pop").val();portfolioSelector.find(":selected").text(ellipsePortfolioName(newName,
43)).attr("title",newName);portfolioName=newName;renamePopup.hide()}};function showDelete(){var popoverConfig={placement:"bottom",trigger:"manual",html:true,template:'<div class="popover delete-portfolio-popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>',content:getDeletePopUp(portfolioName,portfolioUriName)};$selectorContainer.popover(popoverConfig);$selectorContainer.popover("show")}function showEditCustomSortAbTest(){_this.customSortUpdated=
false;_this.currentSortOption=SA.Utils.PortfolioSort.getSortOption();SA.Utils.PortfolioSort.setSortOption("custom");SA.Utils.PortfolioSort.getCustomSort(function(data){data=data[0];if(data&&data.custom_sort.length)SA.Utils.PortfolioSort.sortElements(data.custom_sort.split(","))});if(portfolioType==="left_rail"){$(".drag-element").addClass("shown");$sidePortfolio.sortable("enable")}}function showEdit(){if(_this.isCustomSortAbTest)showEditCustomSortAbTest();_this.editMode=true;$sidePortfolio=$("#side_portfolio");
if($sidePortfolio&&$sidePortfolio.length){if($sidePortfolio.hasClass("selectable"))$sidePortfolio.data("selectable","true").removeClass("selectable");if($portfolioSideAdLi)$portfolioSideAdLi.hide();$("#portfolio_unit").addClass("editable");$("#side_portfolio_edit_btn").removeClass("off").addClass("on");if(abTestPortfolioRedesign){$("#portfolio_edit_large_btn, #portfolio_sort, #portfolio_selector").addClass("hidden");$("#portfolio_save_large_btn, #portfolio_delete_btn, #portfolio_name").removeClass("hidden");
$("#portfolio_name").val($('#portfolio_selector [selected="selected"]').html())}}}function doneEditCustomSortAbTest(){SA.Utils.PortfolioSort.setSortOption(_this.currentSortOption);SA.Utils.PortfolioSort.sortPortfolio();if(portfolioType==="left_rail"){$(".drag-element").removeClass("shown");$sidePortfolio.sortable("disable")}}function doneEdit(){if(_this.isCustomSortAbTest)doneEditCustomSortAbTest();_this.editMode=false;$sidePortfolio=$("#side_portfolio");if($sidePortfolio&&$sidePortfolio.length){if($sidePortfolio.data("selectable"))$sidePortfolio.addClass("selectable");
if($portfolioSideAdLi)$portfolioSideAdLi.show();$("#portfolio_unit").removeClass("editable");$("#side_portfolio_edit_btn").removeClass("on").addClass("off");if(abTestPortfolioRedesign){$("#portfolio_edit_large_btn, #portfolio_sort, #portfolio_selector").removeClass("hidden");$("#portfolio_save_large_btn, #portfolio_delete_btn, #portfolio_name").addClass("hidden");$(".portfolio-selector-section").removeClass("editable");var $portfolioName=$("#portfolio_name");var $portfolioSelected=$('#portfolio_selector [selected="selected"]');
if($portfolioName.val()!=$portfolioSelected.html())PortfolioModel.renamePortfolio($portfolioName.val(),$portfolioSelected.val(),_this.portfolioRenamed)}}}function getDeletePopUp(p_name){return JST["jst/portfolio/delete_popup"]({p_name:p_name})}function initDeletePopupEvents(){$(document).on("click","#delete-portfolio",function(){if(portfolioType==="left_rail")SA.Logger.Mone.event(portfolioType,"portfolio_unit","portfolio_removed",{data:{"portfolio_id":portfolioId}});else SA.Logger.Mone.event(portfolioType,
"portfolio_unit","removed",{data:{"portfolio_id":portfolioId}});PortfolioModel.deletePortfolio(portfolioUriName,_this.portfolioDeleted)});$(document).on("click","#delete-no-thanks",function(){SA.Logger.Mone.event("portfolio_page","portfolio_unit_remove","cancel",{data:{"portfolio_id":portfolioId}});$selectorContainer.popover("hide")})}this.portfolioDeleted=function(){$selectorContainer.popover("hide");document.location.reload()};this.filters={actions:{add:{event:"portfolioTickerAdd",bi:{source:"my_feed_portfolio_unit",
action:"filter_on"}},replace:{event:"portfolioTickerReplace",bi:{source:"my_feed_portfolio_unit",action:"filter_off"}},remove:{event:"portfolioTickerRemove",bi:{source:"my_feed_portfolio_unit",action:"filter_off"}},removeTop:{event:"portfolioTickerRemove",bi:{source:"my_feed_top",action:"filter_off"}},clearTickers:{event:"clearPortfolioTickers"}},enableSlugsSelection:function(){$(_this.widget.container.defaults.sidePortfolio).addClass(_this.widget.container.defaults.enableSlugSelectionClass)},add:function($ticker,
allowMultipleSelection){if($(_this.widget.container.defaults.sidePortfolio).hasClass(_this.widget.container.defaults.enableSlugSelectionClass)){var slug=$ticker.data("name");if(!allowMultipleSelection&&filtersContainer.data("slugs")){var slugToRemove;if(filtersContainer.data("slugs").indexOf(slug)>-1)slugToRemove=slug;else if(filtersContainer.data("slugs"))slugToRemove=filtersContainer.data("slugs").split(";")[0];if(slugToRemove)this.remove(this.actions.remove,[slugToRemove],false)}if(allowMultipleSelection||
!filtersContainer.data("slugs")){filtersContainer.data("slugs",slug+";");$ticker.addClass("selected");_this.widget.page.$title.addClass("hide");filtersContainer.append('<div class="ticker '+slug+'" data-name="'+slug+'">'+slug+'<a href="#"></a></div>').removeClass("hide");_this.widget.container.$sidePortfolio.find(".updates-notification").remove();this.trigger(this.actions.add);this.log(this.actions.add,[slug])}}},remove:function(action,tickers,triggerEvent){if($(_this.widget.container.defaults.sidePortfolio).hasClass(_this.widget.container.defaults.enableSlugSelectionClass))if(tickers){var index;
for(index=0;index<tickers.length;index++){var ticker=tickers[index];if(filtersContainer.data("slugs").indexOf(ticker)>-1){filtersContainer.data("slugs",filtersContainer.data("slugs").replace(ticker+";",""));_this.widget.container.$sidePortfolio.find("#sp_slug_"+ticker).removeClass("selected");filtersContainer.find(".ticker."+ticker).remove()}}if(index&&triggerEvent)this.trigger(action);if(!filtersContainer.data("slugs")){_this.widget.page.$title.removeClass("hide");filtersContainer.addClass("hide")}this.log(action,
tickers)}},clearTickers:function(){if($(_this.widget.container.defaults.sidePortfolio).hasClass(_this.widget.container.defaults.enableSlugSelectionClass)){var tickers=[];_this.widget.container.$wrapper.find(_this.widget.container.defaults.sidePortfolio+" li.selected").each(function(){tickers.push($(this).data("name"))});if(tickers.length)_this.filters.remove(this.actions.remove,tickers,true)}},trigger:function(action){if($(_this.widget.container.defaults.sidePortfolio).hasClass(_this.widget.container.defaults.enableSlugSelectionClass))if(action){var slugs=
filtersContainer.data("slugs").replace(/sp_slug_/i,"").split(";");slugs=slugs.filter(function(n){return n!=""});filtersContainer.trigger(action.event,[slugs]);$(window).scrollTop(0)}},log:function(action,slugs){SA.Logger.Mone.event("portfolio_page",action.bi.source,action.bi.action,{data:{"filter":"symbol","symbol":slugs.join(",")}})}}};function ellipsePortfolioName(text,maxLength){return text&&text.length>maxLength?text.substr(0,maxLength-3)+"...":text}})(window,window.SA,window.jQuery);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/recommendation_card"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<li data-name="',slug,'" id="rec_slug_',slug.replace(/\./gi,"_"),'" data-event="false">\n  <div class="card-info">\n      <a class=\'symb-link\' href="/symbol/',slug,'">',slug.toUpperCase(),'</a>\n      <div class="price">-</div>\n      <div class="change"></div>\n      <div class=\'plus\'>',plusBtn,'</div>\n      <div class="clearfix"></div>\n  </div>\n  <div class="card-actions hidden" data-slug="',
slug,"\">\n    <a class='symb-link' href=\"/symbol/",slug,'" title="',title,'">',slug.toUpperCase(),'</a>\n    <div class="not-int">Not interested</div>\n    <div class="add-btn">Add</div>\n    <div class="clearfix"></div>\n  </div>\n</li>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/recommendation_unit"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("<div class='rec-unit'>\n  <div class='title'>Similar Investors Follow:</div>\n  <ul class='rec-tickers'>\n    ");for(var i=0,len=cards.length;i<len;i++)__p.push("\n      ",cards[i],"\n    ");__p.push("\n  </ul>\n</div>\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/portfolio/plus_button"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="20px" height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n<circle fill="none" stroke="#FF7200" stroke-miterlimit="10" cx="10.326" cy="9.515" r="7.5"/>\n<g>\n\t<path fill="#FF7200" d="M11.033,5.46v3.27h3.135v1.41h-3.135v3.3h-1.47v-3.3H6.429V8.73h3.135V5.46H11.033z"/>\n</g>\n</svg>\n');
return __p.join("")}}).call(this);
(function(SA,$){var scope=SA.UsingNamespace("SA.Widgets.TickerRecommendations");var options,portfolioModel;function getDefaultOpt(){return{tickers:{},slugs:[],marketDay:false,user:SA.Data.User.id(),companyNames:{}}}function sendEvent(slug,action,extraData){extraData=extraData||{};var data=$.extend(extraData,options.tickers[slug],{user_id:options.user,unit_id:options.randId});SA.Logger.Mone.event("jaccard_similarity","ticker_recommendations",action,{data:data})}function onAddTickerFail(response,options){var slug=
options.symbols;sendEvent(slug,"add_ticker",{status:"failure"});$("#rec_slug_"+slug).remove()}function onAddTickerSuccess(response,opts){response=response||{};response.from_rec=true;SA.Utils.SidePortfolio.stocksAdded(response);var slug=opts.symbols;sendEvent(slug,"add_ticker",{status:"success"});if(SA.Utils.SidePortfolio.isCustomSortAbTest)SA.Utils.SidePortfolio.addStockCustomSortAbTest(slug)}function addTicker(){var slug=$(this).parent().data("slug");portfolioModel.addSymbols({symbols:slug,oncomplete:onAddTickerSuccess,
onfailed:onAddTickerFail,alerts:"rta_market_currents,rta_articles"})}function onAfterDismissTicker(slug){sendEvent(slug,"dismiss_ticker");$("#rec_slug_"+slug).remove();if(!$(".rec-tickers>li").length)$(".rec-unit").remove()}function notInterested(){var slug=$(this).parent().data("slug");var ticker_id=options.tickers[slug]["ticker_id"];$.ajax({dataType:"json",method:"GET",url:"/account/dismiss_recommendation",data:{ticker_id:ticker_id}}).always(function(){onAfterDismissTicker(slug)})}function setTempCookie(){var slug=
$(this).parent().data("slug");var data=$.extend({},options.tickers[slug],{user_id:options.user,unit_id:options.randId});var oneMinute=60*1E3;SA.Data.Cookies.set("from_ticker_rec",JSON.stringify(data),{expires:oneMinute})}function initHoverEvents(){var $card=$(".card-actions");$card.on("click",".symb-link",setTempCookie);$card.on("click",".not-int",notInterested);$card.on("click",".add-btn",addTicker)}function sendShownEvents(tickers){$.each(tickers,function(){var $this=$(this);$this.attr("data-event",
"true");sendEvent($this.data("name"),"shown")})}function scrollShownEvents(){var $list=$("ul.rec-tickers");var $cards=$list.find('li[data-event="false"]');var $window=$(window);if($cards.length){var nCards=$cards.size();var listH=$list.outerHeight();var cardH=listH/nCards;var listO=$list.offset().top;var wH=$window.height();var wS=$window.scrollTop();var i=0;while(i<nCards){if(wS+wH>listO+listH-cardH*i){sendShownEvents($cards.slice(0,nCards-i));i=nCards}i++}}else{$window.off("scroll",scrollShownEvents);
$(".inner-unit").off("scroll",scrollShownEvents)}}function initScrollEvents(){$(window).bindWithDelay("scroll",scrollShownEvents,500,true);$(".inner-unit").bindWithDelay("scroll",scrollShownEvents,500,true)}function initHover(){$(".rec-tickers li").on("mouseover",function(){$(this).find(".card-info").addClass("hidden");$(this).find(".card-actions").removeClass("hidden")}).one("mouseover",function(){var slug=$(this).data("name");sendEvent(slug,"hovered");SA.Logger.Mone.event("recommended_ticker","left_rail",
"hover",{data:{"symbol":slug.toUpperCase(),"position":options.tickers[slug].position,"portfolio_id":12345}})});$(".rec-tickers li").on("mouseout",function(){$(this).find(".card-actions").addClass("hidden");$(this).find(".card-info").removeClass("hidden")});initHoverEvents()}function attachPrice(slug,quote){var slugElm=$("#rec_slug_"+slug.replace(/\./gi,"_"));var price="$"+quote.Last.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var change=quote.Change.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,
",");var qClass=quote.PercentChange>0?"up":quote.PercentChange==0?"zero":"down";slugElm.find(".price").html(price);slugElm.find(".change").html(change).removeClass("up down").addClass(qClass)}function addPrices(slugs){SA.Utils.SymbolData.getFromSuperQuotes(slugs,function(quotes){$.map(quotes,function(cq,q){attachPrice(q,cq)})})}function buildUnit(){var listEls=[];var plusBtn=JST["jst/portfolio/plus_button"]();if(options.slugs.length){$.each(options.slugs,function(i,slug){options.tickers[slug].position=
i+1;listEls.push(JST["jst/portfolio/recommendation_card"]({slug:slug,plusBtn:plusBtn,title:options.companyNames[slug]}))});$("#portfolio_unit>.inner-unit").append(JST["jst/portfolio/recommendation_unit"]({cards:listEls}))}}function initUnit(){buildUnit();addPrices(options.slugs);initHover();initScrollEvents()}scope.init=function(opt){if(SA.Data.User.isPro())return;options=$.extend({},getDefaultOpt(),opt);options.slugs=Object.keys(options.tickers);options.randId=Math.random().toFixed(5);portfolioModel=
options.portfolioModel||new SA.Models.PortfolioModel;initUnit()}})(SA,jQuery);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/social/feed_filters"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push('<div class="feed-filter">\n  <a href="#" class="feed-filter-drop-down"><span class="feed-filter-options"></span></a>\n  <ul class="feed-filter-menu hide">\n    <li>\n      <label class="default-option" title="Select all available options">',defaultValue,'</label>\n      <a href="#" class="feed-filter-drop-up"></a>\n    </li>\n    ');
subjectTypes.forEach(function(subjectType){__p.push('\n    <li>\n      <input id="opt_',subjectType,'" type="checkbox"\n        ',selectedSubjectTypes.indexOf(subjectType)===-1?"":' checked="checked"','\n             value="',subjectType,'"/>\n      <label for="opt_',subjectType,'">',subjectType,"</label>\n    </li>\n    ")});__p.push('\n  </ul>\n</div>\n<div class="feed-filter show-by-follow">\n  <input type="checkbox" id="show-by-follow"',showByFollow?' checked="checked"':"",'> <label for="show-by-follow">People I Follow</label>\n</div>\n')}return __p.join("")}}).call(this);
(function(SA,$){var scope=SA.UsingNamespace("SA.Widgets.Social");scope.CardTypeFilter=function(opt){if(!(this instanceof scope.CardTypeFilter))return new scope.CardTypeFilter(opt);opt=opt||{};var $container,$selectedOptionsContainer;var variables={data:{showByFollow:"show-by-follow",subjectTypes:"selected-options"},class:{menu:"feed-filter-menu",dropDown:"feed-filter-drop-down",dropUp:"feed-filter-drop-up"},triggeredEvent:"feedFilterChanged"};var previouslySelectedSubjectTypes=null;var prepareWidget=
function(){setValues();var selectedOptions=getCheckedOptions();save.subjectTypes(selectedOptions);setEvents()};var setValues=function(){var savedShowByFollow=opt.savedShowByFollow;var savedSubjectTypes=opt.savedSubjectTypes||opt.subjectTypes;$container=$(opt.container);$container.append(JST["jst/widgets/social/feed_filters"]({showByFollow:savedShowByFollow,defaultValue:opt.defaultValue,subjectTypes:opt.subjectTypes,selectedSubjectTypes:savedSubjectTypes.join(",")}));$selectedOptionsContainer=$container.find(".feed-filter-options");
previewSubjectTypes(savedSubjectTypes);previouslySelectedSubjectTypes=savedSubjectTypes};var previewSubjectTypes=function(options){if(options.length===opt.subjectTypes.length)$selectedOptionsContainer.html(opt.defaultValue);else if(options.length===0)$selectedOptionsContainer.html("None");else $selectedOptionsContainer.html(options.join(", "))};var setEvents=function(){$container.on("click","#show-by-follow",function(e){triggerFeedFilterShowByFollow(e)}).on("click","li label.default-option",function(e){triggerFeedFilterSubjectType(e,
true)}).on("click","li input[type=checkbox]",function(){triggerFeedFilterSubjectType()}).on("click","."+variables.class.dropDown,function(e){e.preventDefault();$container.find("ul").removeClass("hide")}).on("click","ul li ."+variables.class.dropUp,closeOptionsSelector);$("html").click(function(e){var $self=$(e.target);if(!($self.hasClass(variables.class.dropDown)||$self.parents("."+variables.class.dropDown).length)&&!($self.hasClass(variables.class.menu)||$self.parents("."+variables.class.menu).length)&&
!$container.find("."+variables.class.menu+".hide").length){previewSubjectTypes(previouslySelectedSubjectTypes);closeOptionsSelector()}})};var triggerFeedFilterShowByFollow=function(e){var checked=$(e.target).is(":checked");save.showByFollow(checked);triggerEvent();sendBiEvent.showByFollow(checked)};var triggerFeedFilterSubjectType=function(e,checkAll){var selectedOptions=getCheckedOptions(checkAll);if(checkAll){checkUncheckedOptions();if(selectedOptions.length===opt.subjectTypes.length)return;selectedOptions=
opt.subjectTypes;previewSubjectTypes(selectedOptions);closeOptionsSelector(e)}save.subjectTypes(selectedOptions);triggerEvent();sendBiEvent.subjectTypes(selectedOptions,checkAll)};var getCheckedOptions=function(){var checkedOptions=$container.find("li input[type=checkbox]:checked");var options=[];$.each(checkedOptions,function(){options.push($(this).val())});return options};var checkUncheckedOptions=function(){var checkedOptions=$container.find("li input[type=checkbox]:not(:checked)");$.each(checkedOptions,
function(){$(this).prop("checked","checked")})};var save={showByFollow:function(checked){$container.data(variables.data.showByFollow,checked)},subjectTypes:function(options){$container.data(variables.data.subjectTypes,options.join(","))}};var closeOptionsSelector=function(e){if(e)e.preventDefault();$container.find("ul").addClass("hide")};var triggerEvent=function(){var showByFollow=$container.data(variables.data.showByFollow),subjectTypes=$container.data(variables.data.subjectTypes).split(",");$container.trigger(variables.triggeredEvent,
[showByFollow,[subjectTypes]])};var sendBiEvent={showByFollow:function(showByFollow){var action=showByFollow?"filter_off":"filter_on",data={filter:"exclude_people_i_follow"};SA.Logger.Mone.event("portfolio_page","my_feed_top",action,{data:data})},subjectTypes:function(options,allChecked){var action,data={filter:"content_type",content_type:""};if(allChecked||options.length===opt.subjectTypes.length){action="filter_off";data.content_type=previouslySelectedSubjectTypes.join(",")}else{action="filter_on";
data.content_type=options.join(",")}SA.Logger.Mone.event("portfolio_page","my_feed_drop_down",action,{data:data});previouslySelectedSubjectTypes=options}};var init=function(){opt.defaultValue=opt.defaultValue||"All";if(opt.container&&opt.subjectTypes&&opt.subjectTypes.length)return prepareWidget();else SA.Exception.warning("CardTypeFilter: init error",{},opt)};SA.run(init,"card-type-filter")}})(SA,jQuery);
(function(w,doc,SA,$){var scope=SA.UsingNamespace("SA.Pages.Feeds.Cards");var feedCommon=SA.Pages.Feed.Common;var source,pollInterval,newLoadedCards=[],scrollPos=0,title,$cards,moneSource,loadMoreUrl,userId,moneType,container,filters,$newUpdatesWrapper,newUpdatesBtnSelector,$commentsObj,tickerFilter=[];scope.init=function(opt){if(opt.container){source=opt.source||"";filters=opt.filters;$newUpdatesWrapper=$(opt.newUpdatesWrapper||"#feed-updates-btn-wrapper");newUpdatesBtnSelector='.card-updates-btn[data-behavior="show-feed-updates"]';
moneSource=opt.viewName||"my_feed";moneType=source+"_page";loadMoreUrl=opt.loadMoreUrl||"/cards/more_cards";container=opt.container||".portfolio-main";userId=opt.userId||SA.Data.User.id();scope.widget.initialize(opt)}else SA.Exception.warning("Cards widget: missing params",{},opt)};scope.loadMore=function(time,moneAction,doneCallback,failCallback){var $moreLoader=$(".more-loader");feedCommon.dataManager.get(loadMoreUrl,filters.getFilterPerTime(time),function(data){feedCommon.dataHandler.cards.resetLoaded(time);
data.cards=feedCommon.dataHandler.cards.filterLoaded(data.cards);feedCommon.dataManager.post("/cards/extra_data",feedCommon.extraData.get.cardsAndCommentsIds(data.cards),function(extraData){data.cards=feedCommon.extraData.merge.cards(data.cards,extraData);feedCommon.dataHandler.comments.stash(data.cards);cardsRenderCallback(data,doneCallback)},function(){cardsRenderCallback(data,doneCallback)},function(){$moreLoader.addClass("hide").data("processing",false)})},function(){if(failCallback)failCallback();
$moreLoader.addClass("hide").data("processing",false)});var cardsRenderCallback=function(data,callback){if(callback)callback(data.cards);if(data.cards&&data.cards.length){biEventLoadCards(data.cards,moneAction,filters.getBiExtraData());biEventScrollComments()}else $moreLoader.data("no-more",true);if(data.start_activity_time){if(!pollInterval)startUpdatePolling();$newUpdatesWrapper.data("since",data.start_activity_time)}$moreLoader.data("time",data.time)}};var pushCards=function(cards,before){if(before)$cards.prepend(feedCommon.html.show.cards(cards,
{showBottomSection:true,sourcePage:source})).removeClass("hide");else $cards.append(feedCommon.html.show.cards(cards,{showBottomSection:true,sourcePage:source})).removeClass("hide");feedCommon.truncateHeadlines(cards);feedCommon.truncateComments($cards.find(".comment"));feedCommon.scrollToBottomOfComments(cards)};var showVideo=function(linkElement){SA.Utils.PageRefresher.setActive(false);var linkData=linkElement.data(),opt={className:"vdo-player",headerContent:linkData.title,bodyContent:JST["jst/widgets/video_player"]({width:535,
height:300,guid:linkData.guid,title:linkData.title}),keyboard:true,backdrop:true,showCloseBtn:true,showBody:true,showFooter:false,removeAfterClose:true,footerContent:linkData.description,afterClose:function(){SA.Utils.PageRefresher.setActive(true)}};SA.Widgets.Popup.build(opt).show()};scope.reload=function(moneAction){scope.loadMore(0,moneAction,function(cards){$(".cards .card").remove();if(cards&&cards.length){$(".empty-card").addClass("hide");pushCards(cards);feedCommon.linkify(".card[data-type=Card] .headline")}else $cards.append(feedCommon.html.show.noCards(source)).removeClass("hide");
if(source==="portfolio")SA.Pages.Feeds.Tour.init()},function(){$cards.append(feedCommon.html.show.noCards(source)).removeClass("hide")})};scope.widget={initialize:function(opt){this.prepare(opt);$commentsObj=SA.Pages.Feeds.Cards.Comments({source:source});SA.Pages.Feeds.Cards.Likes.init({source:source,container:container});SA.Pages.Feeds.Cards.Follow.init({source:source,container:container});SA.Pages.Feeds.Cards.Follow.updateFollowBtns();SA.Widgets.CardActionsPopup.init({source:source});if(opt.source===
"portfolio"){SA.Widgets.Social.CardTypeFilter(filters.options);SA.Utils.SidePortfolio.filters.enableSlugsSelection()}if(!opt.postponeLoad)$(doc).ready(function(){scope.reload("page_load")})},prepare:function(opt){$(container).append("<div class='feed-content'><div class='cards hide'></div><div class='more-loader' data-time='0'></div></div>");this.reset();title=doc.title;$newUpdatesWrapper.sticky({topSpacing:79});if(opt.postponeLoad)$(".more-loader").addClass("hidden");if(!opt.skipEvents)setEvents(opt.source)},
reload:function(opt){$(container).find(".feed-content").remove();this.prepare(opt);if(opt){loadMoreUrl=opt.action;tickerFilter=opt.tickerFilter;moneSource=opt.mone_source}scope.reload(opt.mone_action||"page_load")},reset:function(){$cards=$(".cards")}};var setEvents=function(source){var i,preventedDefaults=[".card .read-more",'.card a[href="#"]'];var eTypes=feedCommon.E_TYPES;for(i=0;i<eTypes.COMMENTABLE.length;i++)preventedDefaults.push('.card[data-type="'+eTypes.COMMENTABLE[i]+'"] .bottom .actions .action.comment-link a');
$(w).bindWithDelay("scroll",infinityScroll,200,true);$(w).on("scroll",showHideUpdateBtn);$(doc).on("click",preventedDefaults.join(","),function(e){if(!$(e.target).attr("external-comment"))e.preventDefault()}).on("click",".card .read-more",function(){var $this=$(this);var $card=$this.closest(".card");var type="social_feed";var data={"type":$card.data("type"),"id":$card.attr("id")};if($this.closest(".comment").length>0){type="social_feed_comment";data["comment_id"]=$this.closest(".comment").data("id")}SA.Logger.Mone.event(moneType,
type,"clicked_read_more",{data:data});return false}).on("cardActionTriggered",".card",function(){var $self=$(this),$closest=$self.find(".bottom");if($closest.find("span.hide").length===2)$closest.addClass("hide");else $closest.removeClass("hide")}).on("click",".card .content .headline .longer a.read-more",function(){var $headline=$(this).closest(".headline");$headline.find(".shorten").removeClass("shorten").removeAttr("style");$headline.find(".longer").remove()});if(source==="portfolio")$(doc).on("portfolioTickerAdd portfolioTickerReplace portfolioTickerRemove",
".portfolio-filters",function(e,slugs){filters.setSymbolFilter(slugs);setFilterData()}).on("feedFilterChanged",filters.options.container,function(e,showByFollow,subjectTypes){filters.setFilters(showByFollow,subjectTypes);setFilterData()}).on("click",newUpdatesBtnSelector,newUpdatesBtnClickEvent).on("click",'.card[data-type="ExternalNews"] .headline a',function(e){e.preventDefault();showVideo($(this))});else if(source==="symbol")filters.setSymbolFilter([SA.pageConfig.Data.slug])};var infinityScroll=
function(){var lastCard=$cards.find(".card").last();if(lastCard&&lastCard.length){var $moreLoader=$(".more-loader");if(!$moreLoader.data("processing")&&!$moreLoader.data("no-more")){$moreLoader.removeClass("hide");if(SA.Utils.Scroll.isCloseToElement(lastCard,350)&&!$moreLoader.data("processing")){$moreLoader.data("processing",true);var time=parseInt($moreLoader.data("time"));scope.loadMore(time,"load_more",function(cards){if(cards&&cards.length)pushCards(cards)})}}}};var biEventLoadCards=function(cards,
moneAction,extraData){var contentArray=[];for(var i=0;i<cards.length;i++)contentArray.push({position:i,content_id:cards[i].id,content_type:cards[i].subject.type});SA.Logger.Mone.event(moneType,moneSource,moneAction,{data:{"content_array":contentArray,"count":contentArray.length,"extra_data":extraData}})};var setFilterData=function(){$(".empty-card").addClass("hide");$(".more-loader").data("time",0).data("no-more",false).removeClass("hide");$(".cards .card").remove();resetNewUpdatesNotification($(newUpdatesBtnSelector));
scope.reload("page_load")};var biEventScrollComments=function(){$(".cards .comments").off("scroll").one("scroll",function(e){var $elem=$(e.target);SA.Logger.Mone.event("social_feed_comment",moneSource,"scroll",{data:{"type":$elem.closest(".card").data("type"),"id":$elem.closest(".card").attr("id")}})})};scope.getNewCards=function(){var data=filters.getFilterSince($newUpdatesWrapper.data("since"));if(data)feedCommon.dataManager.get("/cards/cards_since",data,onNewCardsLoaded)};var showHideUpdateBtn=
function(){if(!newLoadedCards.length||$(newUpdatesBtnSelector).data("processing"))return;var curScrollPos=$(this).scrollTop();if(curScrollPos>scrollPos)$(newUpdatesBtnSelector).fadeOut();else $(newUpdatesBtnSelector).fadeIn();scrollPos=curScrollPos};var startUpdatePolling=function(){pollInterval=setInterval(function(){scope.getNewCards()},60*1E3)};var newUpdatesBtnClickEvent=function(e){var $self=$(e.target);SA.Logger.Mone.event("new_update","portfolio","clicked",{data:{"num_of_updates":newLoadedCards.length}});
e.preventDefault();$self.data("processing",true).hide();pushCards(newLoadedCards,true);$(w).scrollTop(0);resetNewUpdatesNotification($self)};var resetNewUpdatesNotification=function($elem){$elem.remove();doc.title=title;newLoadedCards=[]};var onNewCardsLoaded=function(resp){var cards=resp.cards;newLoadedCards=$.merge(newLoadedCards,cards);$newUpdatesWrapper.data("since",resp.start_activity_time);if(cards.length){var cardsUpdateCount=newLoadedCards.length;updatePageTitle(cardsUpdateCount);updateNewUpdatesBtn(cardsUpdateCount);
SA.Logger.Mone.event("new_update","portfolio","shown",{data:{"num_of_updates":cardsUpdateCount}})}};var updatePageTitle=function(totalNewCards){var cardsCount=totalNewCards>99?"99+":totalNewCards;doc.title="("+cardsCount+") "+title};var updateNewUpdatesBtn=function(updatesCount){var suffix=updatesCount>1?"updates":"update";var updatesText=updatesCount+" new "+suffix;if(!$newUpdatesWrapper.find(newUpdatesBtnSelector).length)$newUpdatesWrapper.append("<a href='#' class='btn orange-btn card-updates-btn' data-behavior='show-feed-updates'></a>");
var $newUpdatesBtn=$(newUpdatesBtnSelector);if($newUpdatesBtn.length){$newUpdatesBtn.html(updatesText);if($newUpdatesBtn.is(":visible"))$newUpdatesBtn.fadeTo("slow","1",function(){$(this).delay(1500).fadeTo("slow",.9)});else $newUpdatesBtn.fadeIn("slow",function(){$(this).delay(1500).fadeTo("slow",.9)})}}})(window,document,window.SA,window.jQuery);
(function(SA){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.Cards=function(){var cards=SA.Pages.Feeds.Cards;this.init=function(){cards.init({source:"symbol",container:"#social-container",loadMoreUrl:"more_stocktalks",filters:new SA.Pages.Feeds.Modules.Filters({subjectTypes:["StockTalks"]}),postponeLoad:true})};this.showContent=function(){cards.widget.reload({postponeLoad:false,skipEvents:true,action:"more_stocktalks",mone_source:"symbol_page"})}}})(window.SA);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/financials/template"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push('<div id="',templateElementId,"\" class='financial-template'>\n  <header>\n    <span id='statement-type-header'>Income Statement</span>\n    <a href=\"#\" id='exportToCsv'>\n      ",svg,"\n      <i>Download to Spreadsheet</i>\n    </a>\n  </header>\n  <div class='content'>\n    <ul class='static'>\n      <li class='year'></li>\n      ");
$.each(fieldTemplate.fields,function(index,hash){__p.push("\n        ");var nesting=fieldTemplate.nesting.filter(function(obj){return obj.name===hash.name})[0];__p.push("\n        <li class='",hash.xignite," ",hash.style," ",nesting?"nesting-"+nesting.nesting_level:"","'> ",hash.name,"</li>\n      ")});__p.push("\n    </ul>\n    <div class='scrolls'>\n      <span class='left-scroll'></span>\n      <span class='right-scroll disabled'></span>\n    </div>\n    <div class='dynamic-content'>\n      <div class='scrollable'>\n        ");
$.each(columnIds,function(i,year){__p.push("\n          <ul class='dynamic' id='info-",year,"'></ul>\n        ")});__p.push("\n      </div>\n    </div>\n  </div>\n</div>\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/pages/symbols/financials/data_fields"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("<li class='year' data-export='",year,"' id='year-",yearId,"'>",year,"</li>\n");$.each(fieldTemplate.fields,function(index,obj){__p.push("\n  ");var value=data[obj.name],className="";if(value.indexOf("(")>-1)className=obj.style?obj.style+" red-brackets":"red-brackets";else className=obj.style||"";if(obj.xignite==="header")className+=
" header";__p.push("\n  <li class='",className,"' data-export='",exportData[obj.name],"'>",value,"</li>\n")});__p.push("\n")}return __p.join("")}}).call(this);
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols.FinancialFields");scope.IndustrialIncomeStatement={fields:[{name:"Sales/Revenue",xignite:"SalesOrRevenue"},{name:"Cost of Goods Sold incl. D&A",xignite:"CostOfGoodsSold"},{name:"Cost of Goods Sold excl. D&A",xignite:"calculation",calculation:{field1:"CostOfGoodsSold",field2:"DepreciationDepletionAmortizationCashFlow",operation:"subtraction"}},{name:"Depreciation & Amortization Expense",xignite:"DepreciationDepletionAmortizationCashFlow"},{name:"Depreciation",
xignite:"DepreciationOrDepletion"},{name:"Amortization of Intangibles",xignite:"AmortizationOfIntangibleAssets"},{name:"Gross Income",xignite:"GrossIncome",style:"bold"},{name:"SG&A Expense",xignite:"SellingGeneralAdministrativeExpensesAndOther"},{name:"Research & Development",xignite:"ResearchAndDevelopment"},{name:"Other SG&A",xignite:"calculation",calculation:{field1:"SellingGeneralAdministrativeExpensesAndOther",field2:"SellingGeneralAdministrativeExpenses",operation:"subtraction"}},{name:"Other Operating Expense",
xignite:"OtherOperatingExpense"},{name:"Unusual Expense",xignite:"UnusualExpense"},{name:"only_for_calculation",xignite:"EBITOperatingIncome"},{name:"EBIT after Unusual Expense",xignite:"calculation",calculation:{field1:"EBITOperatingIncome",field2:"UnusualExpense",operation:"subtraction"},style:"bold"},{name:"Non Operating Income/Expense",xignite:"NonOperatingExpense"},{name:"Equity in Affiliates (Pretax)",xignite:"EquityInEarningsOfAffiliatesIncome"},{name:"Interest Expense",xignite:"InterestExpense"},
{name:"Pretax Income",xignite:"PretaxIncome"},{name:"Income Tax",xignite:"IncomeTaxes"},{name:"Equity in Affiliates",xignite:"EquityInEarningsOfAffiliatesIncome"},{name:"Other After Tax Income (Expense)",xignite:"OtherAfterTaxAdjustments"},{name:"Consolidated Net Income",xignite:"ConsolidatedNetIncome"},{name:"Minority Interest Expense",xignite:"MinorityInterestExpense"},{name:"Net Income",xignite:"NetIncomeContinuingOperations",style:"highlight"},{name:"Extra Items & Gain/Loss Sale Of Assets",xignite:"ExtraordinaryGainsOrLossesFromSaleOfAsset"},
{name:"Cumulative Effect - Accounting Chg",xignite:"ExtraordinaryItemsIncludingAccountingChange"},{name:"Net Income After Extraordinaries",xignite:"NetIncomeAfterExtraordinaryItems"},{name:"Preferred Dividends",xignite:"PreferredDividends"},{name:"Net Income Available to Common",xignite:"NetIncomeAvailableToCommonBasic"},{name:"EPS (Basic)",xignite:"EPSBasicBeforeExtraordinaries",formatNumber:"no"},{name:"Basic Shares Outstanding",xignite:"calculation",calculation:{field1:"NetIncomeAvailableToCommonBasic",
field2:"EPSBasicBeforeExtraordinaries",operation:"division"}},{name:"EPS (Diluted)",xignite:"EPSFullyDiluted",formatNumber:"no"},{name:"Diluted Shares Outstanding",xignite:"calculation",calculation:{field1:"NetIncomeAvailableToCommonBasic",field2:"EPSFullyDiluted",operation:"division"}},{name:"EBITDA",xignite:"EBITDA"}],nesting:[{name:"Cost of Goods Sold excl. D&A",nesting_level:1},{name:"Depreciation & Amortization Expense",nesting_level:1},{name:"Depreciation",nesting_level:2},{name:"Amortization of Intangibles",
nesting_level:2},{name:"Research & Development",nesting_level:1},{name:"Other SG&A",nesting_level:1},{name:"Cumulative Effect - Accounting Chg",nesting_level:2}]}})();
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols.FinancialFields");scope.InsuranceIncomeStatement={fields:[{name:"Sales/Revenue",xignite:"SalesOrRevenue"},{name:"Losses, Claims & Reserves",xignite:"LossesClaimsReserves"},{name:"Selling, General & Admin. Expenses & Other",xignite:"SellingGeneralAdministrativeExpensesAndOther"},{name:"Selling, General & Admin. Expenses",xignite:"SellingGeneralAdministrativeExpenses"},{name:"Operating Income Before Interest Expense",xignite:"OperatingIncomeBeforeInterestExpense",
style:"bold"},{name:"Interest Expense, Net of Interest Capitalized",xignite:"InterestExpense"},{name:"Operating Income After Interest Expense",xignite:"OperatingIncomeAfterInterestExpense"},{name:"Non-Operating Income (Expense)",xignite:"NonOperatingIncomeExpense"},{name:"Equity in Affiliates (Pretax)",xignite:"ReservesChange"},{name:"Unusual Expense",xignite:"UnusualExpense"},{name:"Pretax Income",xignite:"PretaxIncome",style:"bold"},{name:"Income Taxes",xignite:"IncomeTaxes"},{name:"Equity in Affiliates",
xignite:"EquityInEarningsOfAffiliatesIncome"},{name:"Other After Tax Income (Expense)",xignite:"OtherAfterTaxAdjustments"},{name:"Consolidated Net Income",xignite:"ConsolidatedNetIncome"},{name:"Minority Interest Expense",xignite:"MinorityInterestExpense"},{name:"Net Income",xignite:"NetIncomeContinuingOperations",style:"bold"},{name:"Net Income After Extraordinaries",xignite:"NetIncomeAfterExtraordinaryItems"},{name:"Preferred Dividends",xignite:"PreferredDividends"},{name:"Net Income Available to Common",
xignite:"NetIncomeAvailableToCommonBasic"},{name:"EPS (Basic)",xignite:"EPSBasicBeforeExtraordinaries",formatNumber:"no"},{name:"Basic Shares Outstanding",xignite:"calculation",calculation:{field1:"NetIncomeAvailableToCommonBasic",field2:"EPSBasicBeforeExtraordinaries",operation:"division"}},{name:"EPS (Diluted)",xignite:"EPSFullyDiluted",formatNumber:"no"},{name:"Diluted Shares Outstanding",xignite:"calculation",calculation:{field1:"NetIncomeAvailableToCommonBasic",field2:"EPSFullyDiluted",operation:"division"}}],
nesting:[{name:"Selling, General & Admin. Expenses",nesting_level:1},{name:"Equity in Affiliates (Pretax)",nesting_level:1}]}})();
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols.FinancialFields");scope.OtherIncomeStatement={fields:[{name:"Sales/Revenue",xignite:"SalesOrRevenue"},{name:"Total Expense",xignite:"TotalExpenses"},{name:"Total Interest Expense",xignite:"TotalInterestExpense"},{name:"Depreciation & Amortization Expense",xignite:"DepreciationAmortization"},{name:"Other Operating Expense",xignite:"OtherOperatingExpense"},{name:"Operating Income",xignite:"OperatingIncome",style:"bold"},{name:"Non-Operating Income (Expense)",
xignite:"NonOperatingIncomeExpense"},{name:"Unusual Expense",xignite:"UnusualExpense"},{name:"Pretax Income",xignite:"PretaxIncome",style:"bold"},{name:"Income Taxes",xignite:"IncomeTaxes"},{name:"Equity in Affiliates",xignite:"EquityInEarningsOfAffiliatesIncome"},{name:"Other After Tax Income (Expense)",xignite:"OtherAfterTaxAdjustments"},{name:"Consolidated Net Income",xignite:"ConsolidatedNetIncome"},{name:"Minority Interest Expense",xignite:"MinorityInterestExpense"},{name:"Net Income",xignite:"NetIncomeContinuingOperations",
style:"highlight"},{name:"Extra Items & Gain/Loss Sale Of Assets",xignite:"ExtraordinaryGainsOrLossesFromSaleOfAsset"},{name:"Preferred Dividends",xignite:"PreferredDividends"},{name:"Net Income Available to Common",xignite:"NetIncomeAvailableToCommonBasic"},{name:"EPS (Basic)",xignite:"EPSBasicBeforeExtraordinaries",formatNumber:"no"},{name:"Basic Shares Outstanding",xignite:"calculation",calculation:{field1:"NetIncomeAvailableToCommonBasic",field2:"EPSBasicBeforeExtraordinaries",operation:"division"}},
{name:"EPS (Diluted)",xignite:"EPSFullyDiluted",formatNumber:"no"},{name:"Diluted Shares Outstanding",xignite:"calculation",calculation:{field1:"NetIncomeAvailableToCommonBasic",field2:"EPSFullyDiluted",operation:"division"}}],nesting:[{name:"Total Interest Expense",nesting_level:1},{name:"Depreciation & Amortization Expense",nesting_level:1},{name:"Other Operating Expense",nesting_level:1}]}})();
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols.FinancialFields");scope.BankIncomeStatement={fields:[{name:"Interest Income",xignite:"InterestIncome"},{name:"Total Interest Expense",xignite:"TotalInterestExpense"},{name:"Net Interest Income",xignite:"NetInterestIncome"},{name:"Loan Loss Provision",xignite:"LoanLossProvision"},{name:"Net Interest Income after Provision",xignite:"NetInterestIncomeAfterLoanLossProvision"},{name:"Non-Interest Income",xignite:"NonInterestIncome"},{name:"Non-Interest Expense",
xignite:"NonInterestExpense"},{name:"Operating Income",xignite:"OperatingIncome",style:"bold"},{name:"Non-Operating Income (Expense)",xignite:"NonOperatingIncomeExpense"},{name:"Unusual Expense",xignite:"UnusualExpense"},{name:"Pretax Income",xignite:"PretaxIncome",style:"bold"},{name:"Income Taxes",xignite:"IncomeTaxes"},{name:"Equity in Affiliates",xignite:"EquityInEarningsOfAffiliatesIncome"},{name:"Other After Tax Income (Expense)",xignite:"OtherAfterTaxAdjustments"},{name:"Consolidated Net Income",
xignite:"ConsolidatedNetIncome"},{name:"Minority Interest Expense",xignite:"MinorityInterestExpense"},{name:"Net Income",xignite:"NetIncomeContinuingOperations",style:"highlight"},{name:"Net Income After Extraordinaries",xignite:"NetIncomeAfterExtraordinaryItems"},{name:"Preferred Dividends",xignite:"PreferredDividends"},{name:"Net Income Available to Common",xignite:"NetIncomeAvailableToCommonBasic"},{name:"EPS (Basic)",xignite:"EPSBasicBeforeExtraordinaries",formatNumber:"no"},{name:"Basic Shares Outstanding",
xignite:"calculation",calculation:{field1:"NetIncomeAvailableToCommonBasic",field2:"EPSBasicBeforeExtraordinaries",operation:"division"}},{name:"EPS (Diluted)",xignite:"EPSFullyDiluted",formatNumber:"no"},{name:"Diluted Shares Outstanding",xignite:"calculation",calculation:{field1:"NetIncomeAvailableToCommonBasic",field2:"EPSFullyDiluted",operation:"division"}}],nesting:[]}})();
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols.FinancialFields");scope.IndustrialBalanceSheet={fields:[{name:"Assets",xignite:"header"},{name:"Cash & Short Term Investments",xignite:"CashShortTermInvestments"},{name:"Total Accounts Receivable",xignite:"ShortTermReceivables"},{name:"Accounts Receivables, Net",xignite:"AccountsReceivablesNet"},{name:"Inventories",xignite:"Inventories"},{name:"Finished Goods",xignite:"InventoriesFinishedGoods"},{name:"Work in Progress",xignite:"InventoriesWorkInProgress"},
{name:"Raw Materials",xignite:"InventoriesRawMaterials"},{name:"Progress Payments & Other",xignite:"InventoriesProgressPayments"},{name:"Other Current Assets",xignite:"OtherCurrentAssets"},{name:"Total Current Assets",xignite:"TotalCurrentAssets",style:"bold"},{name:"Net Property, Plant & Equipment",xignite:"NetPropertyPlantEquipment"},{name:"Accumulated Depreciation",xignite:"AccumulatedDepreciation"},{name:"Buildings",xignite:"PropertyPlantEquipmentBuildings"},{name:"Land & Improvements",xignite:"PropertyPlantEquipmentLandImprovements"},
{name:"Total Investments and Advances",xignite:"TotalInvestmentsAndAdvances"},{name:"Other Long-Term Investments",xignite:"InvestmentsLongTermReceivables"},{name:"Long-Term Note Receivable",xignite:"LongTermNoteReceivable"},{name:"Intangible Assets",xignite:"IntangibleAssets"},{name:"Net Goodwill",xignite:"NetGoodwill"},{name:"Net Other Intangibles",xignite:"calculation",calculation:{field1:"IntangibleAssets",field2:"NetGoodwill",operation:"subtraction"}},{name:"Other Assets",xignite:"OtherAssets"},
{name:"Tangible Other Assets",xignite:"TangibleOtherAssets"},{name:"Total Assets",xignite:"TotalAssets",style:"highlight"},{name:"Liabilities & Shareholders' Equity",xignite:"header"},{name:"ST Debt & Current Portion LT Debt",xignite:"ShortTermDebt"},{name:"Accounts Payable",xignite:"AccountsPayable"},{name:"Income Tax Payable",xignite:"IncomeTaxPayable"},{name:"Other Current Liabilities",xignite:"OtherCurrentLiabilities"},{name:"Total Current Liabilities",xignite:"TotalCurrentLiabilities",style:"bold"},
{name:"Long-Term Debt",xignite:"LongTermDebt"},{name:"Provision for Risks & Charges",xignite:"ProvisionForRisksCharges"},{name:"Deferred Taxes",xignite:"DeferredTaxLiabilities"},{name:"Other Liabilities",xignite:"OtherLiabilities"},{name:"Other Liabilities (excl. Deferred Income)",xignite:"OtherLiabilitiesExcludingDeferredRevenue"},{name:"Total Liabilities",xignite:"TotalLiabilities",style:"highlight"},{name:"Non-Equity Reserves",xignite:"NonEquityReserves"},{name:"Preferred Stock (Carrying Value)",
xignite:"PreferredStockCarryingValue"},{name:"Common Equity (Total)",xignite:"TotalCommonEquity"},{name:"Common Stock Par/Carry Value",xignite:"CommonStockParOrCarryValue"},{name:"Retained Earnings",xignite:"RetainedEarnings"},{name:"Cumulative Translation Adjustment For. Exch. Gain",xignite:"CumulativeTranslationAdjustment"},{name:"Revaluation Reserves",xignite:"NonEquityReserves"},{name:"Total Shareholders' Equity",xignite:"TotalShareholdersEquity",style:"bold"},{name:"Accumulated Minority Interest",
xignite:"AccumulatedMinorityInterest"},{name:"Total Equity",xignite:"TotalEquity"},{name:"Liabilities & Shareholders' Equity ",xignite:"TotalLiabilitiesStockholdersEquity",style:"highlight"}],nesting:[{name:"Cash & Short Term Investments",nesting_level:1},{name:"Total Accounts Receivable",nesting_level:1},{name:"Accounts Receivables, Net",nesting_level:2},{name:"Inventories",nesting_level:1},{name:"Finished Goods",nesting_level:2},{name:"Work in Progress",nesting_level:2},{name:"Raw Materials",nesting_level:2},
{name:"Progress Payments & Other",nesting_level:2},{name:"Other Current Assets",nesting_level:1},{name:"Total Current Assets",nesting_level:1},{name:"Net Property, Plant & Equipment",nesting_level:1},{name:"Buildings",nesting_level:2},{name:"Land & Improvements",nesting_level:2},{name:"Accumulated Depreciation",nesting_level:2},{name:"Total Investments and Advances",nesting_level:1},{name:"Other Long-Term Investments",nesting_level:2},{name:"Long-Term Note Receivable",nesting_level:1},{name:"Intangible Assets",
nesting_level:1},{name:"Net Goodwill",nesting_level:2},{name:"Net Other Intangibles",nesting_level:2},{name:"Other Assets",nesting_level:1},{name:"Tangible Other Assets",nesting_level:2},{name:"Total Assets",nesting_level:1},{name:"ST Debt & Current Portion LT Debt",nesting_level:1},{name:"Accounts Payable",nesting_level:1},{name:"Income Tax Payable",nesting_level:1},{name:"Other Current Liabilities",nesting_level:1},{name:"Total Current Liabilities",nesting_level:1},{name:"Long-Term Debt",nesting_level:1},
{name:"Provision for Risks & Charges",nesting_level:1},{name:"Deferred Taxes",nesting_level:1},{name:"Other Liabilities",nesting_level:1},{name:"Other Liabilities (excl. Deferred Income)",nesting_level:2},{name:"Total Liabilities",nesting_level:1},{name:"Non-Equity Reserves",nesting_level:1},{name:"Preferred Stock (Carrying Value)",nesting_level:1},{name:"Common Equity (Total)",nesting_level:1},{name:"Common Stock Par/Carry Value",nesting_level:2},{name:"Retained Earnings",nesting_level:2},{name:"Cumulative Translation Adjustment For. Exch. Gain",
nesting_level:2},{name:"Revaluation Reserves",nesting_level:2},{name:"Total Shareholders' Equity",nesting_level:1},{name:"Accumulated Minority Interest",nesting_level:1},{name:"Total Equity",nesting_level:1}]}})();
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols.FinancialFields");scope.InsuranceBalanceSheet={fields:[{name:"Assets",xignite:"header"},{name:"Cash Only",xignite:"TotalCash"},{name:"Real Estate Assets",xignite:"RealEstateAssets"},{name:"Premium Balance Receivables",xignite:"PremiumBalanceReceivables"},{name:"Net Property, Plant & Equipment",xignite:"NetPropertyPlantEquipment"},{name:"Investment in Unconsolidated Subs.",xignite:"InvestmentInUnconsolidatedAffiliates"},{name:"Other Assets (Including Intangibles)",
xignite:"OtherIntangibleAssets"},{name:"Tangible Other Assets",xignite:"TangibleOtherAssets"},{name:"Intangible Assets",xignite:"IntangibleAssets"},{name:"Total Assets",xignite:"TotalAssets",style:"highlight"},{name:"Liabilities & Shareholders' Equity",xignite:"header"},{name:"Insurance Policy Liabilities (Insurance)",xignite:"InsurancePolicyLiabilitiesInsurance"},{name:"Provision for Risk & Charges",xignite:"ProvisionForRisksCharges"},{name:"Deferred Taxes",xignite:"DeferredTaxes"},{name:"Deferred Taxes - Credit",
xignite:"DeferredTaxLiabilities"},{name:"Other Liabilities",xignite:"OtherLiabilities"},{name:"Total Debt",xignite:"TotalDebt"},{name:"Short Term Debt",xignite:"ShortTermDebt"},{name:"Long-Term Debt",xignite:"LongTermDebt"},{name:"Other Liabilities",xignite:"OtherLiabilities"},{name:"Total Liabilities",xignite:"TotalLiabilities",style:"highlight"},{name:"Non Equity Reserves",xignite:"NonEquityReserves"},{name:"Preferred Stock (Carrying Value)",xignite:"PreferredStockCarryingValue"},{name:"Common Equity (Total)",
xignite:"TotalCommonEquity"},{name:"Retained Earnings",xignite:"RetainedEarnings"},{name:"Total Shareholders' Equity",xignite:"TotalShareholdersEquity",style:"bold"},{name:"Accumulated Minority Interest",xignite:"AccumulatedMinorityInterest"},{name:"Total Equity",xignite:"TotalEquity"},{name:"Liabilities & Shareholders' Equity ",xignite:"TotalLiabilitiesStockholdersEquity",style:"highlight"}],nesting:[{name:"Cash Only",nesting_level:1},{name:"Premium Balance Receivables",nesting_level:1},{name:"Net Property, Plant & Equipment",
nesting_level:1},{name:"Investment in Unconsolidated Subs.",nesting_level:1},{name:"Other Assets (Including Intangibles)",nesting_level:1},{name:"Tangible Other Assets",nesting_level:2},{name:"Intangible Assets",nesting_level:2},{name:"Total Assets",nesting_level:1},{name:"Insurance Policy Liabilities (Insurance)",nesting_level:1},{name:"Provision for Risk & Charges",nesting_level:1},{name:"Deferred Taxes",nesting_level:1},{name:"Deferred Taxes - Credit",nesting_level:2},{name:"Total Debt",nesting_level:1},
{name:"Other Liabilities",nesting_level:1},{name:"Total Liabilities",nesting_level:1},{name:"Non Equity Reserves",nesting_level:1},{name:"Preferred Stock (Carrying Value)",nesting_level:1},{name:"Common Equity (Total)",nesting_level:1},{name:"Total Shareholders' Equity",nesting_level:1},{name:"Accumulated Minority Interest",nesting_level:1},{name:"Total Equity",nesting_level:1},{name:"Long-Term Debt",nesting_level:2},{name:"Short Term Debt",nesting_level:2},{name:"Retained Earnings",nesting_level:2}]}})();
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols.FinancialFields");scope.OtherBalanceSheet={fields:[{name:"Assets",xignite:"header"},{name:"Cash & Short Term Investments",xignite:"CashShortTermInvestments"},{name:"Short-Term Receivables",xignite:"ShortTermReceivables"},{name:"Investment Securities",xignite:"InvestmentSecurities"},{name:"Securities in Custody",xignite:"SecuritiesInCustody"},{name:"Other Investments",xignite:"TotalInvestmentsBanks"},{name:"Net Property, Plant & Equipment",
xignite:"NetPropertyPlantEquipment"},{name:"Other Assets (Including Intangibles)",xignite:"OtherIntangibleAssets"},{name:"Other Assets",xignite:"OtherAssets"},{name:"Intangible Assets",xignite:"IntangibleAssets"},{name:"Total Assets",xignite:"TotalAssets",style:"highlight"},{name:"Liabilities & Shareholders' Equity",xignite:"header"},{name:"Total Debt",xignite:"TotalDebt"},{name:"Short Term Debt",xignite:"ShortTermDebt"},{name:"Long-Term Debt",xignite:"LongTermDebt"},{name:"Deferred Taxes",xignite:"DeferredTaxes"},
{name:"Other Liabilities",xignite:"OtherLiabilities"},{name:"Total Liabilities",xignite:"TotalLiabilities",style:"highlight"},{name:"Preferred Stock (Carrying Value)",xignite:"PreferredStockCarryingValue"},{name:"Common Equity (Total)",xignite:"TotalCommonEquity"},{name:"Retained Earnings",xignite:"RetainedEarnings"},{name:"Total Shareholders' Equity",xignite:"TotalShareholdersEquity",style:"bold"},{name:"Accumulated Minority Interest",xignite:"AccumulatedMinorityInterest"},{name:"Total Equity",xignite:"TotalEquity"},
{name:"Liabilities & Shareholders' Equity ",xignite:"TotalLiabilitiesStockholdersEquity",style:"highlight"}],nesting:[{name:"Cash Only",nesting_level:1},{name:"Cash & Short Term Investments",nesting_level:1},{name:"Short-Term Receivables",nesting_level:1},{name:"Securities in Custody",nesting_level:1},{name:"Other Investments",nesting_level:2},{name:"Net Property, Plant & Equipment",nesting_level:1},{name:"Other Assets (Including Intangibles)",nesting_level:1},{name:"Other Assets",nesting_level:2},
{name:"Intangible Assets",nesting_level:2},{name:"Total Assets",nesting_level:1},{name:"Total Debt",nesting_level:1},{name:"Short Term Debt",nesting_level:2},{name:"Long-Term Debt",nesting_level:2},{name:"Deferred Taxes",nesting_level:1},{name:"Other Liabilities",nesting_level:1},{name:"Total Liabilities",nesting_level:1},{name:"Preferred Stock (Carrying Value)",nesting_level:1},{name:"Common Equity (Total)",nesting_level:1},{name:"Retained Earnings",nesting_level:2},{name:"Total Shareholders' Equity",
nesting_level:1},{name:"Accumulated Minority Interest",nesting_level:1},{name:"Total Equity",nesting_level:1}]}})();
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols.FinancialFields");scope.BankBalanceSheet={fields:[{name:"Assets",xignite:"header"},{name:"Total Cash & Due from Banks",xignite:"TotalCashDueFromBanks"},{name:"Investments - Total",xignite:"TotalInvestmentsBanks"},{name:"Net Loans",xignite:"NetLoans"},{name:"Customer Liability on Acceptances",xignite:"CustomerLiabilityOnAcceptances"},{name:"Net Property, Plant & Equipment",xignite:"NetPropertyPlantEquipment"},{name:"Other Assets (Including Intangibles)",
xignite:"OtherIntangibleAssets"},{name:"Other Assets",xignite:"OtherAssets"},{name:"Intangible Assets",xignite:"IntangibleAssets"},{name:"Interest Receivables",xignite:"InterestReceivables"},{name:"Total Assets",xignite:"TotalAssets",style:"highlight"},{name:"Liabilities & Shareholders' Equity",xignite:"header"},{name:"Total Deposits",xignite:"TotalDeposits"},{name:"Total Debt",xignite:"TotalDebt"},{name:"Short Term Debt",xignite:"ShortTermDebt"},{name:"Long-Term Debt",xignite:"LongTermDebt"},{name:"Total Liabilities",
xignite:"TotalLiabilities",style:"highlight"},{name:"Preferred Stock (Carrying Value)",xignite:"PreferredStockCarryingValue"},{name:"Common Equity (Total)",xignite:"TotalCommonEquity"},{name:"Retained Earnings",xignite:"RetainedEarnings"},{name:"Total Shareholders' Equity",xignite:"TotalShareholdersEquity",style:"bold"},{name:"Accumulated Minority Interest",xignite:"AccumulatedMinorityInterest"},{name:"Total Equity",xignite:"TotalEquity"},{name:"Liabilities & Shareholders' Equity ",xignite:"TotalLiabilitiesStockholdersEquity",
style:"highlight"}],nesting:[{name:"Total Cash & Due from Banks",nesting_level:1},{name:"Investments - Total",nesting_level:1},{name:"Net Loans",nesting_level:1},{name:"Customer Liability on Acceptances",nesting_level:1},{name:"Net Property, Plant & Equipment",nesting_level:1},{name:"Other Assets (Including Intangibles)",nesting_level:1},{name:"Other Assets",nesting_level:2},{name:"Intangible Assets",nesting_level:2},{name:"Interest Receivables",nesting_level:2},{name:"Total Assets",nesting_level:1},
{name:"Total Deposits",nesting_level:1},{name:"Total Debt",nesting_level:1},{name:"Short Term Debt",nesting_level:2},{name:"Long-Term Debt",nesting_level:2},{name:"Total Liabilities",nesting_level:1},{name:"Preferred Stock (Carrying Value)",nesting_level:1},{name:"Common Equity (Total)",nesting_level:1},{name:"Retained Earnings",nesting_level:2},{name:"Total Shareholders' Equity",nesting_level:1},{name:"Total Equity",nesting_level:1}]}})();
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols.FinancialFields");scope.IndustrialCashFlow={fields:[{name:"Operating Activities",xignite:"header"},{name:"Net Income before Extraordinaries",xignite:"NetIncomeCashFlow"},{name:"Depreciation, Depletion & Amortization",xignite:"DepreciationDepletionAmortizationCashFlow"},{name:"Depreciation and Depletion",xignite:"calculation",calculation:{field1:"DepreciationDepletionAmortizationCashFlow",field2:"AmortizationOfIntangibleAssets",operation:"subtraction"}},
{name:"Amortization of Intangible Assets",xignite:"AmortizationOfIntangibleAssets"},{name:"Deferred Taxes & Investment Tax Credit",xignite:"DeferredTaxesInvestmentTaxCredit"},{name:"Deferred Taxes",xignite:"DeferredTaxesExcludingInvestmentTaxCredits"},{name:"Other Funds",xignite:"OtherFunds"},{name:"Funds from Operations",xignite:"FundsFromOperations"},{name:"Extraordinaries",xignite:"ExtraordinaryItem"},{name:"Changes in Working Capital",xignite:"ChangesInWorkingCapital"},{name:"Net Operating Cash Flow",
xignite:"NetOperatingCashFlow",style:"highlight"},{name:"Investing Activities",xignite:"header"},{name:"Capital Expenditures",xignite:"CapitalExpenditures"},{name:"Capital Expenditures (Fixed Assets)",xignite:"CapitalExpendituresFixedAssets"},{name:"Net Assets from Acquisitions",xignite:"NetAssetsFromAcquisitions"},{name:"Sale of Fixed Assets & Businesses",xignite:"SaleOfFixedAssetsBusinesses"},{name:"Purchase/Sale of Investments",xignite:"PurchaseOrSaleOfInvestments"},{name:"Other Uses",xignite:"OtherUses"},
{name:"Other Sources",xignite:"OtherSources"},{name:"Net Investing Cash Flow",xignite:"NetInvestingCashFlow",style:"highlight"},{name:"Financing Activities",xignite:"header"},{name:"Cash Dividends Paid - Total",xignite:"CashDividendsPaid"},{name:"Common Dividends",xignite:"calculation",calculation:{field1:"CashDividendsPaid",field2:"PreferredDividends",operation:"addition"}},{name:"Preferred Dividends",xignite:"PreferredDividends"},{name:"Change in Capital Stock",xignite:"ChangeInCapitalStock"},{name:"Issuance/Reduction of Debt, Net",
xignite:"IssuanceOrReductionOfDebtNet"},{name:"Change in Current Debt",xignite:"ChangeInCurrentDebt"},{name:"Change in Long-Term Debt",xignite:"calculation",calculation:{field1:"IssuanceOrReductionOfDebtNet",field2:"ChangeInCurrentDebt",operation:"subtraction"}},{name:"Other Funds",xignite:"OtherFinancingActivity"},{name:"Other Uses",xignite:"OtherUses"},{name:"Other Sources",xignite:"OtherSources"},{name:"Net Financing Cash Flow",xignite:"NetFinancingCashFlow",highlight:"highlight"},{name:"Exchange Rate Effect",
xignite:"ExchangeRateEffect"},{name:"Miscellaneous Funds",xignite:"MiscellaneousFunds"},{name:"Net Change in Cash",xignite:"NetChangeInCash"},{name:"Free Cash Flow",xignite:"FreeCashFlow"}],nesting:[{name:"Net Income before Extraordinaries",nesting_level:1},{name:"Depreciation, Depletion & Amortization",nesting_level:1},{name:"Depreciation and Depletion",nesting_level:2},{name:"Amortization of Intangible Assets",nesting_level:2},{name:"Deferred Taxes & Investment Tax Credit",nesting_level:1},{name:"Deferred Taxes",
nesting_level:2},{name:"Other Funds",nesting_level:1},{name:"Funds from Operations",nesting_level:1},{name:"Extraordinaries",nesting_level:1},{name:"Changes in Working Capital",nesting_level:1},{name:"Net Operating Cash Flow",nesting_level:1},{name:"Capital Expenditures",nesting_level:1},{name:"Capital Expenditures (Fixed Assets)",nesting_level:2},{name:"Net Assets from Acquisitions",nesting_level:1},{name:"Sale of Fixed Assets & Businesses",nesting_level:1},{name:"Purchase/Sale of Investments",nesting_level:1},
{name:"Other Uses",nesting_level:1},{name:"Other Sources",nesting_level:1},{name:"Net Investing Cash Flow",nesting_level:1},{name:"Cash Dividends Paid - Total",nesting_level:1},{name:"Common Dividends",nesting_level:2},{name:"Preferred Dividends",nesting_level:2},{name:"Change in Capital Stock",nesting_level:1},{name:"Issuance/Reduction of Debt, Net",nesting_level:1},{name:"Change in Current Debt",nesting_level:2},{name:"Change in Long-Term Debt",nesting_level:2},{name:"Other Funds",nesting_level:1},
{name:"Other Uses",nesting_level:2},{name:"Other Sources",nesting_level:2},{name:"Net Financing Cash Flow",nesting_level:1},{name:"Exchange Rate Effect",nesting_level:1},{name:"Miscellaneous Funds",nesting_level:1},{name:"Net Change in Cash",nesting_level:1},{name:"Free Cash Flow",nesting_level:1}]}})();
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols.FinancialFields");scope.InsuranceCashFlow={fields:[{name:"Operating Activities",xignite:"header"},{name:"Funds from Operations",xignite:"FundsFromOperations"},{name:"Net Operating Cash Flow",xignite:"NetOperatingCashFlow",style:"highlight"},{name:"Investing Activities",xignite:"header"},{name:"Capital Expenditures",xignite:"CapitalExpenditures"},{name:"Capital Expenditures (Fixed Assets)",xignite:"CapitalExpendituresFixedAssets"},{name:"Net Assets from Acquisitions",
xignite:"NetAssetsFromAcquisitions"},{name:"Sale of Fixed Assets & Businesses",xignite:"SaleOfFixedAssetsBusinesses"},{name:"Purchase/Sale of Investments",xignite:"PurchaseOrSaleOfInvestments"},{name:"Other Uses",xignite:"OtherUses"},{name:"Other Sources",xignite:"OtherSources"},{name:"Net Investing Cash Flow",xignite:"NetInvestingCashFlow",style:"highlight"},{name:"Financing Activities",xignite:"header"},{name:"Cash Dividends Paid - Total",xignite:"CashDividendsPaid"},{name:"Common Dividends",xignite:"calculation",
calculation:{field1:"CashDividendsPaid",field2:"PreferredDividends",operation:"addition"}},{name:"Preferred Dividends",xignite:"PreferredDividends"},{name:"Change in Capital Stock",xignite:"ChangeInCapitalStock"},{name:"Issuance/Reduction of Debt, Net",xignite:"IssuanceOrReductionOfDebtNet"},{name:"Change in Current Debt",xignite:"ChangeInCurrentDebt"},{name:"Change in Long-Term Debt",xignite:"calculation",calculation:{field1:"IssuanceOrReductionOfDebtNet",field2:"ChangeInCurrentDebt",operation:"subtraction"}},
{name:"Other Funds",xignite:"OtherFinancingActivity"},{name:"Other Uses",xignite:"OtherUses"},{name:"Other Sources",xignite:"OtherSources"},{name:"Net Financing Cash Flow",xignite:"NetFinancingCashFlow",style:"highlight"},{name:"Miscellaneous Funds",xignite:"MiscellaneousFunds"},{name:"Net Change in Cash",xignite:"NetChangeInCash"},{name:"Free Cash Flow",xignite:"FreeCashFlow"}],nesting:[{name:"Funds from Operations",nesting_level:1},{name:"Net Operating Cash Flow",nesting_level:1},{name:"Capital Expenditures",
nesting_level:1},{name:"Capital Expenditures (Fixed Assets)",nesting_level:2},{name:"Net Assets from Acquisitions",nesting_level:1},{name:"Sale of Fixed Assets & Businesses",nesting_level:1},{name:"Purchase/Sale of Investments",nesting_level:1},{name:"Other Uses",nesting_level:1},{name:"Other Sources",nesting_level:1},{name:"Net Investing Cash Flow",nesting_level:1},{name:"Cash Dividends Paid - Total",nesting_level:1},{name:"Common Dividends",nesting_level:2},{name:"Preferred Dividends",nesting_level:2},
{name:"Change in Capital Stock",nesting_level:1},{name:"Issuance/Reduction of Debt, Net",nesting_level:1},{name:"Change in Current Debt",nesting_level:2},{name:"Change in Long-Term Debt",nesting_level:2},{name:"Other Funds",nesting_level:1},{name:"Other Uses",nesting_level:2},{name:"Other Sources",nesting_level:2},{name:"Net Financing Cash Flow",nesting_level:1},{name:"Miscellaneous Funds",nesting_level:1},{name:"Net Change in Cash",nesting_level:1},{name:"Free Cash Flow",nesting_level:1}]}})();
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols.FinancialFields");scope.OtherCashFlow={fields:[{name:"Operating Activities",xignite:"header"},{name:"Funds from Operations",xignite:"FundsFromOperations"},{name:"Change in Working Capital",xignite:"ChangesInWorkingCapital"},{name:"Inventories",xignite:"Inventories"},{name:"Accounts Payable",xignite:"AccountsPayable"},{name:"Net Operating Cash Flow",xignite:"NetOperatingCashFlow",style:"highlight"},{name:"Investing Activities",xignite:"header"},
{name:"Capital Expenditures",xignite:"CapitalExpenditures"},{name:"Capital Expenditures (Fixed Assets)",xignite:"CapitalExpendituresFixedAssets"},{name:"Net Assets from Acquisitions",xignite:"NetAssetsFromAcquisitions"},{name:"Sale of Fixed Assets & Businesses",xignite:"SaleOfFixedAssetsBusinesses"},{name:"Purchase/Sale of Investments",xignite:"PurchaseOrSaleOfInvestments"},{name:"Other Uses",xignite:"OtherUses"},{name:"Other Sources",xignite:"OtherSources"},{name:"Net Investing Cash Flow",xignite:"NetInvestingCashFlow",
style:"highlight"},{name:"Financing Activities",xignite:"header"},{name:"Cash Dividends Paid - Total",xignite:"CashDividendsPaid"},{name:"Common Dividends",xignite:"calculation",calculation:{field1:"CashDividendsPaid",field2:"PreferredDividends",operation:"addition"}},{name:"Preferred Dividends",xignite:"PreferredDividends"},{name:"Change in Capital Stock",xignite:"ChangeInCapitalStock"},{name:"Issuance/Reduction of Debt, Net",xignite:"IssuanceOrReductionOfDebtNet"},{name:"Change in Current Debt",
xignite:"ChangeInCurrentDebt"},{name:"Change in Long-Term Debt",xignite:"calculation",calculation:{field1:"IssuanceOrReductionOfDebtNet",field2:"ChangeInCurrentDebt",operation:"subtraction"}},{name:"Other Funds",xignite:"OtherFinancingActivity"},{name:"Other Uses",xignite:"OtherUses"},{name:"Other Sources",xignite:"OtherSources"},{name:"Net Financing Cash Flow",xignite:"NetFinancingCashFlow",style:"highlight"},{name:"Exchange Rate Effect",xignite:"ExchangeRateEffect"},{name:"Miscellaneous Funds",
xignite:"MiscellaneousFunds"},{name:"Net Change in Cash",xignite:"NetChangeInCash"},{name:"Free Cash Flow",xignite:"FreeCashFlow"}],nesting:[{name:"Funds from Operations",nesting_level:1},{name:"Change in Working Capital ",nesting_level:1},{name:"Inventories",nesting_level:2},{name:"Accounts Payable",nesting_level:2},{name:"Net Operating Cash Flow",nesting_level:1},{name:"Capital Expenditures",nesting_level:1},{name:"Capital Expenditures (Fixed Assets)",nesting_level:2},{name:"Net Assets from Acquisitions",
nesting_level:1},{name:"Sale of Fixed Assets & Businesses",nesting_level:1},{name:"Purchase/Sale of Investments",nesting_level:1},{name:"Other Uses",nesting_level:1},{name:"Other Sources",nesting_level:1},{name:"Net Investing Cash Flow",nesting_level:1},{name:"Cash Dividends Paid - Total",nesting_level:1},{name:"Common Dividends",nesting_level:2},{name:"Preferred Dividends",nesting_level:2},{name:"Change in Capital Stock",nesting_level:1},{name:"Issuance/Reduction of Debt, Net",nesting_level:1},{name:"Change in Current Debt",
nesting_level:2},{name:"Change in Long-Term Debt",nesting_level:2},{name:"Other Funds",nesting_level:1},{name:"Other Uses",nesting_level:2},{name:"Other Sources",nesting_level:2},{name:"Net Financing Cash Flow",nesting_level:1},{name:"Exchange Rate Effect",nesting_level:1},{name:"Miscellaneous Funds",nesting_level:1},{name:"Net Change in Cash",nesting_level:1},{name:"Free Cash Flow",nesting_level:1}]}})();
(function(){var scope=SA.UsingNamespace("SA.Pages.Symbols.FinancialFields");scope.BankCashFlow={fields:[{name:"Operating Activities",xignite:"header"},{name:"Funds from Operations",xignite:"FundsFromOperations"},{name:"Extraorinaries",xignite:"ExtraordinaryItem"},{name:"Changes in Working Capital",xignite:"ChangesInWorkingCapital"},{name:"Net Operating Cash Flow",xignite:"NetOperatingCashFlow",style:"highlight"},{name:"Investing Activities",xignite:"header"},{name:"Capital Expenditures",xignite:"CapitalExpenditures"},
{name:"Capital Expenditures (Fixed Assets)",xignite:"CapitalExpendituresFixedAssets"},{name:"Net Assets from Acquisitions",xignite:"NetAssetsFromAcquisitions"},{name:"Sale of Fixed Assets & Businesses",xignite:"SaleOfFixedAssetsBusinesses"},{name:"Purchase/Sale of Investments",xignite:"PurchaseOrSaleOfInvestments"},{name:"Increase in Loans",xignite:"IncreaseInLoans"},{name:"Decrease in Loans",xignite:"DecreaseInLoans"},{name:"Other Uses",xignite:"OtherUses"},{name:"Other Sources",xignite:"OtherSources"},
{name:"Net Investing Cash Flow",xignite:"NetInvestingCashFlow",style:"highlight"},{name:"Financing Activities",xignite:"header"},{name:"Cash Dividends Paid - Total",xignite:"CashDividendsPaid"},{name:"Common Dividends",xignite:"calculation",calculation:{field1:"CashDividendsPaid",field2:"PreferredDividends",operation:"addition"}},{name:"Preferred Dividends",xignite:"PreferredDividends"},{name:"Decrease in Deposits",xignite:"DecreaseInDeposits"},{name:"Increase in Deposits",xignite:"IncreaseInDeposits"},
{name:"Change in Capital Stock",xignite:"ChangeInCapitalStock"},{name:"Issuance/Reduction of Debt, Net",xignite:"IssuanceOrReductionOfDebtNet"},{name:"Change in Current Debt",xignite:"ChangeInCurrentDebt"},{name:"Change in Long-Term Debt",xignite:"calculation",calculation:{field1:"IssuanceOrReductionOfDebtNet",field2:"ChangeInCurrentDebt",operation:"subtraction"}},{name:"Other Funds",xignite:"OtherFinancingActivity"},{name:"Other Uses",xignite:"OtherUses"},{name:"Other Sources",xignite:"OtherSources"},
{name:"Net Financing Cash Flow",xignite:"NetFinancingCashFlow",style:"highlight"},{name:"Exchange Rate Effect",xignite:"ExchangeRateEffect"},{name:"Miscellaneous Funds",xignite:"MiscellaneousFunds"},{name:"Net Change in Cash",xignite:"NetChangeInCash"},{name:"Free Cash Flow",xignite:"FreeCashFlow"}],nesting:[{name:"Funds from Operations",nesting_level:1},{name:"Extraorinaries",nesting_level:1},{name:"Changes in Working Capital",nesting_level:1},{name:"Net Operating Cash Flow",nesting_level:1},{name:"Capital Expenditures",
nesting_level:1},{name:"Capital Expenditures (Fixed Assets)",nesting_level:2},{name:"Net Assets from Acquisitions",nesting_level:1},{name:"Sale of Fixed Assets & Businesses",nesting_level:1},{name:"Purchase/Sale of Investments",nesting_level:1},{name:"Increase in Loans",nesting_level:1},{name:"Decrease in Loans",nesting_level:1},{name:"Other Uses",nesting_level:1},{name:"Other Sources",nesting_level:1},{name:"Net Investing Cash Flow",nesting_level:1},{name:"Cash Dividends Paid - Total",nesting_level:1},
{name:"Common Dividends",nesting_level:2},{name:"Preferred Dividends",nesting_level:2},{name:"Decrease in Deposits",nesting_level:1},{name:"Increase in Deposits",nesting_level:1},{name:"Change in Capital Stock",nesting_level:1},{name:"Issuance/Reduction of Debt, Net",nesting_level:1},{name:"Change in Current Debt",nesting_level:2},{name:"Change in Long-Term Debt",nesting_level:2},{name:"Other Funds",nesting_level:1},{name:"Other Uses",nesting_level:2},{name:"Other Sources",nesting_level:2},{name:"Net Financing Cash Flow",
nesting_level:1}]}})();
(function(w,$){var scope=SA.UsingNamespace("Pages.Symbols");scope.Financials=function(){var scope=this,years=[],date=new Date,columnIds=[],fieldsForFetching=[],columnsCount=5,expectedColumnsCount=5,currentYear=$.format.date(date,"yyyy"),financialFigureType="annual",saLoader=$(".sa-loader"),slug=SA.pageConfig.Data.slug,dynamicContentSelector=$(".dynamic-content"),financialFields=SA.Pages.Symbols.FinancialFields,formatter=SA.Utils.Formatter,financialsContainer=$("#financials-tab"),dataReturned=true,
financialStatementType,templateElementId;var calculationMapping={"subtraction":{method:subtract},"division":{method:divide},"addition":{method:add}};var templateStatementMapping={"industrial":{"income-statement":financialFields.IndustrialIncomeStatement,"balance-sheet":financialFields.IndustrialBalanceSheet,"cash-flow-statement":financialFields.IndustrialCashFlow},"insurance":{"income-statement":financialFields.InsuranceIncomeStatement,"balance-sheet":financialFields.InsuranceBalanceSheet,"cash-flow-statement":financialFields.InsuranceCashFlow},
"otherfinancial":{"income-statement":financialFields.OtherIncomeStatement,"balance-sheet":financialFields.OtherBalanceSheet,"cash-flow-statement":financialFields.OtherCashFlow},"bank":{"income-statement":financialFields.BankIncomeStatement,"balance-sheet":financialFields.BankBalanceSheet,"cash-flow-statement":financialFields.BankCashFlow}};scope.init=function(){initData();initTabScroll();initFiguresSwitch()};w.parseData=function(data){data=data[0];var templateType=data.Company.StatementTemplate.toLowerCase();
financialStatementType=getFinancialStatementType();var fieldTemplate=getFieldTemplate(templateType),templateForDisplay=removeOnlyForCalculationFields(fieldTemplate),templateSelector=$("#"+templateElementId);templateElementId=templateType+"-"+financialStatementType;if(!templateSelector.length||financialsContainer.hasClass("annual")&&financialsContainer.hasClass("quarterly")){removeOldFigureType();displayTemplate(templateType,templateForDisplay);dynamicContentSelector=$(".dynamic-content")}displayDataInTemplate(data,
fieldTemplate,templateForDisplay);if(allYearsDataReturned()){if(wrongRowsFound())if(financialFigureType==="quarterly"){var dateToDisplay=$(".scrollable ul:first-child li:first-child").text();dateToDisplay=new Date(dateToDisplay);dateToDisplay=getMonthForXignite(dateToDisplay.getMonth(),dateToDisplay.getFullYear());SA.Utils.SymbolData.getFundamentals(slug,fieldsForFetching,dateToDisplay,"Quarterly","handleAdditionalColumn");columnsCount=5;return}else{removeDuplicateRows();columnsCount=4}else columnsCount=
5;allDataReceivedOperations(dynamicContentSelector)}};w.handleAdditionalColumn=function(data){var data=data[0];if(data.Message!=="Invalid date specified 'AsOfDate'."){var newColumnId=$.format.date(new Date(data.FundamentalsSets[0].AsOfDate),"M-dd-yyyy"),templateType=data.Company.StatementTemplate.toLowerCase(),fieldTemplate=getFieldTemplate(templateType),templateForDisplay=removeOnlyForCalculationFields(fieldTemplate);removeDuplicateRows();$(".scrollable").prepend('<ul class="dynamic" id="info-'+
newColumnId+'"></ul>');displayDataInTemplate(data,fieldTemplate,templateForDisplay,newColumnId)}allDataReceivedOperations($(".dynamic-content"))};scope.showContent=function(){expectedColumnsCount=5;years=[];columnIds=[];SA.Utils.Ads.Gpt.refreshAll();var url=getCurrentUrl();w.history.pushState({url:url},null,url);fetchData();adjustFinancialFigureType();saLoader=$(".sa-loader")};function allDataReceivedOperations(dynamicContentSelector){alignFirstHeaderWithDates();scrollToCurrentYear();initExportToCsv();
var statementName=formatter.capitalize(financialStatementType.replace(/-/g," "));$("#statement-type-header").text(statementName);document.title=slug.toUpperCase()+" - Financials:"+" "+statementName+" | Seeking Alpha";handleScrollDisabling(dynamicContentSelector.scrollLeft())}function wrongRowsFound(){var columns=$("ul.dynamic").slice(-2),lastYear=columns[1].firstChild,secondToLastYear=columns[0].firstChild;if(lastYear&&secondToLastYear)if(lastYear.textContent===secondToLastYear.textContent)return true;
else return false;else return true}function removeDuplicateRows(){$(".scrollable ul:last-child").remove()}function removeOldFigureType(){var figureTypeToRemove=financialFigureType==="annual"?"quarterly":"annual";financialsContainer.removeClass(figureTypeToRemove)}function alignFirstHeaderWithDates(){var firstRowTitleEl=$("#financial-data .static li:nth-child(2)"),firstRowYearEls=$("#financial-data .dynamic li:nth-child(2)");if(firstRowTitleEl.hasClass("header")){$("#financial-data .static li.year").text(firstRowTitleEl.text());
firstRowTitleEl.remove()}if(firstRowYearEls.hasClass("header"))firstRowYearEls.remove()}function initData(){$.each(prepareListOfAllFields(),function(index,hash){if(hash.xignite!=="calculation"&&hash.xignite!=="header"&&fieldsForFetching.indexOf(hash.xignite)===-1)fieldsForFetching.push(hash.xignite)});fieldsForFetching=fieldsForFetching.join(",");var urlParam=decodeURIComponent(window.location.search.substring(1));if(urlParam&&!w.inLeftMenuAbTest)financialFigureType=urlParam.replace("figure_type=",
"");$(".figures-selection #"+financialFigureType).prop("checked",true)}function fetchData(){var month,columnId,dateToDisplay;saLoader.show();$("#"+templateElementId).hide();$('li.year[id*="year-"]').remove();for(var i=4;i>=0;i--){if(financialFigureType==="quarterly"){columnId=date.getMonth()+1;month=columnId-3*i;dateToDisplay=getMonthForXignite(month);columnId=dateToDisplay.replace(/\//g,"-")}else{columnId=parseFloat(currentYear)-i;dateToDisplay=$.format.date(date,"MM/dd/"+columnId)}SA.Utils.SymbolData.getFundamentals(slug,
fieldsForFetching,dateToDisplay,CapitalizeFirstLetter(financialFigureType),"parseData");if(years.length<5){years.push(dateToDisplay);columnIds.push(columnId)}}}function getMonthForXignite(month,fullYear){fullYear=fullYear||currentYear;if(month<1)return $.format.date(date,month+12+"/"+"dd/"+(parseInt(fullYear)-1));else return $.format.date(date,month+"/dd/"+fullYear)}function initTabScroll(){var currentPosition;$("body").on("click",".scrolls span",function(){currentPosition=dynamicContentSelector.scrollLeft()});
$("body").on("click",".left-scroll",function(){SA.Logger.Mone.event("left","time_period","click");var positionToMoveTo=currentPosition-112;dynamicContentSelector.scrollLeft(positionToMoveTo);handleScrollDisabling(positionToMoveTo)});$("body").on("click",".right-scroll",function(){SA.Logger.Mone.event("right","time_period","click");var positionToMoveTo=currentPosition+112;dynamicContentSelector.scrollLeft(positionToMoveTo);handleScrollDisabling(positionToMoveTo)})}function initFiguresSwitch(){financialsContainer.addClass(financialFigureType);
$("#content_section").on("change",".figures-selection input",function(){financialFigureType=$(this).val();financialsContainer.addClass(financialFigureType);scope.showContent()})}function adjustFinancialFigureType(){if(financialFigureType==="quarterly"){$(".figures-selection #quarterly").prop("checked",true);$(".figures-selection #annual").prop("checked",false)}else{$(".figures-selection #annual").prop("checked",true);$(".figures-selection #quarterly").prop("checked",false)}}function initExportToCsv(){var filename=
prepareExportFilename(),rows=$("#financials-tab ul.static li"),years=$("#financials-tab ul.dynamic"),csv="";rows.each(function(index,row){csv+='"'+$(rows[index]).text()+'"'+",";years.each(function(i,year){csv+=$($(year).find("li")[index]).data("export")+","});csv=csv.slice(0,-1);csv+="\r\n"});var csvEncoding="data:application/csv;charset=utf-8,"+encodeURIComponent(csv);$("a#exportToCsv").attr({"download":filename,"href":csvEncoding,"target":"_blank"});$("a#exportToCsv").click(function(){SA.Logger.Mone.event([null],
"financial_statements","download")})}function prepareExportFilename(){var financialStatement=slug.toUpperCase();$.each(financialStatementType.split("-"),function(i,word){financialStatement+=CapitalizeFirstLetter(word)});return financialStatement+CapitalizeFirstLetter(financialFigureType)+".csv"}function scrollToCurrentYear(){saLoader.hide();$("#"+templateElementId).show();dynamicContentSelector.scrollLeft(224)}function allYearsDataReturned(){return $('li.year[id*="year-"]').length===expectedColumnsCount}
function handleScrollDisabling(positionToMoveTo){var maxRightPositions=columnsCount===5?[224,336]:[112,224],maxLeftPositions=[0,-112];if(maxLeftPositions.indexOf(positionToMoveTo)>-1){$(".left-scroll").addClass("disabled");$(".right-scroll").removeClass("disabled")}else if(maxRightPositions.indexOf(positionToMoveTo)>-1){$(".left-scroll").removeClass("disabled");$(".right-scroll").addClass("disabled")}else{$(".left-scroll").removeClass("disabled");$(".right-scroll").removeClass("disabled")}}function prepareListOfAllFields(){var list=
[];addFieldsToList(list,financialFields.IndustrialBalanceSheet.fields);addFieldsToList(list,financialFields.IndustrialIncomeStatement.fields);addFieldsToList(list,financialFields.InsuranceIncomeStatement.fields);addFieldsToList(list,financialFields.OtherIncomeStatement.fields);addFieldsToList(list,financialFields.InsuranceBalanceSheet.fields);addFieldsToList(list,financialFields.OtherBalanceSheet.fields);addFieldsToList(list,financialFields.IndustrialCashFlow.fields);addFieldsToList(list,financialFields.BankIncomeStatement.fields);
addFieldsToList(list,financialFields.BankBalanceSheet.fields);addFieldsToList(list,financialFields.InsuranceCashFlow.fields);addFieldsToList(list,financialFields.OtherCashFlow.fields);addFieldsToList(list,financialFields.BankCashFlow.fields);return list}function addFieldsToList(list,fields){for(var index in fields)list.push(fields[index])}function getFieldTemplate(templateType){return templateStatementMapping[templateType][financialStatementType]}function displayTemplate(templateType,fieldTemplate){var template=
JST["jst/pages/symbols/financials/template"]({svg:JST["jst/inline_svg/download"](),templateType:templateType,templateElementId:templateElementId,financialStatement:financialStatementType,fieldTemplate:fieldTemplate,columnIds:columnIds});$("#financial-data").html(template)}function displayDataInTemplate(data,fieldTemplate,templateForDisplay,requestedId){var fundamentals=data.FundamentalsSets[0].Fundamentals,dateAttr=fundamentals.find(function(el){if(el.Date)return el});if(dateAttr)receivedYear=dateAttr.Date;
else{expectedColumnsCount-=1;return}var receivedYear=fundamentals.find(function(el){if(el.Date)return el}).Date,value="",fundamentalInfo={},exportInfo={};if(!requestedId)if(financialFigureType==="annual")requestedId=data.FundamentalsSets[0].AsOfDate.match(/[0-9]*$/)[0];else requestedId=$.format.date(new Date(data.FundamentalsSets[0].AsOfDate),"M-dd-yyyy");$.each(fieldTemplate.fields,function(){if(this.xignite==="calculation"){var item=calculationMapping[this.calculation.operation];value=item.method(getAttribute(fundamentals,
this.calculation.field1),getAttribute(fundamentals,this.calculation.field2))}else if(this.xignite==="header")return exportInfo[this.name]=fundamentalInfo[this.name]="";else value=getAttribute(fundamentals,this.xignite);if(value||value===0){value=parseFloat(value);if(value===0)exportInfo[this.name]=fundamentalInfo[this.name]=formatter.naValue;else if(isNaN(value))fundamentalInfo[this.name]=exportInfo[this.name]=formatter.naValue;else if(this.formatNumber==="no")exportInfo[this.name]=fundamentalInfo[this.name]=
value.toString();else if(value<0){exportInfo[this.name]=String(value);value=Math.abs(value);fundamentalInfo[this.name]=formatter.number(value,{inMillions:true,prefix:"(",suffix:")"})}else{fundamentalInfo[this.name]=formatter.number(value,{inMillions:true});exportInfo[this.name]=String(value)}}else exportInfo[this.name]=fundamentalInfo[this.name]=formatter.naValue});var view=JST["jst/pages/symbols/financials/data_fields"]({fieldTemplate:templateForDisplay,data:fundamentalInfo,exportData:exportInfo,
year:receivedYear,yearId:requestedId});dynamicContentSelector.find("#info-"+requestedId).html(view)}function removeOnlyForCalculationFields(template){var templateForDisplay={fields:[],nesting:[]};templateForDisplay.nesting=template.nesting;$.each(template.fields,function(i,obj){if(obj.name!=="only_for_calculation")templateForDisplay.fields.push(obj)});return templateForDisplay}function subtract(field1,field2){return parseFloat(field1)-parseFloat(field2)}function divide(field1,field2){return parseFloat(field1)/
parseFloat(field2)}function add(field1,field2){return parseFloat(field1)+parseFloat(field2)}function CapitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}function getAttribute(arr,attr){var found=arr.filter(function(x){return x.Type===attr});if(found.length&&found[0].Outcome!=="RequestError")return found[0].Value+" "+found[0].Unit;else return formatter.naValue}function getFinancialStatementType(){return $(".sub-menu a.active").attr("id").replace("sub-menu-","")}function getCurrentUrl(){financialStatementType=
getFinancialStatementType();var url=$(".sub-menu a.active").attr("href");if(financialFigureType==="quarterly")url+="?figure_type="+"quarterly";return url}}})(window,jQuery);
(function(w,doc,SA,$,history){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.TabsManager=function(opt){var initOpt={$main:$("#main_container.symbol_page"),$content:$("#content_section"),contentSectionsSelector:"#content_section",$title:$("#tab-title")},ads,idleTimer,moreLoader;var tabs={mappings:{"focus":{instance:null,inInfiniteScrollAbTest:true},"related":{instance:null,inInfiniteScrollAbTest:true},"latest":{instance:SA.Pages.Symbols.News.All,showBottomAd:1,inInfiniteScrollAbTest:true},"news-all":{instance:SA.Pages.Symbols.News.All,
inInfiniteScrollAbTest:true},"m-a":{instance:SA.Pages.Symbols.News.All,inInfiniteScrollAbTest:true},"dividends":{instance:SA.Pages.Symbols.News.All,inInfiniteScrollAbTest:true},"analysis-summary":{instance:SA.Pages.Symbols.News.All,inInfiniteScrollAbTest:true},"press-release":{instance:null,inInfiniteScrollAbTest:true},"other-news":{instance:null,inInfiniteScrollAbTest:true},"overview":{instance:SA.Pages.Symbols.KeyData.Overview,showBottomAd:1},"advanced-chart":{instance:null},"filings":{instance:SA.Pages.Symbols.KeyData.Filings},
"historical-quotes":{instance:SA.Pages.Symbols.KeyData.HistoricalQuotes},"dividends-and-splits":{instance:SA.Pages.Symbols.KeyData.Dividends.DividendsAndSplits,showBottomAd:1},"earnings-summary":{instance:SA.Pages.Symbols.Earnings.Summaries,showBottomAd:1,inInfiniteScrollAbTest:true},"transcripts":{instance:SA.Pages.Symbols.Earnings.Transcripts,showBottomAd:1,inInfiniteScrollAbTest:true},"blogs":{instance:null,inInfiniteScrollAbTest:true},"stocktalks":{instance:SA.Pages.Symbols.Cards,inInfiniteScrollAbTest:true},
"holdings":{instance:SA.Pages.Symbols.Holdings,inInfiniteScrollAbTest:true},"returns":{instance:null,inInfiniteScrollAbTest:true},"strategy":{instance:null,inInfiniteScrollAbTest:true},"income-statement":{instance:SA.Pages.Symbols.Financials},"balance-sheet":{instance:SA.Pages.Symbols.Financials},"cash-flow-statement":{instance:SA.Pages.Symbols.Financials}},instances:{},current:{id:null,url:null,title:null,refreshAds:false,refreshContent:false,instance:null}};var initEvents=function(){initOpt.$main.on("click",
".symbols-menu a",function(e){e.preventDefault();var $elem=$(this);if($elem.data("open-in-blank"))return openInNewTab($elem.attr("href"));changeActiveTab($elem);toggleTitle("");refreshPage($elem,false,true)});$(w).on("popstate",function(){if(event.state==null)return;var $elem=$('.symbols-menu a[href="'+w.location.pathname+'"]').last();changeActiveTab($elem);refreshPage($elem,true,false)});initBiEvents()};var openInNewTab=function(url){var win=w.open(url,"_blank");if(win)win.focus()};var changeActiveTab=
function($link){var section=$link.data("for");$(".symbols-menu .active").removeClass("active");var activate=[];if(!w.inLeftMenuAbTest){activate.push($(".title."+section));activate.push($(".sub-menu."+section));if($link.hasClass("title"))$link=$(".sub-menu a."+section).first()}$.each(activate.concat($link),function(){$(this).addClass("active")})};var toggleTitle=function(title){if(w.inLeftMenuAbTest)if(title)initOpt.$title.html(title).show();else initOpt.$title.html("").hide()};var initBiEvents=function(){$(doc).on("mouseover",
".symbols-menu a",function(){SA.Logger.Mone.event(location.href,"hover","hover_shown",{data:{slug:$(this).attr("id")}})})};var collectData=function(elem){var d={id:elem.attr("id").replace(/sub-menu-/gi,""),url:elem.attr("href"),title:elem.attr("title"),pageTitle:elem.data("page-title"),showTitleContent:elem.data("show-title-content"),refreshAds:elem.data("refresh-ads"),refreshContent:elem.data("refresh-content")};d.tab=tabs.mappings[d.id];return d};var refreshPage=function(elem,statePopped,refreshAds){var elemData=
collectData(elem);if(!statePopped)history.pushState(null,null,$(".sub-menu a.active").attr("href"));updatePageTitle(elemData.pageTitle);SA.Logger.Mone.touch({ajaxPage:true});if(refreshAds)ads.refresh(elemData.tab.showBottomAd);refreshContent(elemData,true);idleTimer.reset(elemData.refreshAds||elemData.refreshContent)};var updatePageTitle=function(title){doc.title=[initOpt.slug.toUpperCase(),title,"-",initOpt.slugDesc,"| Seeking Alpha"].join(" ")};var setContainerClass=function(className){initOpt.$content.attr("class",
className)};var refreshContent=function(opt,tabSwitched){$("#content_section").hide();if(opt.refreshContent||tabSwitched){moreLoader.toggle(true);setContainerClass("hidden");$.get(opt.url+".json").done(function(res){toggleTitleContent(opt.showTitleContent);toggleTitle(opt.title);if(res.html)initOpt.$content.html(res.html);setContainerClass(opt.id);moreLoader.resetPageCache();updateCurrentTab(opt)})}};var toggleTitleContent=function(showTitleContent){if(!w.inLeftMenuAbTest||showTitleContent)$("#after-title-content").removeClass("hidden");
else $("#after-title-content").addClass("hidden")};var initInfiniteScrollAbTest=function(variation){var $contentSections=$(initOpt.contentSectionsSelector);if(["infinite_scroll","more_headlines","3rd_version"].indexOf(variation)>-1){$contentSections.addClass("more-latest-ab-test");$("ul.more-latest").show();handlePartnerHeadlines(variation)}$contentSections.show()};var handlePartnerHeadlines=function(variation){var $partnerHeadlinesHeader=$(".other_main").remove(),$bullets=$("#partner-headlines li.bullet").remove(),
$partnerHeadlinesContent=$("#partner-headlines").remove(),articlesToDisplay;switch(variation){case "infinite_scroll":articlesToDisplay=4;break;case "more_headlines":articlesToDisplay=7;break;case "3rd_version":articlesToDisplay=6;$(initOpt.contentSectionsSelector).addClass("third-version")}var elToAppend=$($("#portfolo_selections .symbol_latest_articles li")[articlesToDisplay]);elToAppend.after($partnerHeadlinesContent).after($partnerHeadlinesHeader);$("#partner-headlines ul").append($bullets.slice(0,
3))};var updateCurrentTab=function(elemData){if(elemData.tab&&elemData.tab.inInfiniteScrollAbTest)SA.Utils.AbTests.init({"Latest tab infinite scroll":initInfiniteScrollAbTest});else $(initOpt.contentSectionsSelector).show();moreLoader.updateTab(elemData.id);SA.Logger.Mone.event("tab_clicks","symbol, top",elemData.id,{data:{pro_status:typeof user_cookie!="undefined"?user_cookie.user_pro_status:0,slug:initOpt.slug}});var instance=elemData.tab.instance;if(instance){if(!tabs.instances[instance]){tabs.instances[instance]=
new instance;execute(tabs.instances[instance].init)}execute(tabs.instances[instance].showContent)}tabs.current=$.extend({},{instance:tabs.instances[instance]},elemData)};this.updateData=function(data){if(tabs.current.instance)execute(tabs.current.instance.updateData,data)};var execute=function(method,params){if($.isFunction(method))method(params)};var init=function(){initOpt=$.extend({},initOpt,opt);initOpt.contentSectionsSelector+=", #pro-research-container";initEvents();moreLoader=new SA.Pages.Symbols.MoreLoader;
var menuElem=$(".symbols-menu a.active").last(),elemData=collectData(menuElem);ads=new SA.Pages.Symbols.Ads({ads:initOpt.ads,showBottomAd:elemData.tab.showBottomAd});updateCurrentTab(elemData);idleTimer=new SA.Pages.Symbols.IdleTimer({idleClb:function(){ads.refresh(elemData.tab.showBottomAd);refreshContent(tabs.current,false)}})};SA.run(init,"init TabsManager")}})(window,document,window.SA,window.jQuery,window.History);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/add_ticker_to_portfolio/add_ticker_to_portfolio"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="t_to_p a_c hidden-print">\n  <div class="t_add_to_p">',portfolioCount," people have ",tickerSlug.toUpperCase(),' in their portfolio</div>\n  <div class="b_add_to_p">Follow ',tickerSlug.toUpperCase(),"</div>\n</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/add_ticker_to_portfolio/add_ticker_to_portfolio_default"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="following hidden-print">\n  <a href="#" class="btn gray-btn ticker=following">\n    <span>Following ',tickerSlug.toUpperCase(),'</span>\n  </a>\n  <span>\n    <label class="rta-lbl">\n      <input type="checkbox" class="rta-chbx " checked> Get email alerts\n    </label>\n  </span>\n</div>\n');
return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/add_ticker_to_portfolio/ticker_added_without_alerts"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<div class='t_to_p rta_cont hidden-print'>\n  <div class='t_to_p add_rta_title thanks_no_rta_title'><strong>Congratulations!</strong></div>\n  <div class='t_to_p info_text'>",tickerSlug.toUpperCase()," has been added to <a id='portfolio_link_add_rta_popup' class='portfolio_link' href='/account/portfolio",portfolioParameter,
"' sasource='",source,"_portfolio_button' >your portfolio</a></div>\n  <div id='cl_rta_pop' class='t_to_p close'>Close</div>\n</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/add_ticker_to_portfolio/ticker_added_with_alerts"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<div class='t_to_p rta_cont hidden-print'>\n  <div class='t_to_p add_rta_title th_rta_t'><strong>Congratulations!</strong></div>\n  <div class='t_to_p info_text'>You successfuly subscribed to alerts on ",tickerSlug.toUpperCase(),"<br>and added this stock to <a id='portfolio_link_add_rta_popup' class='portfolio_link' href='/account/portfolio",
portfolioParameter,"' sasource='",source,"_portfolio_button'>your portfolio</a></div>\n  <div id='cl_rta_pop' class='t_to_p close'>Close</div>\n</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/add_ticker_to_portfolio/less_or_3_portfolios"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("<div class='t_to_p ch_p_cont hidden-print'>\n  <div class='t_to_p ch_p_title'>Which portfolio would you like to add ",tickerSlug.toUpperCase().bold()," to?</div>\n  <form id='p_list_rad'>\n    <input id='p_lst_it' type='radio' name='portfolio' value='",pAr[0].portfolio_id+"-"+pAr[0].portfolio_name,
"' checked><span> ",pAr[0].portfolio_name,"</span><br>\n    ");for(var i=1;i<listLength;i++)__p.push("\n      <input id='p_lst_it' type='radio' name='portfolio' value='",pAr[i].portfolio_id+"-"+pAr[i].portfolio_name,"'><span> ",pAr[i].portfolio_name,"</span><br>\n    ");__p.push("\n  </form>\n  <label class='g_al_ch'><input type='checkbox' id='get_alerts' checked><span>Get email alerts on ",tickerSlug.toUpperCase(),"</span></label>\n  <input type='button' id='add_sel_p' class='submit' value='Add to Portfolio'>\n</div>\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/add_ticker_to_portfolio/more_3_portfolios"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){__p.push("<div class='t_to_p ch_p_cont hidden-print'>\n  <div class='t_to_p ch_p_title'>Which portfolio would you like to add ",tickerSlug.toUpperCase().bold()," to?</div>\n  <select id='portfolio_list' class='portfolio_list_select'>\n    ");for(var i=0;i<listLength;i++)__p.push("\n      <option value='",pAr[i].portfolio_id+
"-"+pAr[i].portfolio_name,"'>",pAr[i].portfolio_name,"</option>\n    ");__p.push("\n  </select>\n  <label class='g_al_ch'><input type='checkbox' id='get_alerts' checked><span>Get email alerts on ",tickerSlug.toUpperCase(),"</span></label>\n  <input type='button' id='add_sel_p' class='submit' value='Add to Portfolio'>\n</div>\n")}return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/add_ticker_to_portfolio/add_ticker_to_rta"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="t_to_p a_c hidden-print">\n  <div class="t_add_to_p"> ',rtaCount," people get ",tickerSlug.toUpperCase(),' breaking news and analysis by email alert</div>\n  <div class="b_add_to_p">Get email alerts on ',tickerSlug.toUpperCase(),"</div>\n</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/add_ticker_to_portfolio/rta_added"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="customize_pop_bordeaux rta_pop hidden-print">\n  <div class="sub-h">You have successfully subscribed to real-time alerts!</div>\n</div>\n');return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/add_ticker_to_portfolio/follow_author"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="t_to_p a_c hidden-print">\n  <div class="t_add_to_p"> Follow this author and get email alerts</div>\n  <div class="b_add_to_p">Follow ',authorName,"</div>\n</div>\n");return __p.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["jst/widgets/add_ticker_to_portfolio/follow_author_added"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<div class='t_to_p rta_cont hidden-print'>\n  <div class='t_to_p add_rta_title th_rta_t'><strong>Congratulations!</strong></div>\n  <div class='t_to_p info_text'>You have successfully subscribed to real-time alerts on this author</div>\n  <div id='cl_rta_pop' class='t_to_p close'>Close</div>\n</div>\n");
return __p.join("")}}).call(this);(function(SA,$){var scope=SA.UsingNamespace("SA.Models.StockModel");scope.getSubscribeData=function(slug,oncomplete){$.ajax({method:"GET",dataType:"json",url:"/memcached2/get_subscribe_data/"+slug,data:{id:slug}}).done(function(res){res=res||{};if($.isFunction(oncomplete))oncomplete(res)})}})(SA,jQuery);
(function(SA,$){var scope=SA.UsingNamespace("SA.Widgets.AddTickerToPortfolio");var pm=new SA.Models.PortfolioModel;var userId=SA.Data.User.id();var modal;scope.init=function(opt){opt=opt||{};var source=opt.source;var getSelectPortfolioPopupHtml=function(portfolioCount,pAr,listLength){var jstFileName=portfolioCount>3?"more_3_portfolios":"less_or_3_portfolios";return JST["jst/widgets/add_ticker_to_portfolio/"+jstFileName]({tickerSlug:opt.tickerSlug,pAr:pAr,source:source,listLength:listLength})||""};
var setPortfolioPopup=function(portfolioCount){var pAr=SA.Data.MonsterCookie.get("user_portfolios");var alerts="";var listLength=pAr.length;var optionPosition;var selectPortfolioPopupHtml=getSelectPortfolioPopupHtml(portfolioCount,pAr,listLength);modal=buildAddToPortfolioModal(selectPortfolioPopupHtml);modal.getModalObject().find("#add_sel_p").click(function(){var puri=portfolioCount>3?$(".portfolio_list_select").val():$("input[name=portfolio]:checked").val();if($("#get_alerts").is(":checked"))alerts=
"rta_articles,rta_market_currents";pm.addSymbols({symbols:opt.tickerSlug.toLowerCase(),oncomplete:tickerAdded($("#get_alerts")[0].checked,"?pu="+puri),alerts:alerts,pu:puri});var clickedAlertsEventParam=alerts?"clicked_yes_alerts":"clicked_no_alerts";SA.Logger.Mone.event("alerts_add_portfolio_pick",source+"_portfolio_button",clickedAlertsEventParam,{data:{ticker:opt.tickerSlug,user_id:userId.toString(),portfolio_position:optionPosition}})});if(!SA.Widgets.Popup.isRunning())modal.show();SA.Logger.Mone.event("alerts_add_portfolio_pick",
source+"_portfolio_button","shown",{data:{ticker:opt.tickerSlug,user_id:userId.toString()}})};var tickerAdded=function(withAlerts,puri){withAlerts=withAlerts||false;puri=puri||"";var jstFileName=withAlerts?"ticker_added_with_alerts":"ticker_added_without_alerts";var tikerAddedPopup=JST["jst/widgets/add_ticker_to_portfolio/"+jstFileName]({tickerSlug:opt.tickerSlug,source:source,portfolioParameter:puri})||"";modal.innerBody(tikerAddedPopup);modal.getModalObject().find("#cl_rta_pop").click(function(){opt.container.hide();
closeModal()})};var closeModal=function(){modal.hide();if(opt.cb)opt.cb()};var buildAddToPortfolioModal=function(bodyContent){if(bodyContent)return SA.Widgets.Popup.build({className:"add_to_portfolio_modal",backdrop:true,keyboard:true,showHeader:false,showCloseBtn:false,showBody:true,bodyContent:bodyContent,showFooter:false,removeAfterClose:false})};var addToDefaultPortfolio=function(){pm.addSymbols({symbols:opt.tickerSlug.toLowerCase(),oncomplete:opt.onAddToDefaultSuccess,alerts:opt.autoAlerts?"rta_articles,rta_market_currents":
""})};var init=function(){var portfolioCount=SA.Data.User.portfolioCount();if(portfolioCount<2)addToDefaultPortfolio();else setPortfolioPopup(portfolioCount);SA.Logger.Mone.event("portfolio_add",source+"_portfolio_button","clicked",{data:{ticker:opt.tickerSlug,user_id:userId.toString()}})};SA.run(init,"add-ticker-to-portfolio")}})(window.SA,window.jQuery);
(function(){var scope=SA.UsingNamespace("SA.Utils.AuthenticationHelpers");scope.addLoader=function(btn){btn.addClass("sa-animated")};scope.removeLoader=function(btn){btn.removeClass("sa-animated")};scope.markWithError=function(input,errorContainer,error){input.closest(".form-group").removeClass("has-success").addClass("has-error");if(error){scope.showError(errorContainer,error);input.focus()}};scope.markWithSuccess=function(input,errorContainer){input.closest(".form-group").removeClass("has-error").addClass("has-success");
errorContainer.empty()};scope.showError=function(errorContainer,text){if(errorContainer.html()!==text)errorContainer.removeClass("hidden").html(text)};scope.hideErrors=function(errorContainer){errorContainer.addClass("hidden").empty()};scope.errorPopup=function(message,header,modal){if(modal)modal.hide();return SA.Widgets.Popup.build({className:"sa-auth-error",backdrop:true,keyboard:true,showHeader:true,headerContent:"<h4>"+header+"</h4>",showCloseBtn:true,showBody:true,bodyContent:message,showFooter:false,
removeAfterClose:true}).show()};scope.rbErrorPopup=function(message,header,modal){if(modal)modal.hide();return SA.Widgets.Popup.build({className:"sa-auth-error",showHeader:true,showCloseBtn:false,backdrop:false,keyboard:false,headerContent:"<h4>"+header+"</h4>",showBody:true,bodyContent:message,showFooter:false,removeAfterClose:true}).show()};scope.errorPopup=function(message,header,modal){if(modal)modal.hide();return SA.Widgets.Popup.build({className:"sa-auth-error",showHeader:true,showCloseBtn:true,
backdrop:false,keyboard:true,showBody:true,bodyContent:message,headerContent:"",showFooter:false,removeAfterClose:true}).show()};scope.validate=function(rule,input,errorContainer,error){if(rule){scope.markWithSuccess(input,errorContainer);return true}scope.markWithError(input,errorContainer,error);return false};scope.validatePresence=function(input,errorContainer,error){return scope.validate(SA.Utils.Validate.required(input),input,errorContainer,error)};scope.validateEmailValue=function(input,errorContainer,
error){return scope.validate(SA.Utils.Validate.email(input.val().trim()),input,errorContainer,error)};scope.validateEmail=function(input,errorContainer,error){return scope.validatePresence(input,errorContainer,error)&&scope.validateEmailValue(input,errorContainer,error)};scope.validateSignInPasswordValue=function(input,errorContainer,error){return scope.validate(SA.Utils.Validate.between(input.val().split(" ").join("").trim(),4,40),input,errorContainer,error)};scope.validateSignInPassword=function(input,
errorContainer,error){return scope.validatePresence(input,errorContainer,error)&&scope.validateSignInPasswordValue(input,errorContainer,error)};scope.validateTerms=function(input,errorContainer,error){return scope.validate(input.prop("checked"),input,errorContainer,error)};scope.validateMinTickers=function(input,errorContainer,error){var missingTickers=0;$.map(input,function(i){return scope.validatePresence($(i),errorContainer,error)||missingTickers++});return missingTickers===0}})();
(function(){this.JST||(this.JST={});this.JST["jst/widgets/add_ticker_to_portfolio/logged_out_get_alerts"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="t_to_p ch_p_cont logged-out-get-alerts-container hidden-print">\n  <div class="add_title">To get email alerts on <strong>',symbol.toUpperCase(),'</strong>, simply fill in your email:</div>\n  <input id="promotion_box_email" emailautofill="on" class="promotion_box_email" spellcheck="false" autocomplete="on" style="color: rgb(0, 0, 0);">\n  <div class="login-and-register hidden">\n    <div class="green">You\'ve already registered with this email. Please enter your password to continue:</div>\n    <input type="password" id="promotion_box_password" class="promotion_box_password default_text" autocomplete="off" style="color: rgb(141, 141, 141);">\n  </div>\n  <div class="m_pop_error hidden" id="get_alerts_error"></div>\n  <div class="btn-container">\n    <div class="get-alerts-btn">\n      Get Alerts\n    </div>\n  </div>\n</div>\n');
return __p.join("")}}).call(this);
(function(){var scope=SA.UsingNamespace("SA.Widgets");scope.LoggedOutGetAlerts=new function(){var symbol,popup;var getError=function(error){var errors={defaultMessage:"There was an error. Please try again later",already_registered:"You are already registered, please sign in.",not_activated_not_bounced_user:"There is already a registration in progress for this email, if you did not receive the confirmation email, please ask your IT department or email provider to place seekingalpha.com in the whitelist and try to register again",not_activated_bounced_user:function(date){return"There is already a registration in progress for this email, but our confirmation email was blocked by your email provider as of "+
date+", we have attempted to remove the block and sent a password reset email to your inbox."},activated_bounced_user:function(date){return"This email already exists in our system, but was blocked by your email provider as of "+date+", we have attempted to remove the block and sent a password reset email to your inbox."}};return errors[error]||errors.defaultMessage};var getPopup=function(){return SA.Widgets.Popup.build({className:"add_to_portfolio_modal",backdrop:true,keyboard:true,showHeader:false,
showCloseBtn:true,showBody:true,bodyContent:JST["jst/widgets/add_ticker_to_portfolio/logged_out_get_alerts"]({symbol:symbol}),showFooter:false})};var register=function(){var params={"user[email]":getEmail(),rta_slugs:symbol,activity:"rta","function":"",id:"login",referrer:SA.pageConfig.referrer,url_source:location.href.replace(/\?.*$/,"")};$.ajax({type:"POST",url:"/authentication/registration",data:params,success:function(res){if(res.registration==true)registrationSuccess();else displayError(getError(res.message))},
dataType:"JSON"});SA.Logger.Mone.event("RTA","symbol_page","Registered",{data:{value:1,email:getEmail()}})};var registrationSuccess=function(){popup.hide();SA.Utils.Observer.publish("registration/success-popup",{email:getEmail(),showCloseBtn:true,fromRoadblock:false,headerContent:"<h4>Thanks for registering to Seeking Alpha real-time email alerts.</h4>"});SA.Logger.Mone.event("RTA","symbol_rta_button_thank_you_reg","popup_shown");SA.Logger.Mone.event("RTA","symbol_page","registered",{date:{email:getEmail(),
number_of_tickers:1,tickers:symbol,alerts:true,login:false}})};var verifyEmail=function(){SA.Models.Authentication.checkEmail({email:getEmail(),onSuccess:onCheckEmailSuccess,onFailure:onCheckEmailFailure})};var onCheckEmailSuccess=function(res){res.user_exists?displayLogin():register()};var onCheckEmailFailure=function(res){displayError("Use a valid email")};var loginFailed=function(){SA.Logger.Mone.event("RTA","symbol_page","Login err: login_failed");displayError("Login failed")};var loginSuccess=
function(){SA.Logger.Mone.event("RTA","symbol_page","Login success");location.reload()};var displayError=function(msg){SA.Logger.Mone.event("RTA","symbol_page","error_message",{data:{email:getEmail(),error_message:msg}});$("#get_alerts_error").html(msg);$("#get_alerts_error").removeClass("hidden")};var displayLogin=function(){SA.Logger.Mone.event("RTA","symbol_page","login_shown",{data:{email:getEmail()}});$(".get-alerts-btn").addClass("login-register-btn");$(".login-register-btn").removeClass("get-alerts-btn");
$(".login-and-register").removeClass("hidden")};var loginRegister=function(){SA.Logger.Mone.event("RTA","symbol_page","Login try");SA.Models.Authentication.logIn({id:"symbol",activity:"roadblock","function":"onSigninSuccess",email:getEmail(),password:$("#promotion_box_password").val(),rtaAddAlerts:1,rtaSource:"symbol",author_tag_id_to_follow:"",primaryTicker:symbol,rtaSlugs:symbol,onSuccess:function(res){res.login?loginSuccess():loginFailed()},onFailure:function(){loginFailed()},backdrop:false})};
var getEmail=function(){return $("#promotion_box_email").val().trim()};var initEvents=function(){$("body").on("click",".get-alerts-btn",function(){var validation=verifyEmail();if(validation=="success")register();else if(validation=="already-exists"){SA.Logger.Mone.event("RTA","symbol_page","Reg err: already_registered");SA.Logger.Mone.event("RTA","symbol_page","existing_user",{data:{email:getEmail()}});displayLogin()}}).on("click",".login-register-btn",function(){loginRegister()})};this.init=function(opt){symbol=
opt.symbol;popup=getPopup();initEvents()};this.show=function(){SA.Logger.Mone.event("RTA","symbol_page","popup_shown",{data:{slug:symbol}});popup.show()}}})();
(function(){this.JST||(this.JST={});this.JST["jst/widgets/symbols/add_to_default_portfolio"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="add-to-default-portfolio">\n  <div class="title">Do you also want to get email alerts on <b>',slug.toUpperCase(),'</b>?</div>\n  <div class="buttons-container">\n    <div class="default-get-alerts-btn">Get Alerts</div>\n    <div class="no-thanks">No Thanks</div>\n  </div>\n</div>\n');return __p.join("")}}).call(this);
(function(SA,$){var userData=SA.Data.User;var slug,$addButton=$(".button_add_to_portfolio"),$followersCount=$("#followers-count");var loggedOutGetAlerts=SA.Widgets.LoggedOutGetAlerts;var initData=function(){getButtonData();getFollowerCounts()};var onAddToDefaultSuccess=function(){hideButton();var popup=SA.Widgets.Popup.build({className:"add_to_portfolio_modal",backdrop:true,keyboard:true,showHeader:false,showCloseBtn:false,showBody:true,bodyContent:JST["jst/widgets/symbols/add_to_default_portfolio"]({slug:slug}),
showFooter:false,removeAfterClose:false});popup.show();$("body").on("click",".no-thanks",function(){SA.Logger.Mone.event("alerts_add","symbol_portfolio_button","clicked_no_thanks",{data:{ticker:slug,user_id:SA.Data.User.id()}});popup.hide()}).on("click",".default-get-alerts-btn",function(){popup.hide();getAlerts()})};var initEvents=function(){$(".add_to_portfolio").on("click",function(){SA.Widgets.AddTickerToPortfolio.init({tickerSlug:slug,container:$addButton,cb:hideButton,onAddToDefaultSuccess:onAddToDefaultSuccess,
source:"symbol"})});$(".get_alerts").on("click",getAlerts);$(".logged_out_get_alerts").on("click",function(){loggedOutGetAlerts.show()})};var getAlerts=function(){SA.Logger.Mone.event("RTA","symbol_rta_button","shown",{data:{ticker:slug,user_id:SA.Data.User.id()}});$.post("/account/ajax_subscribe_to_tags",{tags:slug,modes:"rta_articles, rta_market_currents",source:"symbol_pages"},function(){$addButton.remove();var title="<h4> You have successfully subscribed to real-time alerts!</h4>";var body="<div>The ticker you selected has been added to your portfolio.</div>"+
'<div style="padding-top:10px"><span class="update_email" style="color:#024999">[<a href="/account/account_preferences">Update email address</a>]</span></div></div>';SA.Widgets.Popup.build({headerContent:title,bodyContent:body,removeAfterClose:true}).show();SA.Logger.Mone.event("RTA","symbol_rta_button_thank_you_subscript","popup_shown",{});SA.Logger.Mone.event("RTA","symbol_rta_button","ticker_added",{data:{number_of_tickers:1,tickers:slug,alerts:true,login:true}})})};var hideButton=function(){$addButton.remove()};
var getButtonData=function(){if(!SA.Data.User.loggedIn())$addButton.html("Get Alerts").addClass("logged_out_get_alerts");else if(userData.getPortfolioTickers().split(",").indexOf(slug)===-1)$addButton.html("Add to Portfolio").addClass("add_to_portfolio");else if(userData.getRTASymbols().indexOf(slug)===-1)$addButton.html("Get Alerts").addClass("get_alerts");else $addButton.remove();$("#portfolio-data-container").removeClass("hidden");SA.Logger.Mone.event("portfolio_add","symbol_portfolio_button",
"shown",{data:{ticker:slug,user_id:SA.Data.User.id()}})};var getFollowerCounts=function(){SA.Models.StockModel.getSubscribeData(slug,setFollowerCounts)};var setFollowerCounts=function(data){var count=SA.Utils.Formatter.number(data.portfolio_count.split(",").join(""),{decimals:false});$followersCount.html(count+(count==="1"?" follower":" followers"))};(function(){slug=SA.pageConfig.Data.slug||"";initData();loggedOutGetAlerts.init({symbol:slug});initEvents()})()})(window.SA,window.jQuery);
(function(SA,$){(function(){if(location.pathname.indexOf("/chart")===-1&&SA.Data.User.isPro())$("#content_section").on("click",".summaries-wrapper",function(){$(".summary_content, .general_summary > ul").toggle();$(".summaries-wrapper span").toggleClass("shown")})})()})(window.SA,window.jQuery);
(function(w,SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.Holdings=function(){var $container,holdingsCount=w.holdingsCount,data=w.holdingsData,startingDeg=-90,EMPTY_CIRCLE_COLOR="#3498DB";function getCoordinates(elem){return{x:50+50*Math.cos(elem),y:50+50*Math.sin(elem)}}function createSvg(tagName,attributes){var svg=document.createElementNS("http://www.w3.org/2000/svg",tagName);if(attributes)$.each(attributes,function(k,v){svg.setAttribute(k,v)});return svg}function getEmptyCircle(){var svg=
createSvg("svg",{"height":204,"width":204});document.body.appendChild(svg);var circles=createSvg("circle",{"cx":100,"cy":100,"r":100,"fill":EMPTY_CIRCLE_COLOR});svg.appendChild(circles);return svg}function insertSVG(){var svg=createSvg("svg",{"class":"pieChart","viewBox":"0 0 100 100","preserveAspectRatio":"none","height":"100%","width":"100%"});$container.append(svg);return svg}function getRadians(){var sum=data.reduce(function(prev,current){return(prev.value?prev.value*1:prev)+current.value*1});
var factor=2*Math.PI/sum;data.forEach(function(pieceOfData,index){data[index]["radians"]=factor*pieceOfData.value}.bind(this))}function plot(pieceOfData,index){var path=createSvg("path",{"class":"sector","fill":pieceOfData.col,"d":calculatePath.call(this,pieceOfData.radians)});this.svg.appendChild(path);data[index]["path"]=path}function calculatePath(radInc){this.aggArch+=radInc;var large=radInc>Math.PI?1:0,sweep=1;var endPoint=getCoordinates(this.aggArch);var d=["M"+this.currentPoint.x,this.currentPoint.y,
"A",50,50,"1",large,sweep,endPoint.x,endPoint.y,"L",50,50,"Z"].join(" ");this.currentPoint=endPoint;return d}var draw=function(){if(holdingsCount===0&&data[0].value==="100"){$container.append(getEmptyCircle());return}window.svg=insertSVG.call(this);getRadians.call(this);window.aggArch=startingDeg?startingDeg*2*Math.PI/360:0;window.currentPoint=getCoordinates(window.aggArch);data.forEach(plot.bind(window))};this.showContent=function(){$container=$(".m-holdings-chart").first();draw()};this.init=function(){data=
data.filter(String)}}})(window,window.SA,window.jQuery);
(function(w,SA,$){var scope=SA.UsingNamespace("SA.Pages.Symbols");scope.Index=new function(){var $container,pageData,symbolHeader,qmChartData,tabsManager;var processData=function(data){data.div_grow_rate3=(Math.pow(data.div_grow_rate3/100+1,1/3)-1)*100;data.div_grow_rate=(Math.pow(data.div_grow_rate/100+1,1/5)-1)*100;return data};var initSymbolData=function(){w.SymbolData={handle_data:function(symbol,data){data=processData(data);SA.Pages.Symbols.SymbolInfo.set(symbol,data,pageData.refreshRate);if(tabsManager)tabsManager.updateData(data)},
handle_no_data:qmChartData.onFail};refreshSymbolData()};var refreshSymbolData=function(){SA.Utils.SymbolData.getFromSuperQuotes([pageData.slug],function(superQ){if(superQ){var data=superQ[pageData.slug];symbolHeader.updateData(data);qmChartData.updateData(data)}});SA.Utils.SymbolData.getSymbolData(pageData.slug);setTimeout(refreshSymbolData,(pageData.refreshRate||60)*1E3)};var sponsoredArticleAdBackfill=function(){if($container.length){$container.removeClass("hidden");SA.Logger.Mone.event("symbol_page",
"pro_research","displayed")}};var recommendationSourceEvent=function(){var sourceData=SA.Data.Cookies.get("from_ticker_rec");if(sourceData&&sourceData.length){SA.Logger.Mone.event("jaccard_similarity","ticker_recommendations","clicked",{data:JSON.parse(sourceData)});SA.Data.Cookies.del("from_ticker_rec")}};this.sponsoredArticleAdBackfill=sponsoredArticleAdBackfill;var init=function(){SA.Logger.Mone.event(w.inLeftMenuAbTest?"left_rail_menu":"center_rail_menu",null,"shown");pageData=SA.pageConfig.Data||
{};$container=$("#pro-research-container");symbolHeader=new SA.Pages.Symbols.Header;new SA.Pages.Symbols.QmChart;qmChartData=new SA.Pages.Symbols.QmChartData({isMF:pageData.qmChartData.isMF});if(location.pathname.indexOf("/chart")===-1)tabsManager=new SA.Pages.Symbols.TabsManager({slug:pageData.slug,slugDesc:pageData.object.content,ads:pageData.ads});else $("#content_section").show();recommendationSourceEvent();initSymbolData();if(SA.Data.User.isPro())sponsoredArticleAdBackfill()};SA.run(init,"init Symbol Page")}})(window,
window.SA,window.jQuery);
